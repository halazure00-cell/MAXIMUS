(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function n(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(u){if(u.ep)return;u.ep=!0;const c=n(u);fetch(u.href,c)}})();function Zv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yh={exports:{}},Fa={},Xh={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function nw(){if(Wm)return Oe;Wm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,P={};function N(D,q,ye){this.props=D,this.context=q,this.refs=P,this.updater=ye||E}N.prototype.isReactComponent={},N.prototype.setState=function(D,q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,q,"setState")},N.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function z(){}z.prototype=N.prototype;function U(D,q,ye){this.props=D,this.context=q,this.refs=P,this.updater=ye||E}var M=U.prototype=new z;M.constructor=U,C(M,N.prototype),M.isPureReactComponent=!0;var J=Array.isArray,G=Object.prototype.hasOwnProperty,te={current:null},ie={key:!0,ref:!0,__self:!0,__source:!0};function re(D,q,ye){var ge,de={},ae=null,Me=null;if(q!=null)for(ge in q.ref!==void 0&&(Me=q.ref),q.key!==void 0&&(ae=""+q.key),q)G.call(q,ge)&&!ie.hasOwnProperty(ge)&&(de[ge]=q[ge]);var Ae=arguments.length-2;if(Ae===1)de.children=ye;else if(1<Ae){for(var He=Array(Ae),Et=0;Et<Ae;Et++)He[Et]=arguments[Et+2];de.children=He}if(D&&D.defaultProps)for(ge in Ae=D.defaultProps,Ae)de[ge]===void 0&&(de[ge]=Ae[ge]);return{$$typeof:t,type:D,key:ae,ref:Me,props:de,_owner:te.current}}function Se(D,q){return{$$typeof:t,type:D.type,key:q,ref:D.ref,props:D.props,_owner:D._owner}}function Ne(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function Be(D){var q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ye){return q[ye]})}var Fe=/\/+/g;function kt(D,q){return typeof D=="object"&&D!==null&&D.key!=null?Be(""+D.key):q.toString(36)}function Xe(D,q,ye,ge,de){var ae=typeof D;(ae==="undefined"||ae==="boolean")&&(D=null);var Me=!1;if(D===null)Me=!0;else switch(ae){case"string":case"number":Me=!0;break;case"object":switch(D.$$typeof){case t:case e:Me=!0}}if(Me)return Me=D,de=de(Me),D=ge===""?"."+kt(Me,0):ge,J(de)?(ye="",D!=null&&(ye=D.replace(Fe,"$&/")+"/"),Xe(de,q,ye,"",function(Et){return Et})):de!=null&&(Ne(de)&&(de=Se(de,ye+(!de.key||Me&&Me.key===de.key?"":(""+de.key).replace(Fe,"$&/")+"/")+D)),q.push(de)),1;if(Me=0,ge=ge===""?".":ge+":",J(D))for(var Ae=0;Ae<D.length;Ae++){ae=D[Ae];var He=ge+kt(ae,Ae);Me+=Xe(ae,q,ye,He,de)}else if(He=b(D),typeof He=="function")for(D=He.call(D),Ae=0;!(ae=D.next()).done;)ae=ae.value,He=ge+kt(ae,Ae++),Me+=Xe(ae,q,ye,He,de);else if(ae==="object")throw q=String(D),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Me}function Vt(D,q,ye){if(D==null)return D;var ge=[],de=0;return Xe(D,ge,"","",function(ae){return q.call(ye,ae,de++)}),ge}function Ve(D){if(D._status===-1){var q=D._result;q=q(),q.then(function(ye){(D._status===0||D._status===-1)&&(D._status=1,D._result=ye)},function(ye){(D._status===0||D._status===-1)&&(D._status=2,D._result=ye)}),D._status===-1&&(D._status=0,D._result=q)}if(D._status===1)return D._result.default;throw D._result}var Pe={current:null},Z={transition:null},pe={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:te};function K(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Vt,forEach:function(D,q,ye){Vt(D,function(){q.apply(this,arguments)},ye)},count:function(D){var q=0;return Vt(D,function(){q++}),q},toArray:function(D){return Vt(D,function(q){return q})||[]},only:function(D){if(!Ne(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Oe.Component=N,Oe.Fragment=n,Oe.Profiler=u,Oe.PureComponent=U,Oe.StrictMode=o,Oe.Suspense=m,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Oe.act=K,Oe.cloneElement=function(D,q,ye){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var ge=C({},D.props),de=D.key,ae=D.ref,Me=D._owner;if(q!=null){if(q.ref!==void 0&&(ae=q.ref,Me=te.current),q.key!==void 0&&(de=""+q.key),D.type&&D.type.defaultProps)var Ae=D.type.defaultProps;for(He in q)G.call(q,He)&&!ie.hasOwnProperty(He)&&(ge[He]=q[He]===void 0&&Ae!==void 0?Ae[He]:q[He])}var He=arguments.length-2;if(He===1)ge.children=ye;else if(1<He){Ae=Array(He);for(var Et=0;Et<He;Et++)Ae[Et]=arguments[Et+2];ge.children=Ae}return{$$typeof:t,type:D.type,key:de,ref:ae,props:ge,_owner:Me}},Oe.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},Oe.createElement=re,Oe.createFactory=function(D){var q=re.bind(null,D);return q.type=D,q},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(D){return{$$typeof:p,render:D}},Oe.isValidElement=Ne,Oe.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:Ve}},Oe.memo=function(D,q){return{$$typeof:y,type:D,compare:q===void 0?null:q}},Oe.startTransition=function(D){var q=Z.transition;Z.transition={};try{D()}finally{Z.transition=q}},Oe.unstable_act=K,Oe.useCallback=function(D,q){return Pe.current.useCallback(D,q)},Oe.useContext=function(D){return Pe.current.useContext(D)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(D){return Pe.current.useDeferredValue(D)},Oe.useEffect=function(D,q){return Pe.current.useEffect(D,q)},Oe.useId=function(){return Pe.current.useId()},Oe.useImperativeHandle=function(D,q,ye){return Pe.current.useImperativeHandle(D,q,ye)},Oe.useInsertionEffect=function(D,q){return Pe.current.useInsertionEffect(D,q)},Oe.useLayoutEffect=function(D,q){return Pe.current.useLayoutEffect(D,q)},Oe.useMemo=function(D,q){return Pe.current.useMemo(D,q)},Oe.useReducer=function(D,q,ye){return Pe.current.useReducer(D,q,ye)},Oe.useRef=function(D){return Pe.current.useRef(D)},Oe.useState=function(D){return Pe.current.useState(D)},Oe.useSyncExternalStore=function(D,q,ye){return Pe.current.useSyncExternalStore(D,q,ye)},Oe.useTransition=function(){return Pe.current.useTransition()},Oe.version="18.3.1",Oe}var Hm;function gf(){return Hm||(Hm=1,Xh.exports=nw()),Xh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function rw(){if(Zm)return Fa;Zm=1;var t=gf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(p,m,y){var w,S={},b=null,E=null;y!==void 0&&(b=""+y),m.key!==void 0&&(b=""+m.key),m.ref!==void 0&&(E=m.ref);for(w in m)o.call(m,w)&&!c.hasOwnProperty(w)&&(S[w]=m[w]);if(p&&p.defaultProps)for(w in m=p.defaultProps,m)S[w]===void 0&&(S[w]=m[w]);return{$$typeof:e,type:p,key:b,ref:E,props:S,_owner:u.current}}return Fa.Fragment=n,Fa.jsx=h,Fa.jsxs=h,Fa}var Km;function iw(){return Km||(Km=1,Yh.exports=rw()),Yh.exports}var I=iw(),A=gf();const Ad=Zv(A);var Hu={},Qh={exports:{}},nn={},ed={exports:{}},td={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function sw(){return qm||(qm=1,(function(t){function e(Z,pe){var K=Z.length;Z.push(pe);e:for(;0<K;){var D=K-1>>>1,q=Z[D];if(0<u(q,pe))Z[D]=pe,Z[K]=q,K=D;else break e}}function n(Z){return Z.length===0?null:Z[0]}function o(Z){if(Z.length===0)return null;var pe=Z[0],K=Z.pop();if(K!==pe){Z[0]=K;e:for(var D=0,q=Z.length,ye=q>>>1;D<ye;){var ge=2*(D+1)-1,de=Z[ge],ae=ge+1,Me=Z[ae];if(0>u(de,K))ae<q&&0>u(Me,de)?(Z[D]=Me,Z[ae]=K,D=ae):(Z[D]=de,Z[ge]=K,D=ge);else if(ae<q&&0>u(Me,K))Z[D]=Me,Z[ae]=K,D=ae;else break e}}return pe}function u(Z,pe){var K=Z.sortIndex-pe.sortIndex;return K!==0?K:Z.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();t.unstable_now=function(){return h.now()-p}}var m=[],y=[],w=1,S=null,b=3,E=!1,C=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Z){for(var pe=n(y);pe!==null;){if(pe.callback===null)o(y);else if(pe.startTime<=Z)o(y),pe.sortIndex=pe.expirationTime,e(m,pe);else break;pe=n(y)}}function J(Z){if(P=!1,M(Z),!C)if(n(m)!==null)C=!0,Ve(G);else{var pe=n(y);pe!==null&&Pe(J,pe.startTime-Z)}}function G(Z,pe){C=!1,P&&(P=!1,z(re),re=-1),E=!0;var K=b;try{for(M(pe),S=n(m);S!==null&&(!(S.expirationTime>pe)||Z&&!Be());){var D=S.callback;if(typeof D=="function"){S.callback=null,b=S.priorityLevel;var q=D(S.expirationTime<=pe);pe=t.unstable_now(),typeof q=="function"?S.callback=q:S===n(m)&&o(m),M(pe)}else o(m);S=n(m)}if(S!==null)var ye=!0;else{var ge=n(y);ge!==null&&Pe(J,ge.startTime-pe),ye=!1}return ye}finally{S=null,b=K,E=!1}}var te=!1,ie=null,re=-1,Se=5,Ne=-1;function Be(){return!(t.unstable_now()-Ne<Se)}function Fe(){if(ie!==null){var Z=t.unstable_now();Ne=Z;var pe=!0;try{pe=ie(!0,Z)}finally{pe?kt():(te=!1,ie=null)}}else te=!1}var kt;if(typeof U=="function")kt=function(){U(Fe)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,Vt=Xe.port2;Xe.port1.onmessage=Fe,kt=function(){Vt.postMessage(null)}}else kt=function(){N(Fe,0)};function Ve(Z){ie=Z,te||(te=!0,kt())}function Pe(Z,pe){re=N(function(){Z(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){C||E||(C=!0,Ve(G))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Se=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var pe=3;break;default:pe=b}var K=b;b=pe;try{return Z()}finally{b=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,pe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var K=b;b=Z;try{return pe()}finally{b=K}},t.unstable_scheduleCallback=function(Z,pe,K){var D=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?D+K:D):K=D,Z){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=K+q,Z={id:w++,callback:pe,priorityLevel:Z,startTime:K,expirationTime:q,sortIndex:-1},K>D?(Z.sortIndex=K,e(y,Z),n(m)===null&&Z===n(y)&&(P?(z(re),re=-1):P=!0,Pe(J,K-D))):(Z.sortIndex=q,e(m,Z),C||E||(C=!0,Ve(G))),Z},t.unstable_shouldYield=Be,t.unstable_wrapCallback=function(Z){var pe=b;return function(){var K=b;b=pe;try{return Z.apply(this,arguments)}finally{b=K}}}})(td)),td}var Gm;function ow(){return Gm||(Gm=1,ed.exports=sw()),ed.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function aw(){if(Jm)return nn;Jm=1;var t=gf(),e=ow();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function c(r,s){h(r,s),h(r+"Capture",s)}function h(r,s){for(u[r]=s,r=0;r<s.length;r++)o.add(s[r])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},S={};function b(r){return m.call(S,r)?!0:m.call(w,r)?!1:y.test(r)?S[r]=!0:(w[r]=!0,!1)}function E(r,s,l,f){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,s,l,f){if(s===null||typeof s>"u"||E(r,s,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function P(r,s,l,f,v,_,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=v,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=_,this.removeEmptyString=T}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new P(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];N[s]=new P(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new P(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new P(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new P(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new P(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new P(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new P(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new P(r,5,!1,r.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function U(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(z,U);N[s]=new P(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(z,U);N[s]=new P(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(z,U);N[s]=new P(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new P(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new P(r,1,!1,r.toLowerCase(),null,!0,!0)});function M(r,s,l,f){var v=N.hasOwnProperty(s)?N[s]:null;(v!==null?v.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,l,v,f)&&(l=null),f||v===null?b(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):v.mustUseProperty?r[v.propertyName]=l===null?v.type===3?!1:"":l:(s=v.attributeName,f=v.attributeNamespace,l===null?r.removeAttribute(s):(v=v.type,l=v===3||v===4&&l===!0?"":""+l,f?r.setAttributeNS(f,s,l):r.setAttribute(s,l))))}var J=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),te=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),Se=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),Be=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),kt=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),Vt=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=Z&&r[Z]||r["@@iterator"],typeof r=="function"?r:null)}var K=Object.assign,D;function q(r){if(D===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);D=s&&s[1]||""}return`
`+D+r}var ye=!1;function ge(r,s){if(!r||ye)return"";ye=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var f=H}Reflect.construct(r,[],s)}else{try{s.call()}catch(H){f=H}r.call(s.prototype)}else{try{throw Error()}catch(H){f=H}r()}}catch(H){if(H&&f&&typeof H.stack=="string"){for(var v=H.stack.split(`
`),_=f.stack.split(`
`),T=v.length-1,R=_.length-1;1<=T&&0<=R&&v[T]!==_[R];)R--;for(;1<=T&&0<=R;T--,R--)if(v[T]!==_[R]){if(T!==1||R!==1)do if(T--,R--,0>R||v[T]!==_[R]){var j=`
`+v[T].replace(" at new "," at ");return r.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",r.displayName)),j}while(1<=T&&0<=R);break}}}finally{ye=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?q(r):""}function de(r){switch(r.tag){case 5:return q(r.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return r=ge(r.type,!1),r;case 11:return r=ge(r.type.render,!1),r;case 1:return r=ge(r.type,!0),r;default:return""}}function ae(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case ie:return"Fragment";case te:return"Portal";case Se:return"Profiler";case re:return"StrictMode";case kt:return"Suspense";case Xe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Be:return(r.displayName||"Context")+".Consumer";case Ne:return(r._context.displayName||"Context")+".Provider";case Fe:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Vt:return s=r.displayName||null,s!==null?s:ae(r.type)||"Memo";case Ve:s=r._payload,r=r._init;try{return ae(r(s))}catch{}}return null}function Me(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(s);case 8:return s===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ae(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function He(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Et(r){var s=He(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),f=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,_=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return v.call(this)},set:function(T){f=""+T,_.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Wr(r){r._valueTracker||(r._valueTracker=Et(r))}function Hr(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return r&&(f=He(r)?r.checked?"true":"false":r.value),r=f,r!==l?(s.setValue(r),!0):!1}function Zr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Fo(r,s){var l=s.checked;return K({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function $o(r,s){var l=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;l=Ae(s.value!=null?s.value:l),r._wrapperState={initialChecked:f,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Wo(r,s){s=s.checked,s!=null&&M(r,"checked",s,!1)}function Di(r,s){Wo(r,s);var l=Ae(s.value),f=s.type;if(l!=null)f==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ho(r,s.type,l):s.hasOwnProperty("defaultValue")&&Ho(r,s.type,Ae(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Bi(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Ho(r,s,l){(s!=="number"||Zr(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Kr=Array.isArray;function Xn(r,s,l,f){if(r=r.options,s){s={};for(var v=0;v<l.length;v++)s["$"+l[v]]=!0;for(l=0;l<r.length;l++)v=s.hasOwnProperty("$"+r[l].value),r[l].selected!==v&&(r[l].selected=v),v&&f&&(r[l].defaultSelected=!0)}else{for(l=""+Ae(l),s=null,v=0;v<r.length;v++){if(r[v].value===l){r[v].selected=!0,f&&(r[v].defaultSelected=!0);return}s!==null||r[v].disabled||(s=r[v])}s!==null&&(s.selected=!0)}}function ks(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Zo(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(Kr(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Ae(l)}}function bl(r,s){var l=Ae(s.value),f=Ae(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),f!=null&&(r.defaultValue=""+f)}function Tl(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Es(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ps(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Es(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var zi,kl=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,f,v){MSApp.execUnsafeLocalFunction(function(){return r(s,l,f,v)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(zi=zi||document.createElement("div"),zi.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=zi.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function qr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pc=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(r){Pc.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Gr[s]=Gr[r]})});function Ko(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Gr.hasOwnProperty(r)&&Gr[r]?(""+s).trim():s+"px"}function Cs(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var f=l.indexOf("--")===0,v=Ko(l,s[l],f);l==="float"&&(l="cssFloat"),f?r.setProperty(l,v):r[l]=v}}var El=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qo(r,s){if(s){if(El[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function fr(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Go=null;function Jo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Rs=null,pr=null,mr=null;function Pl(r){if(r=Pr(r)){if(typeof Rs!="function")throw Error(n(280));var s=r.stateNode;s&&(s=no(s),Rs(r.stateNode,r.type,s))}}function Cl(r){pr?mr?mr.push(r):mr=[r]:pr=r}function Rl(){if(pr){var r=pr,s=mr;if(mr=pr=null,Pl(r),s)for(r=0;r<s.length;r++)Pl(s[r])}}function Ll(r,s){return r(s)}function Al(){}var Yo=!1;function Ls(r,s,l){if(Yo)return r(s,l);Yo=!0;try{return Ll(r,s,l)}finally{Yo=!1,(pr!==null||mr!==null)&&(Al(),Rl())}}function Ui(r,s){var l=r.stateNode;if(l===null)return null;var f=no(l);if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var Xo=!1;if(p)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{Xo=!1}function Cc(r,s,l,f,v,_,T,R,j){var H=Array.prototype.slice.call(arguments,3);try{s.apply(l,H)}catch(Q){this.onError(Q)}}var Ot=!1,fe=null,Fi=!1,As=null,Ol={onError:function(r){Ot=!0,fe=r}};function Il(r,s,l,f,v,_,T,R,j){Ot=!1,fe=null,Cc.apply(Ol,arguments)}function Qo(r,s,l,f,v,_,T,R,j){if(Il.apply(this,arguments),Ot){if(Ot){var H=fe;Ot=!1,fe=null}else throw Error(n(198));Fi||(Fi=!0,As=H)}}function Qn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function gr(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function ea(r){if(Qn(r)!==r)throw Error(n(188))}function Rc(r){var s=r.alternate;if(!s){if(s=Qn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,f=s;;){var v=l.return;if(v===null)break;var _=v.alternate;if(_===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===l)return ea(v),r;if(_===f)return ea(v),s;_=_.sibling}throw Error(n(188))}if(l.return!==f.return)l=v,f=_;else{for(var T=!1,R=v.child;R;){if(R===l){T=!0,l=v,f=_;break}if(R===f){T=!0,f=v,l=_;break}R=R.sibling}if(!T){for(R=_.child;R;){if(R===l){T=!0,l=_,f=v;break}if(R===f){T=!0,f=_,l=v;break}R=R.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==f)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function Ml(r){return r=Rc(r),r!==null?Nl(r):null}function Nl(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Nl(r);if(s!==null)return s;r=r.sibling}return null}var jl=e.unstable_scheduleCallback,ta=e.unstable_cancelCallback,Lc=e.unstable_shouldYield,Os=e.unstable_requestPaint,et=e.unstable_now,Ac=e.unstable_getCurrentPriorityLevel,na=e.unstable_ImmediatePriority,Dl=e.unstable_UserBlockingPriority,Is=e.unstable_NormalPriority,ra=e.unstable_LowPriority,Jr=e.unstable_IdlePriority,$i=null,rn=null;function Wi(r){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot($i,r,void 0,(r.current.flags&128)===128)}catch{}}var Re=Math.clz32?Math.clz32:Yr,Ge=Math.log,Ms=Math.LN2;function Yr(r){return r>>>=0,r===0?32:31-(Ge(r)/Ms|0)|0}var Nn=64,Xr=4194304;function Ce(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ze(r,s){var l=r.pendingLanes;if(l===0)return 0;var f=0,v=r.suspendedLanes,_=r.pingedLanes,T=l&268435455;if(T!==0){var R=T&~v;R!==0?f=Ce(R):(_&=T,_!==0&&(f=Ce(_)))}else T=l&~v,T!==0?f=Ce(T):_!==0&&(f=Ce(_));if(f===0)return 0;if(s!==0&&s!==f&&(s&v)===0&&(v=f&-f,_=s&-s,v>=_||v===16&&(_&4194240)!==0))return s;if((f&4)!==0&&(f|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=f;0<s;)l=31-Re(s),v=1<<l,f|=r[l],s&=~v;return f}function ia(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ns(r,s){for(var l=r.suspendedLanes,f=r.pingedLanes,v=r.expirationTimes,_=r.pendingLanes;0<_;){var T=31-Re(_),R=1<<T,j=v[T];j===-1?((R&l)===0||(R&f)!==0)&&(v[T]=ia(R,s)):j<=s&&(r.expiredLanes|=R),_&=~R}}function It(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Bl(){var r=Nn;return Nn<<=1,(Nn&4194240)===0&&(Nn=64),r}function Qr(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function sn(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Re(s),r[s]=l}function at(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<l;){var v=31-Re(l),_=1<<v;s[v]=0,f[v]=-1,r[v]=-1,l&=~_}}function jn(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var f=31-Re(l),v=1<<f;v&s|r[f]&s&&(r[f]|=s),l&=~v}}var je=0;function ei(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var js,vr,Ds,Bs,Hi,Zi=!1,ti=[],on=null,Dn=null,yn=null,Ki=new Map,ke=new Map,gt=[],$e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sa(r,s){switch(r){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":Ki.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ke.delete(s.pointerId)}}function yr(r,s,l,f,v,_){return r===null||r.nativeEvent!==_?(r={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:_,targetContainers:[v]},s!==null&&(s=Pr(s),s!==null&&vr(s)),r):(r.eventSystemFlags|=f,s=r.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),r)}function oa(r,s,l,f,v){switch(s){case"focusin":return on=yr(on,r,s,l,f,v),!0;case"dragenter":return Dn=yr(Dn,r,s,l,f,v),!0;case"mouseover":return yn=yr(yn,r,s,l,f,v),!0;case"pointerover":var _=v.pointerId;return Ki.set(_,yr(Ki.get(_)||null,r,s,l,f,v)),!0;case"gotpointercapture":return _=v.pointerId,ke.set(_,yr(ke.get(_)||null,r,s,l,f,v)),!0}return!1}function zs(r){var s=Er(r.target);if(s!==null){var l=Qn(s);if(l!==null){if(s=l.tag,s===13){if(s=gr(l),s!==null){r.blockedOn=s,Hi(r.priority,function(){Ds(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _n(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Fs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var f=new l.constructor(l.type,l);Go=f,l.target.dispatchEvent(f),Go=null}else return s=Pr(l),s!==null&&vr(s),r.blockedOn=l,!1;s.shift()}return!0}function Us(r,s,l){_n(r)&&l.delete(s)}function qi(){Zi=!1,on!==null&&_n(on)&&(on=null),Dn!==null&&_n(Dn)&&(Dn=null),yn!==null&&_n(yn)&&(yn=null),Ki.forEach(Us),ke.forEach(Us)}function tt(r,s){r.blockedOn===s&&(r.blockedOn=null,Zi||(Zi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qi)))}function an(r){function s(v){return tt(v,r)}if(0<ti.length){tt(ti[0],r);for(var l=1;l<ti.length;l++){var f=ti[l];f.blockedOn===r&&(f.blockedOn=null)}}for(on!==null&&tt(on,r),Dn!==null&&tt(Dn,r),yn!==null&&tt(yn,r),Ki.forEach(s),ke.forEach(s),l=0;l<gt.length;l++)f=gt[l],f.blockedOn===r&&(f.blockedOn=null);for(;0<gt.length&&(l=gt[0],l.blockedOn===null);)zs(l),l.blockedOn===null&&gt.shift()}var _r=J.ReactCurrentBatchConfig,Gi=!0;function Oc(r,s,l,f){var v=je,_=_r.transition;_r.transition=null;try{je=1,Ji(r,s,l,f)}finally{je=v,_r.transition=_}}function zl(r,s,l,f){var v=je,_=_r.transition;_r.transition=null;try{je=4,Ji(r,s,l,f)}finally{je=v,_r.transition=_}}function Ji(r,s,l,f){if(Gi){var v=Fs(r,s,l,f);if(v===null)i(r,s,f,Vs,l),sa(r,f);else if(oa(v,r,s,l,f))f.stopPropagation();else if(sa(r,f),s&4&&-1<$e.indexOf(r)){for(;v!==null;){var _=Pr(v);if(_!==null&&js(_),_=Fs(r,s,l,f),_===null&&i(r,s,f,Vs,l),_===v)break;v=_}v!==null&&f.stopPropagation()}else i(r,s,f,null,l)}}var Vs=null;function Fs(r,s,l,f){if(Vs=null,r=Jo(f),r=Er(r),r!==null)if(s=Qn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=gr(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Vs=r,null}function Ie(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ac()){case na:return 1;case Dl:return 4;case Is:case ra:return 16;case Jr:return 536870912;default:return 16}default:return 16}}var er=null,Ft=null,tr=null;function aa(){if(tr)return tr;var r,s=Ft,l=s.length,f,v="value"in er?er.value:er.textContent,_=v.length;for(r=0;r<l&&s[r]===v[r];r++);var T=l-r;for(f=1;f<=T&&s[l-f]===v[_-f];f++);return tr=v.slice(r,1<f?1-f:void 0)}function $s(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ni(){return!0}function Ul(){return!1}function Mt(r){function s(l,f,v,_,T){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ni:Ul,this.isPropagationStopped=Ul,this}return K(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),s}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=Mt(ri),wr=K({},ri,{view:0,detail:0}),Ic=Mt(wr),Gt,ua,ii,ln=K({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ii&&(ii&&r.type==="mousemove"?(Gt=r.screenX-ii.screenX,ua=r.screenY-ii.screenY):ua=Gt=0,ii=r),Gt)},movementY:function(r){return"movementY"in r?r.movementY:ua}}),ca=Mt(ln),Vl=K({},ln,{dataTransfer:0}),ha=Mt(Vl),Mc=K({},wr,{relatedTarget:0}),Ws=Mt(Mc),Fl=K({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Nc=Mt(Fl),jc=K({},ri,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),da=Mt(jc),Dc=K({},ri,{data:0}),fa=Mt(Dc),$l={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bc(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=xr[r])?!!s[r]:!1}function Sr(){return Bc}var Jt=K({},wr,{key:function(r){if(r.key){var s=$l[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=$s(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Hs[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(r){return r.type==="keypress"?$s(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$s(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Wl=Mt(Jt),Hl=K({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zl=Mt(Hl),pa=K({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),ma=Mt(pa),zc=K({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uc=Mt(zc),Kl=K({},ln,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Vc=Mt(Kl),un=[9,13,27,32],nr=p&&"CompositionEvent"in window,Yi=null;p&&"documentMode"in document&&(Yi=document.documentMode);var Bn=p&&"TextEvent"in window&&!Yi,ql=p&&(!nr||Yi&&8<Yi&&11>=Yi),br=" ",Gl=!1;function si(r,s){switch(r){case"keyup":return un.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var zn=!1;function Fc(r,s){switch(r){case"compositionend":return ga(s);case"keypress":return s.which!==32?null:(Gl=!0,br);case"textInput":return r=s.data,r===br&&Gl?null:r;default:return null}}function rr(r,s){if(zn)return r==="compositionend"||!nr&&si(r,s)?(r=aa(),tr=Ft=er=null,zn=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ql&&s.locale!=="ko"?null:s.data;default:return null}}var Zs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jl(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Zs[r.type]:s==="textarea"}function Ks(r,s,l,f){Cl(f),s=d(s,"onChange"),0<s.length&&(l=new la("onChange","change",null,l,f),r.push({event:l,listeners:s}))}var Xi=null,$t=null;function $c(r){ka(r,0)}function Un(r){var s=Cr(r);if(Hr(s))return r}function Wc(r,s){if(r==="change")return s}var wn=!1;if(p){var oi;if(p){var qs="oninput"in document;if(!qs){var Gs=document.createElement("div");Gs.setAttribute("oninput","return;"),qs=typeof Gs.oninput=="function"}oi=qs}else oi=!1;wn=oi&&(!document.documentMode||9<document.documentMode)}function Qi(){Xi&&(Xi.detachEvent("onpropertychange",Js),$t=Xi=null)}function Js(r){if(r.propertyName==="value"&&Un($t)){var s=[];Ks(s,$t,r,Jo(r)),Ls($c,s)}}function Ys(r,s,l){r==="focusin"?(Qi(),Xi=s,$t=l,Xi.attachEvent("onpropertychange",Js)):r==="focusout"&&Qi()}function ai(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Un($t)}function Xs(r,s){if(r==="click")return Un(s)}function va(r,s){if(r==="input"||r==="change")return Un(s)}function Yl(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var cn=typeof Object.is=="function"?Object.is:Yl;function ir(r,s){if(cn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!m.call(s,v)||!cn(r[v],s[v]))return!1}return!0}function Xl(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ya(r,s){var l=Xl(r);r=0;for(var f;l;){if(l.nodeType===3){if(f=r+l.textContent.length,r<=s&&f>=s)return{node:l,offset:s-r};r=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xl(l)}}function Ql(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Ql(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function _a(){for(var r=window,s=Zr();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Zr(r.document)}return s}function wa(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function xn(r){var s=_a(),l=r.focusedElem,f=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Ql(l.ownerDocument.documentElement,l)){if(f!==null&&wa(l)){if(s=f.start,r=f.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var v=l.textContent.length,_=Math.min(f.start,v);f=f.end===void 0?_:Math.min(f.end,v),!r.extend&&_>f&&(v=f,f=_,_=v),v=ya(l,_);var T=ya(l,f);v&&T&&(r.rangeCount!==1||r.anchorNode!==v.node||r.anchorOffset!==v.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(v.node,v.offset),r.removeAllRanges(),_>f?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Qs=p&&"documentMode"in document&&11>=document.documentMode,li=null,ui=null,es=null,eo=!1;function eu(r,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;eo||li==null||li!==Zr(f)||(f=li,"selectionStart"in f&&wa(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),es&&ir(es,f)||(es=f,f=d(ui,"onSelect"),0<f.length&&(s=new la("onSelect","select",null,s,l),r.push({event:s,listeners:f}),s.target=li)))}function sr(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var ci={animationend:sr("Animation","AnimationEnd"),animationiteration:sr("Animation","AnimationIteration"),animationstart:sr("Animation","AnimationStart"),transitionend:sr("Transition","TransitionEnd")},or={},xa={};p&&(xa=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function ts(r){if(or[r])return or[r];if(!ci[r])return r;var s=ci[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in xa)return or[r]=s[l];return r}var tu=ts("animationend"),Sn=ts("animationiteration"),Sa=ts("animationstart"),ba=ts("transitionend"),hi=new Map,nu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(r,s){hi.set(r,s),c(s,[r])}for(var Tr=0;Tr<nu.length;Tr++){var to=nu[Tr],ru=to.toLowerCase(),Hc=to[0].toUpperCase()+to.slice(1);hn(ru,"on"+Hc)}hn(tu,"onAnimationEnd"),hn(Sn,"onAnimationIteration"),hn(Sa,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(ba,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iu=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function Ta(r,s,l){var f=r.type||"unknown-event";r.currentTarget=l,Qo(f,s,void 0,r),r.currentTarget=null}function ka(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var f=r[l],v=f.event;f=f.listeners;e:{var _=void 0;if(s)for(var T=f.length-1;0<=T;T--){var R=f[T],j=R.instance,H=R.currentTarget;if(R=R.listener,j!==_&&v.isPropagationStopped())break e;Ta(v,R,H),_=j}else for(T=0;T<f.length;T++){if(R=f[T],j=R.instance,H=R.currentTarget,R=R.listener,j!==_&&v.isPropagationStopped())break e;Ta(v,R,H),_=j}}}if(Fi)throw r=As,Fi=!1,As=null,r}function We(r,s){var l=s[gi];l===void 0&&(l=s[gi]=new Set);var f=r+"__bubble";l.has(f)||(su(s,r,2,!1),l.add(f))}function Ea(r,s,l){var f=0;s&&(f|=4),su(l,r,f,s)}var ns="_reactListening"+Math.random().toString(36).slice(2);function fi(r){if(!r[ns]){r[ns]=!0,o.forEach(function(l){l!=="selectionchange"&&(iu.has(l)||Ea(l,!1,r),Ea(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ns]||(s[ns]=!0,Ea("selectionchange",!1,s))}}function su(r,s,l,f){switch(Ie(s)){case 1:var v=Oc;break;case 4:v=zl;break;default:v=Ji}l=v.bind(null,s,l,r),v=void 0,!Xo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?r.addEventListener(s,l,{capture:!0,passive:v}):r.addEventListener(s,l,!0):v!==void 0?r.addEventListener(s,l,{passive:v}):r.addEventListener(s,l,!1)}function i(r,s,l,f,v){var _=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var R=f.stateNode.containerInfo;if(R===v||R.nodeType===8&&R.parentNode===v)break;if(T===4)for(T=f.return;T!==null;){var j=T.tag;if((j===3||j===4)&&(j=T.stateNode.containerInfo,j===v||j.nodeType===8&&j.parentNode===v))return;T=T.return}for(;R!==null;){if(T=Er(R),T===null)return;if(j=T.tag,j===5||j===6){f=_=T;continue e}R=R.parentNode}}f=f.return}Ls(function(){var H=_,Q=Jo(l),ee=[];e:{var X=hi.get(r);if(X!==void 0){var oe=la,ce=r;switch(r){case"keypress":if($s(l)===0)break e;case"keydown":case"keyup":oe=Wl;break;case"focusin":ce="focus",oe=Ws;break;case"focusout":ce="blur",oe=Ws;break;case"beforeblur":case"afterblur":oe=Ws;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=ha;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=ma;break;case tu:case Sn:case Sa:oe=Nc;break;case ba:oe=Uc;break;case"scroll":oe=Ic;break;case"wheel":oe=Vc;break;case"copy":case"cut":case"paste":oe=da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Zl}var he=(s&4)!==0,ht=!he&&r==="scroll",F=he?X!==null?X+"Capture":null:X;he=[];for(var B=H,$;B!==null;){$=B;var ne=$.stateNode;if($.tag===5&&ne!==null&&($=ne,F!==null&&(ne=Ui(B,F),ne!=null&&he.push(a(B,ne,$)))),ht)break;B=B.return}0<he.length&&(X=new oe(X,ce,null,l,Q),ee.push({event:X,listeners:he}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",X&&l!==Go&&(ce=l.relatedTarget||l.fromElement)&&(Er(ce)||ce[Ue]))break e;if((oe||X)&&(X=Q.window===Q?Q:(X=Q.ownerDocument)?X.defaultView||X.parentWindow:window,oe?(ce=l.relatedTarget||l.toElement,oe=H,ce=ce?Er(ce):null,ce!==null&&(ht=Qn(ce),ce!==ht||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(oe=null,ce=H),oe!==ce)){if(he=ca,ne="onMouseLeave",F="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(he=Zl,ne="onPointerLeave",F="onPointerEnter",B="pointer"),ht=oe==null?X:Cr(oe),$=ce==null?X:Cr(ce),X=new he(ne,B+"leave",oe,l,Q),X.target=ht,X.relatedTarget=$,ne=null,Er(Q)===H&&(he=new he(F,B+"enter",ce,l,Q),he.target=$,he.relatedTarget=ht,ne=he),ht=ne,oe&&ce)t:{for(he=oe,F=ce,B=0,$=he;$;$=g($))B++;for($=0,ne=F;ne;ne=g(ne))$++;for(;0<B-$;)he=g(he),B--;for(;0<$-B;)F=g(F),$--;for(;B--;){if(he===F||F!==null&&he===F.alternate)break t;he=g(he),F=g(F)}he=null}else he=null;oe!==null&&x(ee,X,oe,he,!1),ce!==null&&ht!==null&&x(ee,ht,ce,he,!0)}}e:{if(X=H?Cr(H):window,oe=X.nodeName&&X.nodeName.toLowerCase(),oe==="select"||oe==="input"&&X.type==="file")var me=Wc;else if(Jl(X))if(wn)me=va;else{me=ai;var we=Ys}else(oe=X.nodeName)&&oe.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(me=Xs);if(me&&(me=me(r,H))){Ks(ee,me,l,Q);break e}we&&we(r,X,H),r==="focusout"&&(we=X._wrapperState)&&we.controlled&&X.type==="number"&&Ho(X,"number",X.value)}switch(we=H?Cr(H):window,r){case"focusin":(Jl(we)||we.contentEditable==="true")&&(li=we,ui=H,es=null);break;case"focusout":es=ui=li=null;break;case"mousedown":eo=!0;break;case"contextmenu":case"mouseup":case"dragend":eo=!1,eu(ee,l,Q);break;case"selectionchange":if(Qs)break;case"keydown":case"keyup":eu(ee,l,Q)}var xe;if(nr)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else zn?si(r,l)&&(Ee="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(ql&&l.locale!=="ko"&&(zn||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&zn&&(xe=aa()):(er=Q,Ft="value"in er?er.value:er.textContent,zn=!0)),we=d(H,Ee),0<we.length&&(Ee=new fa(Ee,r,null,l,Q),ee.push({event:Ee,listeners:we}),xe?Ee.data=xe:(xe=ga(l),xe!==null&&(Ee.data=xe)))),(xe=Bn?Fc(r,l):rr(r,l))&&(H=d(H,"onBeforeInput"),0<H.length&&(Q=new fa("onBeforeInput","beforeinput",null,l,Q),ee.push({event:Q,listeners:H}),Q.data=xe))}ka(ee,s)})}function a(r,s,l){return{instance:r,listener:s,currentTarget:l}}function d(r,s){for(var l=s+"Capture",f=[];r!==null;){var v=r,_=v.stateNode;v.tag===5&&_!==null&&(v=_,_=Ui(r,l),_!=null&&f.unshift(a(r,_,v)),_=Ui(r,s),_!=null&&f.push(a(r,_,v))),r=r.return}return f}function g(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function x(r,s,l,f,v){for(var _=s._reactName,T=[];l!==null&&l!==f;){var R=l,j=R.alternate,H=R.stateNode;if(j!==null&&j===f)break;R.tag===5&&H!==null&&(R=H,v?(j=Ui(l,_),j!=null&&T.unshift(a(l,j,R))):v||(j=Ui(l,_),j!=null&&T.push(a(l,j,R)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var k=/\r\n?/g,O=/\u0000|\uFFFD/g;function V(r){return(typeof r=="string"?r:""+r).replace(k,`
`).replace(O,"")}function W(r,s,l){if(s=V(s),V(r)!==s&&l)throw Error(n(425))}function Y(){}var se=null,_e=null;function Le(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vt=typeof setTimeout=="function"?setTimeout:void 0,dt=typeof clearTimeout=="function"?clearTimeout:void 0,Wt=typeof Promise=="function"?Promise:void 0,Nt=typeof queueMicrotask=="function"?queueMicrotask:typeof Wt<"u"?function(r){return Wt.resolve(null).then(r).catch(pi)}:vt;function pi(r){setTimeout(function(){throw r})}function Pa(r,s){var l=s,f=0;do{var v=l.nextSibling;if(r.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(f===0){r.removeChild(v),an(s);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=v}while(l);an(s)}function ar(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function ou(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var kr=Math.random().toString(36).slice(2),bn="__reactFiber$"+kr,mi="__reactProps$"+kr,Ue="__reactContainer$"+kr,gi="__reactEvents$"+kr,Zc="__reactListeners$"+kr,Kc="__reactHandles$"+kr;function Er(r){var s=r[bn];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Ue]||l[bn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=ou(r);r!==null;){if(l=r[bn])return l;r=ou(r)}return s}r=l,l=r.parentNode}return null}function Pr(r){return r=r[bn]||r[Ue],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Cr(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function no(r){return r[mi]||null}var qc=[],ro=-1;function vi(r){return{current:r}}function Je(r){0>ro||(r.current=qc[ro],qc[ro]=null,ro--)}function Ke(r,s){ro++,qc[ro]=r.current,r.current=s}var yi={},jt=vi(yi),Yt=vi(!1),rs=yi;function io(r,s){var l=r.type.contextTypes;if(!l)return yi;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var v={},_;for(_ in l)v[_]=s[_];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=v),v}function Xt(r){return r=r.childContextTypes,r!=null}function au(){Je(Yt),Je(jt)}function dp(r,s,l){if(jt.current!==yi)throw Error(n(168));Ke(jt,s),Ke(Yt,l)}function fp(r,s,l){var f=r.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var v in f)if(!(v in s))throw Error(n(108,Me(r)||"Unknown",v));return K({},l,f)}function lu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||yi,rs=jt.current,Ke(jt,r),Ke(Yt,Yt.current),!0}function pp(r,s,l){var f=r.stateNode;if(!f)throw Error(n(169));l?(r=fp(r,s,rs),f.__reactInternalMemoizedMergedChildContext=r,Je(Yt),Je(jt),Ke(jt,r)):Je(Yt),Ke(Yt,l)}var Rr=null,uu=!1,Gc=!1;function mp(r){Rr===null?Rr=[r]:Rr.push(r)}function x0(r){uu=!0,mp(r)}function _i(){if(!Gc&&Rr!==null){Gc=!0;var r=0,s=je;try{var l=Rr;for(je=1;r<l.length;r++){var f=l[r];do f=f(!0);while(f!==null)}Rr=null,uu=!1}catch(v){throw Rr!==null&&(Rr=Rr.slice(r+1)),jl(na,_i),v}finally{je=s,Gc=!1}}return null}var so=[],oo=0,cu=null,hu=0,Tn=[],kn=0,is=null,Lr=1,Ar="";function ss(r,s){so[oo++]=hu,so[oo++]=cu,cu=r,hu=s}function gp(r,s,l){Tn[kn++]=Lr,Tn[kn++]=Ar,Tn[kn++]=is,is=r;var f=Lr;r=Ar;var v=32-Re(f)-1;f&=~(1<<v),l+=1;var _=32-Re(s)+v;if(30<_){var T=v-v%5;_=(f&(1<<T)-1).toString(32),f>>=T,v-=T,Lr=1<<32-Re(s)+v|l<<v|f,Ar=_+r}else Lr=1<<_|l<<v|f,Ar=r}function Jc(r){r.return!==null&&(ss(r,1),gp(r,1,0))}function Yc(r){for(;r===cu;)cu=so[--oo],so[oo]=null,hu=so[--oo],so[oo]=null;for(;r===is;)is=Tn[--kn],Tn[kn]=null,Ar=Tn[--kn],Tn[kn]=null,Lr=Tn[--kn],Tn[kn]=null}var dn=null,fn=null,Qe=!1,Vn=null;function vp(r,s){var l=Rn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function yp(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,dn=r,fn=ar(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,dn=r,fn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=is!==null?{id:Lr,overflow:Ar}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Rn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,dn=r,fn=null,!0):!1;default:return!1}}function Xc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Qc(r){if(Qe){var s=fn;if(s){var l=s;if(!yp(r,s)){if(Xc(r))throw Error(n(418));s=ar(l.nextSibling);var f=dn;s&&yp(r,s)?vp(f,l):(r.flags=r.flags&-4097|2,Qe=!1,dn=r)}}else{if(Xc(r))throw Error(n(418));r.flags=r.flags&-4097|2,Qe=!1,dn=r}}}function _p(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;dn=r}function du(r){if(r!==dn)return!1;if(!Qe)return _p(r),Qe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Le(r.type,r.memoizedProps)),s&&(s=fn)){if(Xc(r))throw wp(),Error(n(418));for(;s;)vp(r,s),s=ar(s.nextSibling)}if(_p(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){fn=ar(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}fn=null}}else fn=dn?ar(r.stateNode.nextSibling):null;return!0}function wp(){for(var r=fn;r;)r=ar(r.nextSibling)}function ao(){fn=dn=null,Qe=!1}function eh(r){Vn===null?Vn=[r]:Vn.push(r)}var S0=J.ReactCurrentBatchConfig;function Ca(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var f=l.stateNode}if(!f)throw Error(n(147,r));var v=f,_=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(T){var R=v.refs;T===null?delete R[_]:R[_]=T},s._stringRef=_,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function fu(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function xp(r){var s=r._init;return s(r._payload)}function Sp(r){function s(F,B){if(r){var $=F.deletions;$===null?(F.deletions=[B],F.flags|=16):$.push(B)}}function l(F,B){if(!r)return null;for(;B!==null;)s(F,B),B=B.sibling;return null}function f(F,B){for(F=new Map;B!==null;)B.key!==null?F.set(B.key,B):F.set(B.index,B),B=B.sibling;return F}function v(F,B){return F=Pi(F,B),F.index=0,F.sibling=null,F}function _(F,B,$){return F.index=$,r?($=F.alternate,$!==null?($=$.index,$<B?(F.flags|=2,B):$):(F.flags|=2,B)):(F.flags|=1048576,B)}function T(F){return r&&F.alternate===null&&(F.flags|=2),F}function R(F,B,$,ne){return B===null||B.tag!==6?(B=Hh($,F.mode,ne),B.return=F,B):(B=v(B,$),B.return=F,B)}function j(F,B,$,ne){var me=$.type;return me===ie?Q(F,B,$.props.children,ne,$.key):B!==null&&(B.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ve&&xp(me)===B.type)?(ne=v(B,$.props),ne.ref=Ca(F,B,$),ne.return=F,ne):(ne=Du($.type,$.key,$.props,null,F.mode,ne),ne.ref=Ca(F,B,$),ne.return=F,ne)}function H(F,B,$,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=Zh($,F.mode,ne),B.return=F,B):(B=v(B,$.children||[]),B.return=F,B)}function Q(F,B,$,ne,me){return B===null||B.tag!==7?(B=fs($,F.mode,ne,me),B.return=F,B):(B=v(B,$),B.return=F,B)}function ee(F,B,$){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Hh(""+B,F.mode,$),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case G:return $=Du(B.type,B.key,B.props,null,F.mode,$),$.ref=Ca(F,null,B),$.return=F,$;case te:return B=Zh(B,F.mode,$),B.return=F,B;case Ve:var ne=B._init;return ee(F,ne(B._payload),$)}if(Kr(B)||pe(B))return B=fs(B,F.mode,$,null),B.return=F,B;fu(F,B)}return null}function X(F,B,$,ne){var me=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return me!==null?null:R(F,B,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case G:return $.key===me?j(F,B,$,ne):null;case te:return $.key===me?H(F,B,$,ne):null;case Ve:return me=$._init,X(F,B,me($._payload),ne)}if(Kr($)||pe($))return me!==null?null:Q(F,B,$,ne,null);fu(F,$)}return null}function oe(F,B,$,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return F=F.get($)||null,R(B,F,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case G:return F=F.get(ne.key===null?$:ne.key)||null,j(B,F,ne,me);case te:return F=F.get(ne.key===null?$:ne.key)||null,H(B,F,ne,me);case Ve:var we=ne._init;return oe(F,B,$,we(ne._payload),me)}if(Kr(ne)||pe(ne))return F=F.get($)||null,Q(B,F,ne,me,null);fu(B,ne)}return null}function ce(F,B,$,ne){for(var me=null,we=null,xe=B,Ee=B=0,Tt=null;xe!==null&&Ee<$.length;Ee++){xe.index>Ee?(Tt=xe,xe=null):Tt=xe.sibling;var ze=X(F,xe,$[Ee],ne);if(ze===null){xe===null&&(xe=Tt);break}r&&xe&&ze.alternate===null&&s(F,xe),B=_(ze,B,Ee),we===null?me=ze:we.sibling=ze,we=ze,xe=Tt}if(Ee===$.length)return l(F,xe),Qe&&ss(F,Ee),me;if(xe===null){for(;Ee<$.length;Ee++)xe=ee(F,$[Ee],ne),xe!==null&&(B=_(xe,B,Ee),we===null?me=xe:we.sibling=xe,we=xe);return Qe&&ss(F,Ee),me}for(xe=f(F,xe);Ee<$.length;Ee++)Tt=oe(xe,F,Ee,$[Ee],ne),Tt!==null&&(r&&Tt.alternate!==null&&xe.delete(Tt.key===null?Ee:Tt.key),B=_(Tt,B,Ee),we===null?me=Tt:we.sibling=Tt,we=Tt);return r&&xe.forEach(function(Ci){return s(F,Ci)}),Qe&&ss(F,Ee),me}function he(F,B,$,ne){var me=pe($);if(typeof me!="function")throw Error(n(150));if($=me.call($),$==null)throw Error(n(151));for(var we=me=null,xe=B,Ee=B=0,Tt=null,ze=$.next();xe!==null&&!ze.done;Ee++,ze=$.next()){xe.index>Ee?(Tt=xe,xe=null):Tt=xe.sibling;var Ci=X(F,xe,ze.value,ne);if(Ci===null){xe===null&&(xe=Tt);break}r&&xe&&Ci.alternate===null&&s(F,xe),B=_(Ci,B,Ee),we===null?me=Ci:we.sibling=Ci,we=Ci,xe=Tt}if(ze.done)return l(F,xe),Qe&&ss(F,Ee),me;if(xe===null){for(;!ze.done;Ee++,ze=$.next())ze=ee(F,ze.value,ne),ze!==null&&(B=_(ze,B,Ee),we===null?me=ze:we.sibling=ze,we=ze);return Qe&&ss(F,Ee),me}for(xe=f(F,xe);!ze.done;Ee++,ze=$.next())ze=oe(xe,F,Ee,ze.value,ne),ze!==null&&(r&&ze.alternate!==null&&xe.delete(ze.key===null?Ee:ze.key),B=_(ze,B,Ee),we===null?me=ze:we.sibling=ze,we=ze);return r&&xe.forEach(function(tw){return s(F,tw)}),Qe&&ss(F,Ee),me}function ht(F,B,$,ne){if(typeof $=="object"&&$!==null&&$.type===ie&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case G:e:{for(var me=$.key,we=B;we!==null;){if(we.key===me){if(me=$.type,me===ie){if(we.tag===7){l(F,we.sibling),B=v(we,$.props.children),B.return=F,F=B;break e}}else if(we.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ve&&xp(me)===we.type){l(F,we.sibling),B=v(we,$.props),B.ref=Ca(F,we,$),B.return=F,F=B;break e}l(F,we);break}else s(F,we);we=we.sibling}$.type===ie?(B=fs($.props.children,F.mode,ne,$.key),B.return=F,F=B):(ne=Du($.type,$.key,$.props,null,F.mode,ne),ne.ref=Ca(F,B,$),ne.return=F,F=ne)}return T(F);case te:e:{for(we=$.key;B!==null;){if(B.key===we)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){l(F,B.sibling),B=v(B,$.children||[]),B.return=F,F=B;break e}else{l(F,B);break}else s(F,B);B=B.sibling}B=Zh($,F.mode,ne),B.return=F,F=B}return T(F);case Ve:return we=$._init,ht(F,B,we($._payload),ne)}if(Kr($))return ce(F,B,$,ne);if(pe($))return he(F,B,$,ne);fu(F,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,B!==null&&B.tag===6?(l(F,B.sibling),B=v(B,$),B.return=F,F=B):(l(F,B),B=Hh($,F.mode,ne),B.return=F,F=B),T(F)):l(F,B)}return ht}var lo=Sp(!0),bp=Sp(!1),pu=vi(null),mu=null,uo=null,th=null;function nh(){th=uo=mu=null}function rh(r){var s=pu.current;Je(pu),r._currentValue=s}function ih(r,s,l){for(;r!==null;){var f=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),r===l)break;r=r.return}}function co(r,s){mu=r,th=uo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Qt=!0),r.firstContext=null)}function En(r){var s=r._currentValue;if(th!==r)if(r={context:r,memoizedValue:s,next:null},uo===null){if(mu===null)throw Error(n(308));uo=r,mu.dependencies={lanes:0,firstContext:r}}else uo=uo.next=r;return s}var os=null;function sh(r){os===null?os=[r]:os.push(r)}function Tp(r,s,l,f){var v=s.interleaved;return v===null?(l.next=l,sh(s)):(l.next=v.next,v.next=l),s.interleaved=l,Or(r,f)}function Or(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var wi=!1;function oh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ir(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function xi(r,s,l){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(De&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,Or(r,l)}return v=f.interleaved,v===null?(s.next=s,sh(f)):(s.next=v.next,v.next=s),f.interleaved=s,Or(r,l)}function gu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var f=s.lanes;f&=r.pendingLanes,l|=f,s.lanes=l,jn(r,l)}}function Ep(r,s){var l=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?v=_=T:_=_.next=T,l=l.next}while(l!==null);_===null?v=_=s:_=_.next=s}else v=_=s;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:f.shared,effects:f.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function vu(r,s,l,f){var v=r.updateQueue;wi=!1;var _=v.firstBaseUpdate,T=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var j=R,H=j.next;j.next=null,T===null?_=H:T.next=H,T=j;var Q=r.alternate;Q!==null&&(Q=Q.updateQueue,R=Q.lastBaseUpdate,R!==T&&(R===null?Q.firstBaseUpdate=H:R.next=H,Q.lastBaseUpdate=j))}if(_!==null){var ee=v.baseState;T=0,Q=H=j=null,R=_;do{var X=R.lane,oe=R.eventTime;if((f&X)===X){Q!==null&&(Q=Q.next={eventTime:oe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ce=r,he=R;switch(X=s,oe=l,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){ee=ce.call(oe,ee,X);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,X=typeof ce=="function"?ce.call(oe,ee,X):ce,X==null)break e;ee=K({},ee,X);break e;case 2:wi=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,X=v.effects,X===null?v.effects=[R]:X.push(R))}else oe={eventTime:oe,lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Q===null?(H=Q=oe,j=ee):Q=Q.next=oe,T|=X;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;X=R,R=X.next,X.next=null,v.lastBaseUpdate=X,v.shared.pending=null}}while(!0);if(Q===null&&(j=ee),v.baseState=j,v.firstBaseUpdate=H,v.lastBaseUpdate=Q,s=v.shared.interleaved,s!==null){v=s;do T|=v.lane,v=v.next;while(v!==s)}else _===null&&(v.shared.lanes=0);us|=T,r.lanes=T,r.memoizedState=ee}}function Pp(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var f=r[s],v=f.callback;if(v!==null){if(f.callback=null,f=l,typeof v!="function")throw Error(n(191,v));v.call(f)}}}var Ra={},lr=vi(Ra),La=vi(Ra),Aa=vi(Ra);function as(r){if(r===Ra)throw Error(n(174));return r}function ah(r,s){switch(Ke(Aa,s),Ke(La,r),Ke(lr,Ra),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ps(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Ps(s,r)}Je(lr),Ke(lr,s)}function ho(){Je(lr),Je(La),Je(Aa)}function Cp(r){as(Aa.current);var s=as(lr.current),l=Ps(s,r.type);s!==l&&(Ke(La,r),Ke(lr,l))}function lh(r){La.current===r&&(Je(lr),Je(La))}var nt=vi(0);function yu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var uh=[];function ch(){for(var r=0;r<uh.length;r++)uh[r]._workInProgressVersionPrimary=null;uh.length=0}var _u=J.ReactCurrentDispatcher,hh=J.ReactCurrentBatchConfig,ls=0,rt=null,yt=null,St=null,wu=!1,Oa=!1,Ia=0,b0=0;function Dt(){throw Error(n(321))}function dh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!cn(r[l],s[l]))return!1;return!0}function fh(r,s,l,f,v,_){if(ls=_,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,_u.current=r===null||r.memoizedState===null?P0:C0,r=l(f,v),Oa){_=0;do{if(Oa=!1,Ia=0,25<=_)throw Error(n(301));_+=1,St=yt=null,s.updateQueue=null,_u.current=R0,r=l(f,v)}while(Oa)}if(_u.current=bu,s=yt!==null&&yt.next!==null,ls=0,St=yt=rt=null,wu=!1,s)throw Error(n(300));return r}function ph(){var r=Ia!==0;return Ia=0,r}function ur(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?rt.memoizedState=St=r:St=St.next=r,St}function Pn(){if(yt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var s=St===null?rt.memoizedState:St.next;if(s!==null)St=s,yt=r;else{if(r===null)throw Error(n(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},St===null?rt.memoizedState=St=r:St=St.next=r}return St}function Ma(r,s){return typeof s=="function"?s(r):s}function mh(r){var s=Pn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var f=yt,v=f.baseQueue,_=l.pending;if(_!==null){if(v!==null){var T=v.next;v.next=_.next,_.next=T}f.baseQueue=v=_,l.pending=null}if(v!==null){_=v.next,f=f.baseState;var R=T=null,j=null,H=_;do{var Q=H.lane;if((ls&Q)===Q)j!==null&&(j=j.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),f=H.hasEagerState?H.eagerState:r(f,H.action);else{var ee={lane:Q,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};j===null?(R=j=ee,T=f):j=j.next=ee,rt.lanes|=Q,us|=Q}H=H.next}while(H!==null&&H!==_);j===null?T=f:j.next=R,cn(f,s.memoizedState)||(Qt=!0),s.memoizedState=f,s.baseState=T,s.baseQueue=j,l.lastRenderedState=f}if(r=l.interleaved,r!==null){v=r;do _=v.lane,rt.lanes|=_,us|=_,v=v.next;while(v!==r)}else v===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function gh(r){var s=Pn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var f=l.dispatch,v=l.pending,_=s.memoizedState;if(v!==null){l.pending=null;var T=v=v.next;do _=r(_,T.action),T=T.next;while(T!==v);cn(_,s.memoizedState)||(Qt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,f]}function Rp(){}function Lp(r,s){var l=rt,f=Pn(),v=s(),_=!cn(f.memoizedState,v);if(_&&(f.memoizedState=v,Qt=!0),f=f.queue,vh(Ip.bind(null,l,f,r),[r]),f.getSnapshot!==s||_||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Na(9,Op.bind(null,l,f,v,s),void 0,null),bt===null)throw Error(n(349));(ls&30)!==0||Ap(l,s,v)}return v}function Ap(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Op(r,s,l,f){s.value=l,s.getSnapshot=f,Mp(s)&&Np(r)}function Ip(r,s,l){return l(function(){Mp(s)&&Np(r)})}function Mp(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!cn(r,l)}catch{return!0}}function Np(r){var s=Or(r,1);s!==null&&Hn(s,r,1,-1)}function jp(r){var s=ur();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:r},s.queue=r,r=r.dispatch=E0.bind(null,rt,r),[s.memoizedState,r]}function Na(r,s,l,f){return r={tag:r,create:s,destroy:l,deps:f,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(f=l.next,l.next=r,r.next=f,s.lastEffect=r)),r}function Dp(){return Pn().memoizedState}function xu(r,s,l,f){var v=ur();rt.flags|=r,v.memoizedState=Na(1|s,l,void 0,f===void 0?null:f)}function Su(r,s,l,f){var v=Pn();f=f===void 0?null:f;var _=void 0;if(yt!==null){var T=yt.memoizedState;if(_=T.destroy,f!==null&&dh(f,T.deps)){v.memoizedState=Na(s,l,_,f);return}}rt.flags|=r,v.memoizedState=Na(1|s,l,_,f)}function Bp(r,s){return xu(8390656,8,r,s)}function vh(r,s){return Su(2048,8,r,s)}function zp(r,s){return Su(4,2,r,s)}function Up(r,s){return Su(4,4,r,s)}function Vp(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Fp(r,s,l){return l=l!=null?l.concat([r]):null,Su(4,4,Vp.bind(null,s,r),l)}function yh(){}function $p(r,s){var l=Pn();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&dh(s,f[1])?f[0]:(l.memoizedState=[r,s],r)}function Wp(r,s){var l=Pn();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&dh(s,f[1])?f[0]:(r=r(),l.memoizedState=[r,s],r)}function Hp(r,s,l){return(ls&21)===0?(r.baseState&&(r.baseState=!1,Qt=!0),r.memoizedState=l):(cn(l,s)||(l=Bl(),rt.lanes|=l,us|=l,r.baseState=!0),s)}function T0(r,s){var l=je;je=l!==0&&4>l?l:4,r(!0);var f=hh.transition;hh.transition={};try{r(!1),s()}finally{je=l,hh.transition=f}}function Zp(){return Pn().memoizedState}function k0(r,s,l){var f=ki(r);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},Kp(r))qp(s,l);else if(l=Tp(r,s,l,f),l!==null){var v=Zt();Hn(l,r,f,v),Gp(l,s,f)}}function E0(r,s,l){var f=ki(r),v={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(Kp(r))qp(s,v);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var T=s.lastRenderedState,R=_(T,l);if(v.hasEagerState=!0,v.eagerState=R,cn(R,T)){var j=s.interleaved;j===null?(v.next=v,sh(s)):(v.next=j.next,j.next=v),s.interleaved=v;return}}catch{}finally{}l=Tp(r,s,v,f),l!==null&&(v=Zt(),Hn(l,r,f,v),Gp(l,s,f))}}function Kp(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function qp(r,s){Oa=wu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Gp(r,s,l){if((l&4194240)!==0){var f=s.lanes;f&=r.pendingLanes,l|=f,s.lanes=l,jn(r,l)}}var bu={readContext:En,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},P0={readContext:En,useCallback:function(r,s){return ur().memoizedState=[r,s===void 0?null:s],r},useContext:En,useEffect:Bp,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,xu(4194308,4,Vp.bind(null,s,r),l)},useLayoutEffect:function(r,s){return xu(4194308,4,r,s)},useInsertionEffect:function(r,s){return xu(4,2,r,s)},useMemo:function(r,s){var l=ur();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var f=ur();return s=l!==void 0?l(s):s,f.memoizedState=f.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},f.queue=r,r=r.dispatch=k0.bind(null,rt,r),[f.memoizedState,r]},useRef:function(r){var s=ur();return r={current:r},s.memoizedState=r},useState:jp,useDebugValue:yh,useDeferredValue:function(r){return ur().memoizedState=r},useTransition:function(){var r=jp(!1),s=r[0];return r=T0.bind(null,r[1]),ur().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var f=rt,v=ur();if(Qe){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),bt===null)throw Error(n(349));(ls&30)!==0||Ap(f,s,l)}v.memoizedState=l;var _={value:l,getSnapshot:s};return v.queue=_,Bp(Ip.bind(null,f,_,r),[r]),f.flags|=2048,Na(9,Op.bind(null,f,_,l,s),void 0,null),l},useId:function(){var r=ur(),s=bt.identifierPrefix;if(Qe){var l=Ar,f=Lr;l=(f&~(1<<32-Re(f)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ia++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=b0++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},C0={readContext:En,useCallback:$p,useContext:En,useEffect:vh,useImperativeHandle:Fp,useInsertionEffect:zp,useLayoutEffect:Up,useMemo:Wp,useReducer:mh,useRef:Dp,useState:function(){return mh(Ma)},useDebugValue:yh,useDeferredValue:function(r){var s=Pn();return Hp(s,yt.memoizedState,r)},useTransition:function(){var r=mh(Ma)[0],s=Pn().memoizedState;return[r,s]},useMutableSource:Rp,useSyncExternalStore:Lp,useId:Zp,unstable_isNewReconciler:!1},R0={readContext:En,useCallback:$p,useContext:En,useEffect:vh,useImperativeHandle:Fp,useInsertionEffect:zp,useLayoutEffect:Up,useMemo:Wp,useReducer:gh,useRef:Dp,useState:function(){return gh(Ma)},useDebugValue:yh,useDeferredValue:function(r){var s=Pn();return yt===null?s.memoizedState=r:Hp(s,yt.memoizedState,r)},useTransition:function(){var r=gh(Ma)[0],s=Pn().memoizedState;return[r,s]},useMutableSource:Rp,useSyncExternalStore:Lp,useId:Zp,unstable_isNewReconciler:!1};function Fn(r,s){if(r&&r.defaultProps){s=K({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function _h(r,s,l,f){s=r.memoizedState,l=l(f,s),l=l==null?s:K({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Tu={isMounted:function(r){return(r=r._reactInternals)?Qn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var f=Zt(),v=ki(r),_=Ir(f,v);_.payload=s,l!=null&&(_.callback=l),s=xi(r,_,v),s!==null&&(Hn(s,r,v,f),gu(s,r,v))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var f=Zt(),v=ki(r),_=Ir(f,v);_.tag=1,_.payload=s,l!=null&&(_.callback=l),s=xi(r,_,v),s!==null&&(Hn(s,r,v,f),gu(s,r,v))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Zt(),f=ki(r),v=Ir(l,f);v.tag=2,s!=null&&(v.callback=s),s=xi(r,v,f),s!==null&&(Hn(s,r,f,l),gu(s,r,f))}};function Jp(r,s,l,f,v,_,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,_,T):s.prototype&&s.prototype.isPureReactComponent?!ir(l,f)||!ir(v,_):!0}function Yp(r,s,l){var f=!1,v=yi,_=s.contextType;return typeof _=="object"&&_!==null?_=En(_):(v=Xt(s)?rs:jt.current,f=s.contextTypes,_=(f=f!=null)?io(r,v):yi),s=new s(l,_),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Tu,r.stateNode=s,s._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=v,r.__reactInternalMemoizedMaskedChildContext=_),s}function Xp(r,s,l,f){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==r&&Tu.enqueueReplaceState(s,s.state,null)}function wh(r,s,l,f){var v=r.stateNode;v.props=l,v.state=r.memoizedState,v.refs={},oh(r);var _=s.contextType;typeof _=="object"&&_!==null?v.context=En(_):(_=Xt(s)?rs:jt.current,v.context=io(r,_)),v.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(_h(r,s,_,l),v.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(s=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),s!==v.state&&Tu.enqueueReplaceState(v,v.state,null),vu(r,l,v,f),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308)}function fo(r,s){try{var l="",f=s;do l+=de(f),f=f.return;while(f);var v=l}catch(_){v=`
Error generating stack: `+_.message+`
`+_.stack}return{value:r,source:s,stack:v,digest:null}}function xh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Sh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var L0=typeof WeakMap=="function"?WeakMap:Map;function Qp(r,s,l){l=Ir(-1,l),l.tag=3,l.payload={element:null};var f=s.value;return l.callback=function(){Au||(Au=!0,Dh=f),Sh(r,s)},l}function em(r,s,l){l=Ir(-1,l),l.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var v=s.value;l.payload=function(){return f(v)},l.callback=function(){Sh(r,s)}}var _=r.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){Sh(r,s),typeof f!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function tm(r,s,l){var f=r.pingCache;if(f===null){f=r.pingCache=new L0;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(l)||(v.add(l),r=W0.bind(null,r,s,l),s.then(r,r))}function nm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function rm(r,s,l,f,v){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Ir(-1,1),s.tag=2,xi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=v,r)}var A0=J.ReactCurrentOwner,Qt=!1;function Ht(r,s,l,f){s.child=r===null?bp(s,null,l,f):lo(s,r.child,l,f)}function im(r,s,l,f,v){l=l.render;var _=s.ref;return co(s,v),f=fh(r,s,l,f,_,v),l=ph(),r!==null&&!Qt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~v,Mr(r,s,v)):(Qe&&l&&Jc(s),s.flags|=1,Ht(r,s,f,v),s.child)}function sm(r,s,l,f,v){if(r===null){var _=l.type;return typeof _=="function"&&!Wh(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=_,om(r,s,_,f,v)):(r=Du(l.type,null,f,s,s.mode,v),r.ref=s.ref,r.return=s,s.child=r)}if(_=r.child,(r.lanes&v)===0){var T=_.memoizedProps;if(l=l.compare,l=l!==null?l:ir,l(T,f)&&r.ref===s.ref)return Mr(r,s,v)}return s.flags|=1,r=Pi(_,f),r.ref=s.ref,r.return=s,s.child=r}function om(r,s,l,f,v){if(r!==null){var _=r.memoizedProps;if(ir(_,f)&&r.ref===s.ref)if(Qt=!1,s.pendingProps=f=_,(r.lanes&v)!==0)(r.flags&131072)!==0&&(Qt=!0);else return s.lanes=r.lanes,Mr(r,s,v)}return bh(r,s,l,f,v)}function am(r,s,l){var f=s.pendingProps,v=f.children,_=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(mo,pn),pn|=l;else{if((l&1073741824)===0)return r=_!==null?_.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(mo,pn),pn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:l,Ke(mo,pn),pn|=f}else _!==null?(f=_.baseLanes|l,s.memoizedState=null):f=l,Ke(mo,pn),pn|=f;return Ht(r,s,v,l),s.child}function lm(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function bh(r,s,l,f,v){var _=Xt(l)?rs:jt.current;return _=io(s,_),co(s,v),l=fh(r,s,l,f,_,v),f=ph(),r!==null&&!Qt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~v,Mr(r,s,v)):(Qe&&f&&Jc(s),s.flags|=1,Ht(r,s,l,v),s.child)}function um(r,s,l,f,v){if(Xt(l)){var _=!0;lu(s)}else _=!1;if(co(s,v),s.stateNode===null)Eu(r,s),Yp(s,l,f),wh(s,l,f,v),f=!0;else if(r===null){var T=s.stateNode,R=s.memoizedProps;T.props=R;var j=T.context,H=l.contextType;typeof H=="object"&&H!==null?H=En(H):(H=Xt(l)?rs:jt.current,H=io(s,H));var Q=l.getDerivedStateFromProps,ee=typeof Q=="function"||typeof T.getSnapshotBeforeUpdate=="function";ee||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==f||j!==H)&&Xp(s,T,f,H),wi=!1;var X=s.memoizedState;T.state=X,vu(s,f,T,v),j=s.memoizedState,R!==f||X!==j||Yt.current||wi?(typeof Q=="function"&&(_h(s,l,Q,f),j=s.memoizedState),(R=wi||Jp(s,l,R,f,X,j,H))?(ee||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=j),T.props=f,T.state=j,T.context=H,f=R):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{T=s.stateNode,kp(r,s),R=s.memoizedProps,H=s.type===s.elementType?R:Fn(s.type,R),T.props=H,ee=s.pendingProps,X=T.context,j=l.contextType,typeof j=="object"&&j!==null?j=En(j):(j=Xt(l)?rs:jt.current,j=io(s,j));var oe=l.getDerivedStateFromProps;(Q=typeof oe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==ee||X!==j)&&Xp(s,T,f,j),wi=!1,X=s.memoizedState,T.state=X,vu(s,f,T,v);var ce=s.memoizedState;R!==ee||X!==ce||Yt.current||wi?(typeof oe=="function"&&(_h(s,l,oe,f),ce=s.memoizedState),(H=wi||Jp(s,l,H,f,X,ce,j)||!1)?(Q||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,ce,j),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,ce,j)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=ce),T.props=f,T.state=ce,T.context=j,f=H):(typeof T.componentDidUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),f=!1)}return Th(r,s,l,f,_,v)}function Th(r,s,l,f,v,_){lm(r,s);var T=(s.flags&128)!==0;if(!f&&!T)return v&&pp(s,l,!1),Mr(r,s,_);f=s.stateNode,A0.current=s;var R=T&&typeof l.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,r!==null&&T?(s.child=lo(s,r.child,null,_),s.child=lo(s,null,R,_)):Ht(r,s,R,_),s.memoizedState=f.state,v&&pp(s,l,!0),s.child}function cm(r){var s=r.stateNode;s.pendingContext?dp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&dp(r,s.context,!1),ah(r,s.containerInfo)}function hm(r,s,l,f,v){return ao(),eh(v),s.flags|=256,Ht(r,s,l,f),s.child}var kh={dehydrated:null,treeContext:null,retryLane:0};function Eh(r){return{baseLanes:r,cachePool:null,transitions:null}}function dm(r,s,l){var f=s.pendingProps,v=nt.current,_=!1,T=(s.flags&128)!==0,R;if((R=T)||(R=r!==null&&r.memoizedState===null?!1:(v&2)!==0),R?(_=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(v|=1),Ke(nt,v&1),r===null)return Qc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=f.children,r=f.fallback,_?(f=s.mode,_=s.child,T={mode:"hidden",children:T},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=Bu(T,f,0,null),r=fs(r,f,l,null),_.return=s,r.return=s,_.sibling=r,s.child=_,s.child.memoizedState=Eh(l),s.memoizedState=kh,r):Ph(s,T));if(v=r.memoizedState,v!==null&&(R=v.dehydrated,R!==null))return O0(r,s,T,f,R,v,l);if(_){_=f.fallback,T=s.mode,v=r.child,R=v.sibling;var j={mode:"hidden",children:f.children};return(T&1)===0&&s.child!==v?(f=s.child,f.childLanes=0,f.pendingProps=j,s.deletions=null):(f=Pi(v,j),f.subtreeFlags=v.subtreeFlags&14680064),R!==null?_=Pi(R,_):(_=fs(_,T,l,null),_.flags|=2),_.return=s,f.return=s,f.sibling=_,s.child=f,f=_,_=s.child,T=r.child.memoizedState,T=T===null?Eh(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=r.childLanes&~l,s.memoizedState=kh,f}return _=r.child,r=_.sibling,f=Pi(_,{mode:"visible",children:f.children}),(s.mode&1)===0&&(f.lanes=l),f.return=s,f.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=f,s.memoizedState=null,f}function Ph(r,s){return s=Bu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ku(r,s,l,f){return f!==null&&eh(f),lo(s,r.child,null,l),r=Ph(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function O0(r,s,l,f,v,_,T){if(l)return s.flags&256?(s.flags&=-257,f=xh(Error(n(422))),ku(r,s,T,f)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(_=f.fallback,v=s.mode,f=Bu({mode:"visible",children:f.children},v,0,null),_=fs(_,v,T,null),_.flags|=2,f.return=s,_.return=s,f.sibling=_,s.child=f,(s.mode&1)!==0&&lo(s,r.child,null,T),s.child.memoizedState=Eh(T),s.memoizedState=kh,_);if((s.mode&1)===0)return ku(r,s,T,null);if(v.data==="$!"){if(f=v.nextSibling&&v.nextSibling.dataset,f)var R=f.dgst;return f=R,_=Error(n(419)),f=xh(_,f,void 0),ku(r,s,T,f)}if(R=(T&r.childLanes)!==0,Qt||R){if(f=bt,f!==null){switch(T&-T){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(f.suspendedLanes|T))!==0?0:v,v!==0&&v!==_.retryLane&&(_.retryLane=v,Or(r,v),Hn(f,r,v,-1))}return $h(),f=xh(Error(n(421))),ku(r,s,T,f)}return v.data==="$?"?(s.flags|=128,s.child=r.child,s=H0.bind(null,r),v._reactRetry=s,null):(r=_.treeContext,fn=ar(v.nextSibling),dn=s,Qe=!0,Vn=null,r!==null&&(Tn[kn++]=Lr,Tn[kn++]=Ar,Tn[kn++]=is,Lr=r.id,Ar=r.overflow,is=s),s=Ph(s,f.children),s.flags|=4096,s)}function fm(r,s,l){r.lanes|=s;var f=r.alternate;f!==null&&(f.lanes|=s),ih(r.return,s,l)}function Ch(r,s,l,f,v){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=l,_.tailMode=v)}function pm(r,s,l){var f=s.pendingProps,v=f.revealOrder,_=f.tail;if(Ht(r,s,f.children,l),f=nt.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&fm(r,l,s);else if(r.tag===19)fm(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(Ke(nt,f),(s.mode&1)===0)s.memoizedState=null;else switch(v){case"forwards":for(l=s.child,v=null;l!==null;)r=l.alternate,r!==null&&yu(r)===null&&(v=l),l=l.sibling;l=v,l===null?(v=s.child,s.child=null):(v=l.sibling,l.sibling=null),Ch(s,!1,v,l,_);break;case"backwards":for(l=null,v=s.child,s.child=null;v!==null;){if(r=v.alternate,r!==null&&yu(r)===null){s.child=v;break}r=v.sibling,v.sibling=l,l=v,v=r}Ch(s,!0,l,null,_);break;case"together":Ch(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Eu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Mr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),us|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=Pi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Pi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function I0(r,s,l){switch(s.tag){case 3:cm(s),ao();break;case 5:Cp(s);break;case 1:Xt(s.type)&&lu(s);break;case 4:ah(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,v=s.memoizedProps.value;Ke(pu,f._currentValue),f._currentValue=v;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(Ke(nt,nt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?dm(r,s,l):(Ke(nt,nt.current&1),r=Mr(r,s,l),r!==null?r.sibling:null);Ke(nt,nt.current&1);break;case 19:if(f=(l&s.childLanes)!==0,(r.flags&128)!==0){if(f)return pm(r,s,l);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Ke(nt,nt.current),f)break;return null;case 22:case 23:return s.lanes=0,am(r,s,l)}return Mr(r,s,l)}var mm,Rh,gm,vm;mm=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Rh=function(){},gm=function(r,s,l,f){var v=r.memoizedProps;if(v!==f){r=s.stateNode,as(lr.current);var _=null;switch(l){case"input":v=Fo(r,v),f=Fo(r,f),_=[];break;case"select":v=K({},v,{value:void 0}),f=K({},f,{value:void 0}),_=[];break;case"textarea":v=ks(r,v),f=ks(r,f),_=[];break;default:typeof v.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=Y)}qo(l,f);var T;l=null;for(H in v)if(!f.hasOwnProperty(H)&&v.hasOwnProperty(H)&&v[H]!=null)if(H==="style"){var R=v[H];for(T in R)R.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(u.hasOwnProperty(H)?_||(_=[]):(_=_||[]).push(H,null));for(H in f){var j=f[H];if(R=v!=null?v[H]:void 0,f.hasOwnProperty(H)&&j!==R&&(j!=null||R!=null))if(H==="style")if(R){for(T in R)!R.hasOwnProperty(T)||j&&j.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in j)j.hasOwnProperty(T)&&R[T]!==j[T]&&(l||(l={}),l[T]=j[T])}else l||(_||(_=[]),_.push(H,l)),l=j;else H==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,R=R?R.__html:void 0,j!=null&&R!==j&&(_=_||[]).push(H,j)):H==="children"?typeof j!="string"&&typeof j!="number"||(_=_||[]).push(H,""+j):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(u.hasOwnProperty(H)?(j!=null&&H==="onScroll"&&We("scroll",r),_||R===j||(_=[])):(_=_||[]).push(H,j))}l&&(_=_||[]).push("style",l);var H=_;(s.updateQueue=H)&&(s.flags|=4)}},vm=function(r,s,l,f){l!==f&&(s.flags|=4)};function ja(r,s){if(!Qe)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Bt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,f=0;if(s)for(var v=r.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&14680064,f|=v.flags&14680064,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=f,r.childLanes=l,s}function M0(r,s,l){var f=s.pendingProps;switch(Yc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return Xt(s.type)&&au(),Bt(s),null;case 3:return f=s.stateNode,ho(),Je(Yt),Je(jt),ch(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(du(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Vn!==null&&(Uh(Vn),Vn=null))),Rh(r,s),Bt(s),null;case 5:lh(s);var v=as(Aa.current);if(l=s.type,r!==null&&s.stateNode!=null)gm(r,s,l,f,v),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(n(166));return Bt(s),null}if(r=as(lr.current),du(s)){f=s.stateNode,l=s.type;var _=s.memoizedProps;switch(f[bn]=s,f[mi]=_,r=(s.mode&1)!==0,l){case"dialog":We("cancel",f),We("close",f);break;case"iframe":case"object":case"embed":We("load",f);break;case"video":case"audio":for(v=0;v<di.length;v++)We(di[v],f);break;case"source":We("error",f);break;case"img":case"image":case"link":We("error",f),We("load",f);break;case"details":We("toggle",f);break;case"input":$o(f,_),We("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},We("invalid",f);break;case"textarea":Zo(f,_),We("invalid",f)}qo(l,_),v=null;for(var T in _)if(_.hasOwnProperty(T)){var R=_[T];T==="children"?typeof R=="string"?f.textContent!==R&&(_.suppressHydrationWarning!==!0&&W(f.textContent,R,r),v=["children",R]):typeof R=="number"&&f.textContent!==""+R&&(_.suppressHydrationWarning!==!0&&W(f.textContent,R,r),v=["children",""+R]):u.hasOwnProperty(T)&&R!=null&&T==="onScroll"&&We("scroll",f)}switch(l){case"input":Wr(f),Bi(f,_,!0);break;case"textarea":Wr(f),Tl(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=Y)}f=v,s.updateQueue=f,f!==null&&(s.flags|=4)}else{T=v.nodeType===9?v:v.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Es(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=T.createElement(l,{is:f.is}):(r=T.createElement(l),l==="select"&&(T=r,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):r=T.createElementNS(r,l),r[bn]=s,r[mi]=f,mm(r,s,!1,!1),s.stateNode=r;e:{switch(T=fr(l,f),l){case"dialog":We("cancel",r),We("close",r),v=f;break;case"iframe":case"object":case"embed":We("load",r),v=f;break;case"video":case"audio":for(v=0;v<di.length;v++)We(di[v],r);v=f;break;case"source":We("error",r),v=f;break;case"img":case"image":case"link":We("error",r),We("load",r),v=f;break;case"details":We("toggle",r),v=f;break;case"input":$o(r,f),v=Fo(r,f),We("invalid",r);break;case"option":v=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},v=K({},f,{value:void 0}),We("invalid",r);break;case"textarea":Zo(r,f),v=ks(r,f),We("invalid",r);break;default:v=f}qo(l,v),R=v;for(_ in R)if(R.hasOwnProperty(_)){var j=R[_];_==="style"?Cs(r,j):_==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&kl(r,j)):_==="children"?typeof j=="string"?(l!=="textarea"||j!=="")&&qr(r,j):typeof j=="number"&&qr(r,""+j):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(u.hasOwnProperty(_)?j!=null&&_==="onScroll"&&We("scroll",r):j!=null&&M(r,_,j,T))}switch(l){case"input":Wr(r),Bi(r,f,!1);break;case"textarea":Wr(r),Tl(r);break;case"option":f.value!=null&&r.setAttribute("value",""+Ae(f.value));break;case"select":r.multiple=!!f.multiple,_=f.value,_!=null?Xn(r,!!f.multiple,_,!1):f.defaultValue!=null&&Xn(r,!!f.multiple,f.defaultValue,!0);break;default:typeof v.onClick=="function"&&(r.onclick=Y)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Bt(s),null;case 6:if(r&&s.stateNode!=null)vm(r,s,r.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(n(166));if(l=as(Aa.current),as(lr.current),du(s)){if(f=s.stateNode,l=s.memoizedProps,f[bn]=s,(_=f.nodeValue!==l)&&(r=dn,r!==null))switch(r.tag){case 3:W(f.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&W(f.nodeValue,l,(r.mode&1)!==0)}_&&(s.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[bn]=s,s.stateNode=f}return Bt(s),null;case 13:if(Je(nt),f=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Qe&&fn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)wp(),ao(),s.flags|=98560,_=!1;else if(_=du(s),f!==null&&f.dehydrated!==null){if(r===null){if(!_)throw Error(n(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[bn]=s}else ao(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Bt(s),_=!1}else Vn!==null&&(Uh(Vn),Vn=null),_=!0;if(!_)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(nt.current&1)!==0?_t===0&&(_t=3):$h())),s.updateQueue!==null&&(s.flags|=4),Bt(s),null);case 4:return ho(),Rh(r,s),r===null&&fi(s.stateNode.containerInfo),Bt(s),null;case 10:return rh(s.type._context),Bt(s),null;case 17:return Xt(s.type)&&au(),Bt(s),null;case 19:if(Je(nt),_=s.memoizedState,_===null)return Bt(s),null;if(f=(s.flags&128)!==0,T=_.rendering,T===null)if(f)ja(_,!1);else{if(_t!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(T=yu(r),T!==null){for(s.flags|=128,ja(_,!1),f=T.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=l,l=s.child;l!==null;)_=l,r=f,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=r,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,r=T.dependencies,_.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ke(nt,nt.current&1|2),s.child}r=r.sibling}_.tail!==null&&et()>go&&(s.flags|=128,f=!0,ja(_,!1),s.lanes=4194304)}else{if(!f)if(r=yu(T),r!==null){if(s.flags|=128,f=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ja(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!Qe)return Bt(s),null}else 2*et()-_.renderingStartTime>go&&l!==1073741824&&(s.flags|=128,f=!0,ja(_,!1),s.lanes=4194304);_.isBackwards?(T.sibling=s.child,s.child=T):(l=_.last,l!==null?l.sibling=T:s.child=T,_.last=T)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=et(),s.sibling=null,l=nt.current,Ke(nt,f?l&1|2:l&1),s):(Bt(s),null);case 22:case 23:return Fh(),f=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(s.flags|=8192),f&&(s.mode&1)!==0?(pn&1073741824)!==0&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function N0(r,s){switch(Yc(s),s.tag){case 1:return Xt(s.type)&&au(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ho(),Je(Yt),Je(jt),ch(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return lh(s),null;case 13:if(Je(nt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ao()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Je(nt),null;case 4:return ho(),null;case 10:return rh(s.type._context),null;case 22:case 23:return Fh(),null;case 24:return null;default:return null}}var Pu=!1,zt=!1,j0=typeof WeakSet=="function"?WeakSet:Set,ue=null;function po(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){lt(r,s,f)}else l.current=null}function Lh(r,s,l){try{l()}catch(f){lt(r,s,f)}}var ym=!1;function D0(r,s){if(se=Gi,r=_a(),wa(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var T=0,R=-1,j=-1,H=0,Q=0,ee=r,X=null;t:for(;;){for(var oe;ee!==l||v!==0&&ee.nodeType!==3||(R=T+v),ee!==_||f!==0&&ee.nodeType!==3||(j=T+f),ee.nodeType===3&&(T+=ee.nodeValue.length),(oe=ee.firstChild)!==null;)X=ee,ee=oe;for(;;){if(ee===r)break t;if(X===l&&++H===v&&(R=T),X===_&&++Q===f&&(j=T),(oe=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=oe}l=R===-1||j===-1?null:{start:R,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(_e={focusedElem:r,selectionRange:l},Gi=!1,ue=s;ue!==null;)if(s=ue,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ue=r;else for(;ue!==null;){s=ue;try{var ce=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,ht=ce.memoizedState,F=s.stateNode,B=F.getSnapshotBeforeUpdate(s.elementType===s.type?he:Fn(s.type,he),ht);F.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ne){lt(s,s.return,ne)}if(r=s.sibling,r!==null){r.return=s.return,ue=r;break}ue=s.return}return ce=ym,ym=!1,ce}function Da(r,s,l){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&r)===r){var _=v.destroy;v.destroy=void 0,_!==void 0&&Lh(s,l,_)}v=v.next}while(v!==f)}}function Cu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var f=l.create;l.destroy=f()}l=l.next}while(l!==s)}}function Ah(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function _m(r){var s=r.alternate;s!==null&&(r.alternate=null,_m(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[bn],delete s[mi],delete s[gi],delete s[Zc],delete s[Kc])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function wm(r){return r.tag===5||r.tag===3||r.tag===4}function xm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||wm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Oh(r,s,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Y));else if(f!==4&&(r=r.child,r!==null))for(Oh(r,s,l),r=r.sibling;r!==null;)Oh(r,s,l),r=r.sibling}function Ih(r,s,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(Ih(r,s,l),r=r.sibling;r!==null;)Ih(r,s,l),r=r.sibling}var Pt=null,$n=!1;function Si(r,s,l){for(l=l.child;l!==null;)Sm(r,s,l),l=l.sibling}function Sm(r,s,l){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount($i,l)}catch{}switch(l.tag){case 5:zt||po(l,s);case 6:var f=Pt,v=$n;Pt=null,Si(r,s,l),Pt=f,$n=v,Pt!==null&&($n?(r=Pt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Pt.removeChild(l.stateNode));break;case 18:Pt!==null&&($n?(r=Pt,l=l.stateNode,r.nodeType===8?Pa(r.parentNode,l):r.nodeType===1&&Pa(r,l),an(r)):Pa(Pt,l.stateNode));break;case 4:f=Pt,v=$n,Pt=l.stateNode.containerInfo,$n=!0,Si(r,s,l),Pt=f,$n=v;break;case 0:case 11:case 14:case 15:if(!zt&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){v=f=f.next;do{var _=v,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&Lh(l,s,T),v=v.next}while(v!==f)}Si(r,s,l);break;case 1:if(!zt&&(po(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(R){lt(l,s,R)}Si(r,s,l);break;case 21:Si(r,s,l);break;case 22:l.mode&1?(zt=(f=zt)||l.memoizedState!==null,Si(r,s,l),zt=f):Si(r,s,l);break;default:Si(r,s,l)}}function bm(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new j0),s.forEach(function(f){var v=Z0.bind(null,r,f);l.has(f)||(l.add(f),f.then(v,v))})}}function Wn(r,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f];try{var _=r,T=s,R=T;e:for(;R!==null;){switch(R.tag){case 5:Pt=R.stateNode,$n=!1;break e;case 3:Pt=R.stateNode.containerInfo,$n=!0;break e;case 4:Pt=R.stateNode.containerInfo,$n=!0;break e}R=R.return}if(Pt===null)throw Error(n(160));Sm(_,T,v),Pt=null,$n=!1;var j=v.alternate;j!==null&&(j.return=null),v.return=null}catch(H){lt(v,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Tm(s,r),s=s.sibling}function Tm(r,s){var l=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Wn(s,r),cr(r),f&4){try{Da(3,r,r.return),Cu(3,r)}catch(he){lt(r,r.return,he)}try{Da(5,r,r.return)}catch(he){lt(r,r.return,he)}}break;case 1:Wn(s,r),cr(r),f&512&&l!==null&&po(l,l.return);break;case 5:if(Wn(s,r),cr(r),f&512&&l!==null&&po(l,l.return),r.flags&32){var v=r.stateNode;try{qr(v,"")}catch(he){lt(r,r.return,he)}}if(f&4&&(v=r.stateNode,v!=null)){var _=r.memoizedProps,T=l!==null?l.memoizedProps:_,R=r.type,j=r.updateQueue;if(r.updateQueue=null,j!==null)try{R==="input"&&_.type==="radio"&&_.name!=null&&Wo(v,_),fr(R,T);var H=fr(R,_);for(T=0;T<j.length;T+=2){var Q=j[T],ee=j[T+1];Q==="style"?Cs(v,ee):Q==="dangerouslySetInnerHTML"?kl(v,ee):Q==="children"?qr(v,ee):M(v,Q,ee,H)}switch(R){case"input":Di(v,_);break;case"textarea":bl(v,_);break;case"select":var X=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!_.multiple;var oe=_.value;oe!=null?Xn(v,!!_.multiple,oe,!1):X!==!!_.multiple&&(_.defaultValue!=null?Xn(v,!!_.multiple,_.defaultValue,!0):Xn(v,!!_.multiple,_.multiple?[]:"",!1))}v[mi]=_}catch(he){lt(r,r.return,he)}}break;case 6:if(Wn(s,r),cr(r),f&4){if(r.stateNode===null)throw Error(n(162));v=r.stateNode,_=r.memoizedProps;try{v.nodeValue=_}catch(he){lt(r,r.return,he)}}break;case 3:if(Wn(s,r),cr(r),f&4&&l!==null&&l.memoizedState.isDehydrated)try{an(s.containerInfo)}catch(he){lt(r,r.return,he)}break;case 4:Wn(s,r),cr(r);break;case 13:Wn(s,r),cr(r),v=r.child,v.flags&8192&&(_=v.memoizedState!==null,v.stateNode.isHidden=_,!_||v.alternate!==null&&v.alternate.memoizedState!==null||(jh=et())),f&4&&bm(r);break;case 22:if(Q=l!==null&&l.memoizedState!==null,r.mode&1?(zt=(H=zt)||Q,Wn(s,r),zt=H):Wn(s,r),cr(r),f&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!Q&&(r.mode&1)!==0)for(ue=r,Q=r.child;Q!==null;){for(ee=ue=Q;ue!==null;){switch(X=ue,oe=X.child,X.tag){case 0:case 11:case 14:case 15:Da(4,X,X.return);break;case 1:po(X,X.return);var ce=X.stateNode;if(typeof ce.componentWillUnmount=="function"){f=X,l=X.return;try{s=f,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(he){lt(f,l,he)}}break;case 5:po(X,X.return);break;case 22:if(X.memoizedState!==null){Pm(ee);continue}}oe!==null?(oe.return=X,ue=oe):Pm(ee)}Q=Q.sibling}e:for(Q=null,ee=r;;){if(ee.tag===5){if(Q===null){Q=ee;try{v=ee.stateNode,H?(_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(R=ee.stateNode,j=ee.memoizedProps.style,T=j!=null&&j.hasOwnProperty("display")?j.display:null,R.style.display=Ko("display",T))}catch(he){lt(r,r.return,he)}}}else if(ee.tag===6){if(Q===null)try{ee.stateNode.nodeValue=H?"":ee.memoizedProps}catch(he){lt(r,r.return,he)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;Q===ee&&(Q=null),ee=ee.return}Q===ee&&(Q=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Wn(s,r),cr(r),f&4&&bm(r);break;case 21:break;default:Wn(s,r),cr(r)}}function cr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(wm(l)){var f=l;break e}l=l.return}throw Error(n(160))}switch(f.tag){case 5:var v=f.stateNode;f.flags&32&&(qr(v,""),f.flags&=-33);var _=xm(r);Ih(r,_,v);break;case 3:case 4:var T=f.stateNode.containerInfo,R=xm(r);Oh(r,R,T);break;default:throw Error(n(161))}}catch(j){lt(r,r.return,j)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function B0(r,s,l){ue=r,km(r)}function km(r,s,l){for(var f=(r.mode&1)!==0;ue!==null;){var v=ue,_=v.child;if(v.tag===22&&f){var T=v.memoizedState!==null||Pu;if(!T){var R=v.alternate,j=R!==null&&R.memoizedState!==null||zt;R=Pu;var H=zt;if(Pu=T,(zt=j)&&!H)for(ue=v;ue!==null;)T=ue,j=T.child,T.tag===22&&T.memoizedState!==null?Cm(v):j!==null?(j.return=T,ue=j):Cm(v);for(;_!==null;)ue=_,km(_),_=_.sibling;ue=v,Pu=R,zt=H}Em(r)}else(v.subtreeFlags&8772)!==0&&_!==null?(_.return=v,ue=_):Em(r)}}function Em(r){for(;ue!==null;){var s=ue;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:zt||Cu(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!zt)if(l===null)f.componentDidMount();else{var v=s.elementType===s.type?l.memoizedProps:Fn(s.type,l.memoizedProps);f.componentDidUpdate(v,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&Pp(s,_,f);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Pp(s,T,l)}break;case 5:var R=s.stateNode;if(l===null&&s.flags&4){l=R;var j=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&l.focus();break;case"img":j.src&&(l.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var Q=H.memoizedState;if(Q!==null){var ee=Q.dehydrated;ee!==null&&an(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}zt||s.flags&512&&Ah(s)}catch(X){lt(s,s.return,X)}}if(s===r){ue=null;break}if(l=s.sibling,l!==null){l.return=s.return,ue=l;break}ue=s.return}}function Pm(r){for(;ue!==null;){var s=ue;if(s===r){ue=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ue=l;break}ue=s.return}}function Cm(r){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Cu(4,s)}catch(j){lt(s,l,j)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var v=s.return;try{f.componentDidMount()}catch(j){lt(s,v,j)}}var _=s.return;try{Ah(s)}catch(j){lt(s,_,j)}break;case 5:var T=s.return;try{Ah(s)}catch(j){lt(s,T,j)}}}catch(j){lt(s,s.return,j)}if(s===r){ue=null;break}var R=s.sibling;if(R!==null){R.return=s.return,ue=R;break}ue=s.return}}var z0=Math.ceil,Ru=J.ReactCurrentDispatcher,Mh=J.ReactCurrentOwner,Cn=J.ReactCurrentBatchConfig,De=0,bt=null,ft=null,Ct=0,pn=0,mo=vi(0),_t=0,Ba=null,us=0,Lu=0,Nh=0,za=null,en=null,jh=0,go=1/0,Nr=null,Au=!1,Dh=null,bi=null,Ou=!1,Ti=null,Iu=0,Ua=0,Bh=null,Mu=-1,Nu=0;function Zt(){return(De&6)!==0?et():Mu!==-1?Mu:Mu=et()}function ki(r){return(r.mode&1)===0?1:(De&2)!==0&&Ct!==0?Ct&-Ct:S0.transition!==null?(Nu===0&&(Nu=Bl()),Nu):(r=je,r!==0||(r=window.event,r=r===void 0?16:Ie(r.type)),r)}function Hn(r,s,l,f){if(50<Ua)throw Ua=0,Bh=null,Error(n(185));sn(r,l,f),((De&2)===0||r!==bt)&&(r===bt&&((De&2)===0&&(Lu|=l),_t===4&&Ei(r,Ct)),tn(r,f),l===1&&De===0&&(s.mode&1)===0&&(go=et()+500,uu&&_i()))}function tn(r,s){var l=r.callbackNode;Ns(r,s);var f=Ze(r,r===bt?Ct:0);if(f===0)l!==null&&ta(l),r.callbackNode=null,r.callbackPriority=0;else if(s=f&-f,r.callbackPriority!==s){if(l!=null&&ta(l),s===1)r.tag===0?x0(Lm.bind(null,r)):mp(Lm.bind(null,r)),Nt(function(){(De&6)===0&&_i()}),l=null;else{switch(ei(f)){case 1:l=na;break;case 4:l=Dl;break;case 16:l=Is;break;case 536870912:l=Jr;break;default:l=Is}l=Bm(l,Rm.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Rm(r,s){if(Mu=-1,Nu=0,(De&6)!==0)throw Error(n(327));var l=r.callbackNode;if(vo()&&r.callbackNode!==l)return null;var f=Ze(r,r===bt?Ct:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||s)s=ju(r,f);else{s=f;var v=De;De|=2;var _=Om();(bt!==r||Ct!==s)&&(Nr=null,go=et()+500,hs(r,s));do try{F0();break}catch(R){Am(r,R)}while(!0);nh(),Ru.current=_,De=v,ft!==null?s=0:(bt=null,Ct=0,s=_t)}if(s!==0){if(s===2&&(v=It(r),v!==0&&(f=v,s=zh(r,v))),s===1)throw l=Ba,hs(r,0),Ei(r,f),tn(r,et()),l;if(s===6)Ei(r,f);else{if(v=r.current.alternate,(f&30)===0&&!U0(v)&&(s=ju(r,f),s===2&&(_=It(r),_!==0&&(f=_,s=zh(r,_))),s===1))throw l=Ba,hs(r,0),Ei(r,f),tn(r,et()),l;switch(r.finishedWork=v,r.finishedLanes=f,s){case 0:case 1:throw Error(n(345));case 2:ds(r,en,Nr);break;case 3:if(Ei(r,f),(f&130023424)===f&&(s=jh+500-et(),10<s)){if(Ze(r,0)!==0)break;if(v=r.suspendedLanes,(v&f)!==f){Zt(),r.pingedLanes|=r.suspendedLanes&v;break}r.timeoutHandle=vt(ds.bind(null,r,en,Nr),s);break}ds(r,en,Nr);break;case 4:if(Ei(r,f),(f&4194240)===f)break;for(s=r.eventTimes,v=-1;0<f;){var T=31-Re(f);_=1<<T,T=s[T],T>v&&(v=T),f&=~_}if(f=v,f=et()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*z0(f/1960))-f,10<f){r.timeoutHandle=vt(ds.bind(null,r,en,Nr),f);break}ds(r,en,Nr);break;case 5:ds(r,en,Nr);break;default:throw Error(n(329))}}}return tn(r,et()),r.callbackNode===l?Rm.bind(null,r):null}function zh(r,s){var l=za;return r.current.memoizedState.isDehydrated&&(hs(r,s).flags|=256),r=ju(r,s),r!==2&&(s=en,en=l,s!==null&&Uh(s)),r}function Uh(r){en===null?en=r:en.push.apply(en,r)}function U0(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var v=l[f],_=v.getSnapshot;v=v.value;try{if(!cn(_(),v))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ei(r,s){for(s&=~Nh,s&=~Lu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Re(s),f=1<<l;r[l]=-1,s&=~f}}function Lm(r){if((De&6)!==0)throw Error(n(327));vo();var s=Ze(r,0);if((s&1)===0)return tn(r,et()),null;var l=ju(r,s);if(r.tag!==0&&l===2){var f=It(r);f!==0&&(s=f,l=zh(r,f))}if(l===1)throw l=Ba,hs(r,0),Ei(r,s),tn(r,et()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ds(r,en,Nr),tn(r,et()),null}function Vh(r,s){var l=De;De|=1;try{return r(s)}finally{De=l,De===0&&(go=et()+500,uu&&_i())}}function cs(r){Ti!==null&&Ti.tag===0&&(De&6)===0&&vo();var s=De;De|=1;var l=Cn.transition,f=je;try{if(Cn.transition=null,je=1,r)return r()}finally{je=f,Cn.transition=l,De=s,(De&6)===0&&_i()}}function Fh(){pn=mo.current,Je(mo)}function hs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,dt(l)),ft!==null)for(l=ft.return;l!==null;){var f=l;switch(Yc(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&au();break;case 3:ho(),Je(Yt),Je(jt),ch();break;case 5:lh(f);break;case 4:ho();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:rh(f.type._context);break;case 22:case 23:Fh()}l=l.return}if(bt=r,ft=r=Pi(r.current,null),Ct=pn=s,_t=0,Ba=null,Nh=Lu=us=0,en=za=null,os!==null){for(s=0;s<os.length;s++)if(l=os[s],f=l.interleaved,f!==null){l.interleaved=null;var v=f.next,_=l.pending;if(_!==null){var T=_.next;_.next=v,f.next=T}l.pending=f}os=null}return r}function Am(r,s){do{var l=ft;try{if(nh(),_u.current=bu,wu){for(var f=rt.memoizedState;f!==null;){var v=f.queue;v!==null&&(v.pending=null),f=f.next}wu=!1}if(ls=0,St=yt=rt=null,Oa=!1,Ia=0,Mh.current=null,l===null||l.return===null){_t=1,Ba=s,ft=null;break}e:{var _=r,T=l.return,R=l,j=s;if(s=Ct,R.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var H=j,Q=R,ee=Q.tag;if((Q.mode&1)===0&&(ee===0||ee===11||ee===15)){var X=Q.alternate;X?(Q.updateQueue=X.updateQueue,Q.memoizedState=X.memoizedState,Q.lanes=X.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var oe=nm(T);if(oe!==null){oe.flags&=-257,rm(oe,T,R,_,s),oe.mode&1&&tm(_,H,s),s=oe,j=H;var ce=s.updateQueue;if(ce===null){var he=new Set;he.add(j),s.updateQueue=he}else ce.add(j);break e}else{if((s&1)===0){tm(_,H,s),$h();break e}j=Error(n(426))}}else if(Qe&&R.mode&1){var ht=nm(T);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),rm(ht,T,R,_,s),eh(fo(j,R));break e}}_=j=fo(j,R),_t!==4&&(_t=2),za===null?za=[_]:za.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var F=Qp(_,j,s);Ep(_,F);break e;case 1:R=j;var B=_.type,$=_.stateNode;if((_.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(bi===null||!bi.has($)))){_.flags|=65536,s&=-s,_.lanes|=s;var ne=em(_,R,s);Ep(_,ne);break e}}_=_.return}while(_!==null)}Mm(l)}catch(me){s=me,ft===l&&l!==null&&(ft=l=l.return);continue}break}while(!0)}function Om(){var r=Ru.current;return Ru.current=bu,r===null?bu:r}function $h(){(_t===0||_t===3||_t===2)&&(_t=4),bt===null||(us&268435455)===0&&(Lu&268435455)===0||Ei(bt,Ct)}function ju(r,s){var l=De;De|=2;var f=Om();(bt!==r||Ct!==s)&&(Nr=null,hs(r,s));do try{V0();break}catch(v){Am(r,v)}while(!0);if(nh(),De=l,Ru.current=f,ft!==null)throw Error(n(261));return bt=null,Ct=0,_t}function V0(){for(;ft!==null;)Im(ft)}function F0(){for(;ft!==null&&!Lc();)Im(ft)}function Im(r){var s=Dm(r.alternate,r,pn);r.memoizedProps=r.pendingProps,s===null?Mm(r):ft=s,Mh.current=null}function Mm(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=M0(l,s,pn),l!==null){ft=l;return}}else{if(l=N0(l,s),l!==null){l.flags&=32767,ft=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,ft=null;return}}if(s=s.sibling,s!==null){ft=s;return}ft=s=r}while(s!==null);_t===0&&(_t=5)}function ds(r,s,l){var f=je,v=Cn.transition;try{Cn.transition=null,je=1,$0(r,s,l,f)}finally{Cn.transition=v,je=f}return null}function $0(r,s,l,f){do vo();while(Ti!==null);if((De&6)!==0)throw Error(n(327));l=r.finishedWork;var v=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var _=l.lanes|l.childLanes;if(at(r,_),r===bt&&(ft=bt=null,Ct=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ou||(Ou=!0,Bm(Is,function(){return vo(),null})),_=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||_){_=Cn.transition,Cn.transition=null;var T=je;je=1;var R=De;De|=4,Mh.current=null,D0(r,l),Tm(l,r),xn(_e),Gi=!!se,_e=se=null,r.current=l,B0(l),Os(),De=R,je=T,Cn.transition=_}else r.current=l;if(Ou&&(Ou=!1,Ti=r,Iu=v),_=r.pendingLanes,_===0&&(bi=null),Wi(l.stateNode),tn(r,et()),s!==null)for(f=r.onRecoverableError,l=0;l<s.length;l++)v=s[l],f(v.value,{componentStack:v.stack,digest:v.digest});if(Au)throw Au=!1,r=Dh,Dh=null,r;return(Iu&1)!==0&&r.tag!==0&&vo(),_=r.pendingLanes,(_&1)!==0?r===Bh?Ua++:(Ua=0,Bh=r):Ua=0,_i(),null}function vo(){if(Ti!==null){var r=ei(Iu),s=Cn.transition,l=je;try{if(Cn.transition=null,je=16>r?16:r,Ti===null)var f=!1;else{if(r=Ti,Ti=null,Iu=0,(De&6)!==0)throw Error(n(331));var v=De;for(De|=4,ue=r.current;ue!==null;){var _=ue,T=_.child;if((ue.flags&16)!==0){var R=_.deletions;if(R!==null){for(var j=0;j<R.length;j++){var H=R[j];for(ue=H;ue!==null;){var Q=ue;switch(Q.tag){case 0:case 11:case 15:Da(8,Q,_)}var ee=Q.child;if(ee!==null)ee.return=Q,ue=ee;else for(;ue!==null;){Q=ue;var X=Q.sibling,oe=Q.return;if(_m(Q),Q===H){ue=null;break}if(X!==null){X.return=oe,ue=X;break}ue=oe}}}var ce=_.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var ht=he.sibling;he.sibling=null,he=ht}while(he!==null)}}ue=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,ue=T;else e:for(;ue!==null;){if(_=ue,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Da(9,_,_.return)}var F=_.sibling;if(F!==null){F.return=_.return,ue=F;break e}ue=_.return}}var B=r.current;for(ue=B;ue!==null;){T=ue;var $=T.child;if((T.subtreeFlags&2064)!==0&&$!==null)$.return=T,ue=$;else e:for(T=B;ue!==null;){if(R=ue,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Cu(9,R)}}catch(me){lt(R,R.return,me)}if(R===T){ue=null;break e}var ne=R.sibling;if(ne!==null){ne.return=R.return,ue=ne;break e}ue=R.return}}if(De=v,_i(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot($i,r)}catch{}f=!0}return f}finally{je=l,Cn.transition=s}}return!1}function Nm(r,s,l){s=fo(l,s),s=Qp(r,s,1),r=xi(r,s,1),s=Zt(),r!==null&&(sn(r,1,s),tn(r,s))}function lt(r,s,l){if(r.tag===3)Nm(r,r,l);else for(;s!==null;){if(s.tag===3){Nm(s,r,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(bi===null||!bi.has(f))){r=fo(l,r),r=em(s,r,1),s=xi(s,r,1),r=Zt(),s!==null&&(sn(s,1,r),tn(s,r));break}}s=s.return}}function W0(r,s,l){var f=r.pingCache;f!==null&&f.delete(s),s=Zt(),r.pingedLanes|=r.suspendedLanes&l,bt===r&&(Ct&l)===l&&(_t===4||_t===3&&(Ct&130023424)===Ct&&500>et()-jh?hs(r,0):Nh|=l),tn(r,s)}function jm(r,s){s===0&&((r.mode&1)===0?s=1:(s=Xr,Xr<<=1,(Xr&130023424)===0&&(Xr=4194304)));var l=Zt();r=Or(r,s),r!==null&&(sn(r,s,l),tn(r,l))}function H0(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),jm(r,l)}function Z0(r,s){var l=0;switch(r.tag){case 13:var f=r.stateNode,v=r.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(s),jm(r,l)}var Dm;Dm=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Yt.current)Qt=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return Qt=!1,I0(r,s,l);Qt=(r.flags&131072)!==0}else Qt=!1,Qe&&(s.flags&1048576)!==0&&gp(s,hu,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;Eu(r,s),r=s.pendingProps;var v=io(s,jt.current);co(s,l),v=fh(null,s,f,r,v,l);var _=ph();return s.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Xt(f)?(_=!0,lu(s)):_=!1,s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,oh(s),v.updater=Tu,s.stateNode=v,v._reactInternals=s,wh(s,f,r,l),s=Th(null,s,f,!0,_,l)):(s.tag=0,Qe&&_&&Jc(s),Ht(null,s,v,l),s=s.child),s;case 16:f=s.elementType;e:{switch(Eu(r,s),r=s.pendingProps,v=f._init,f=v(f._payload),s.type=f,v=s.tag=q0(f),r=Fn(f,r),v){case 0:s=bh(null,s,f,r,l);break e;case 1:s=um(null,s,f,r,l);break e;case 11:s=im(null,s,f,r,l);break e;case 14:s=sm(null,s,f,Fn(f.type,r),l);break e}throw Error(n(306,f,""))}return s;case 0:return f=s.type,v=s.pendingProps,v=s.elementType===f?v:Fn(f,v),bh(r,s,f,v,l);case 1:return f=s.type,v=s.pendingProps,v=s.elementType===f?v:Fn(f,v),um(r,s,f,v,l);case 3:e:{if(cm(s),r===null)throw Error(n(387));f=s.pendingProps,_=s.memoizedState,v=_.element,kp(r,s),vu(s,f,null,l);var T=s.memoizedState;if(f=T.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){v=fo(Error(n(423)),s),s=hm(r,s,f,l,v);break e}else if(f!==v){v=fo(Error(n(424)),s),s=hm(r,s,f,l,v);break e}else for(fn=ar(s.stateNode.containerInfo.firstChild),dn=s,Qe=!0,Vn=null,l=bp(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ao(),f===v){s=Mr(r,s,l);break e}Ht(r,s,f,l)}s=s.child}return s;case 5:return Cp(s),r===null&&Qc(s),f=s.type,v=s.pendingProps,_=r!==null?r.memoizedProps:null,T=v.children,Le(f,v)?T=null:_!==null&&Le(f,_)&&(s.flags|=32),lm(r,s),Ht(r,s,T,l),s.child;case 6:return r===null&&Qc(s),null;case 13:return dm(r,s,l);case 4:return ah(s,s.stateNode.containerInfo),f=s.pendingProps,r===null?s.child=lo(s,null,f,l):Ht(r,s,f,l),s.child;case 11:return f=s.type,v=s.pendingProps,v=s.elementType===f?v:Fn(f,v),im(r,s,f,v,l);case 7:return Ht(r,s,s.pendingProps,l),s.child;case 8:return Ht(r,s,s.pendingProps.children,l),s.child;case 12:return Ht(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(f=s.type._context,v=s.pendingProps,_=s.memoizedProps,T=v.value,Ke(pu,f._currentValue),f._currentValue=T,_!==null)if(cn(_.value,T)){if(_.children===v.children&&!Yt.current){s=Mr(r,s,l);break e}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var R=_.dependencies;if(R!==null){T=_.child;for(var j=R.firstContext;j!==null;){if(j.context===f){if(_.tag===1){j=Ir(-1,l&-l),j.tag=2;var H=_.updateQueue;if(H!==null){H=H.shared;var Q=H.pending;Q===null?j.next=j:(j.next=Q.next,Q.next=j),H.pending=j}}_.lanes|=l,j=_.alternate,j!==null&&(j.lanes|=l),ih(_.return,l,s),R.lanes|=l;break}j=j.next}}else if(_.tag===10)T=_.type===s.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(n(341));T.lanes|=l,R=T.alternate,R!==null&&(R.lanes|=l),ih(T,l,s),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===s){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}Ht(r,s,v.children,l),s=s.child}return s;case 9:return v=s.type,f=s.pendingProps.children,co(s,l),v=En(v),f=f(v),s.flags|=1,Ht(r,s,f,l),s.child;case 14:return f=s.type,v=Fn(f,s.pendingProps),v=Fn(f.type,v),sm(r,s,f,v,l);case 15:return om(r,s,s.type,s.pendingProps,l);case 17:return f=s.type,v=s.pendingProps,v=s.elementType===f?v:Fn(f,v),Eu(r,s),s.tag=1,Xt(f)?(r=!0,lu(s)):r=!1,co(s,l),Yp(s,f,v),wh(s,f,v,l),Th(null,s,f,!0,r,l);case 19:return pm(r,s,l);case 22:return am(r,s,l)}throw Error(n(156,s.tag))};function Bm(r,s){return jl(r,s)}function K0(r,s,l,f){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(r,s,l,f){return new K0(r,s,l,f)}function Wh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function q0(r){if(typeof r=="function")return Wh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Fe)return 11;if(r===Vt)return 14}return 2}function Pi(r,s){var l=r.alternate;return l===null?(l=Rn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Du(r,s,l,f,v,_){var T=2;if(f=r,typeof r=="function")Wh(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case ie:return fs(l.children,v,_,s);case re:T=8,v|=8;break;case Se:return r=Rn(12,l,s,v|2),r.elementType=Se,r.lanes=_,r;case kt:return r=Rn(13,l,s,v),r.elementType=kt,r.lanes=_,r;case Xe:return r=Rn(19,l,s,v),r.elementType=Xe,r.lanes=_,r;case Pe:return Bu(l,v,_,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Ne:T=10;break e;case Be:T=9;break e;case Fe:T=11;break e;case Vt:T=14;break e;case Ve:T=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Rn(T,l,s,v),s.elementType=r,s.type=f,s.lanes=_,s}function fs(r,s,l,f){return r=Rn(7,r,f,s),r.lanes=l,r}function Bu(r,s,l,f){return r=Rn(22,r,f,s),r.elementType=Pe,r.lanes=l,r.stateNode={isHidden:!1},r}function Hh(r,s,l){return r=Rn(6,r,null,s),r.lanes=l,r}function Zh(r,s,l){return s=Rn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function G0(r,s,l,f,v){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qr(0),this.expirationTimes=Qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.identifierPrefix=f,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Kh(r,s,l,f,v,_,T,R,j){return r=new G0(r,s,l,R,j),s===1?(s=1,_===!0&&(s|=8)):s=0,_=Rn(3,null,null,s),r.current=_,_.stateNode=r,_.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},oh(_),r}function J0(r,s,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:f==null?null:""+f,children:r,containerInfo:s,implementation:l}}function zm(r){if(!r)return yi;r=r._reactInternals;e:{if(Qn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Xt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(Xt(l))return fp(r,l,s)}return s}function Um(r,s,l,f,v,_,T,R,j){return r=Kh(l,f,!0,r,v,_,T,R,j),r.context=zm(null),l=r.current,f=Zt(),v=ki(l),_=Ir(f,v),_.callback=s??null,xi(l,_,v),r.current.lanes=v,sn(r,v,f),tn(r,f),r}function zu(r,s,l,f){var v=s.current,_=Zt(),T=ki(v);return l=zm(l),s.context===null?s.context=l:s.pendingContext=l,s=Ir(_,T),s.payload={element:r},f=f===void 0?null:f,f!==null&&(s.callback=f),r=xi(v,s,T),r!==null&&(Hn(r,v,T,_),gu(r,v,T)),T}function Uu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Vm(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function qh(r,s){Vm(r,s),(r=r.alternate)&&Vm(r,s)}function Y0(){return null}var Fm=typeof reportError=="function"?reportError:function(r){console.error(r)};function Gh(r){this._internalRoot=r}Vu.prototype.render=Gh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));zu(r,s,null,null)},Vu.prototype.unmount=Gh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;cs(function(){zu(null,r,null,null)}),s[Ue]=null}};function Vu(r){this._internalRoot=r}Vu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Bs();r={blockedOn:null,target:r,priority:s};for(var l=0;l<gt.length&&s!==0&&s<gt[l].priority;l++);gt.splice(l,0,r),l===0&&zs(r)}};function Jh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Fu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function $m(){}function X0(r,s,l,f,v){if(v){if(typeof f=="function"){var _=f;f=function(){var H=Uu(T);_.call(H)}}var T=Um(s,f,r,0,null,!1,!1,"",$m);return r._reactRootContainer=T,r[Ue]=T.current,fi(r.nodeType===8?r.parentNode:r),cs(),T}for(;v=r.lastChild;)r.removeChild(v);if(typeof f=="function"){var R=f;f=function(){var H=Uu(j);R.call(H)}}var j=Kh(r,0,!1,null,null,!1,!1,"",$m);return r._reactRootContainer=j,r[Ue]=j.current,fi(r.nodeType===8?r.parentNode:r),cs(function(){zu(s,j,l,f)}),j}function $u(r,s,l,f,v){var _=l._reactRootContainer;if(_){var T=_;if(typeof v=="function"){var R=v;v=function(){var j=Uu(T);R.call(j)}}zu(s,T,r,v)}else T=X0(l,s,r,v,f);return Uu(T)}js=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Ce(s.pendingLanes);l!==0&&(jn(s,l|1),tn(s,et()),(De&6)===0&&(go=et()+500,_i()))}break;case 13:cs(function(){var f=Or(r,1);if(f!==null){var v=Zt();Hn(f,r,1,v)}}),qh(r,1)}},vr=function(r){if(r.tag===13){var s=Or(r,134217728);if(s!==null){var l=Zt();Hn(s,r,134217728,l)}qh(r,134217728)}},Ds=function(r){if(r.tag===13){var s=ki(r),l=Or(r,s);if(l!==null){var f=Zt();Hn(l,r,s,f)}qh(r,s)}},Bs=function(){return je},Hi=function(r,s){var l=je;try{return je=r,s()}finally{je=l}},Rs=function(r,s,l){switch(s){case"input":if(Di(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==r&&f.form===r.form){var v=no(f);if(!v)throw Error(n(90));Hr(f),Di(f,v)}}}break;case"textarea":bl(r,l);break;case"select":s=l.value,s!=null&&Xn(r,!!l.multiple,s,!1)}},Ll=Vh,Al=cs;var Q0={usingClientEntryPoint:!1,Events:[Pr,Cr,no,Cl,Rl,Vh]},Va={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ew={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ml(r),r===null?null:r.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance||Y0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{$i=Wu.inject(ew),rn=Wu}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q0,nn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jh(s))throw Error(n(200));return J0(r,s,null,l)},nn.createRoot=function(r,s){if(!Jh(r))throw Error(n(299));var l=!1,f="",v=Fm;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=Kh(r,1,!1,null,null,l,!1,f,v),r[Ue]=s.current,fi(r.nodeType===8?r.parentNode:r),new Gh(s)},nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Ml(s),r=r===null?null:r.stateNode,r},nn.flushSync=function(r){return cs(r)},nn.hydrate=function(r,s,l){if(!Fu(s))throw Error(n(200));return $u(null,r,s,!0,l)},nn.hydrateRoot=function(r,s,l){if(!Jh(r))throw Error(n(405));var f=l!=null&&l.hydratedSources||null,v=!1,_="",T=Fm;if(l!=null&&(l.unstable_strictMode===!0&&(v=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=Um(s,null,r,1,l??null,v,!1,_,T),r[Ue]=s.current,fi(r),f)for(r=0;r<f.length;r++)l=f[r],v=l._getVersion,v=v(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,v]:s.mutableSourceEagerHydrationData.push(l,v);return new Vu(s)},nn.render=function(r,s,l){if(!Fu(s))throw Error(n(200));return $u(null,r,s,!1,l)},nn.unmountComponentAtNode=function(r){if(!Fu(r))throw Error(n(40));return r._reactRootContainer?(cs(function(){$u(null,null,r,!1,function(){r._reactRootContainer=null,r[Ue]=null})}),!0):!1},nn.unstable_batchedUpdates=Vh,nn.unstable_renderSubtreeIntoContainer=function(r,s,l,f){if(!Fu(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return $u(r,s,l,!1,f)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var Ym;function Kv(){if(Ym)return Qh.exports;Ym=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qh.exports=aw(),Qh.exports}var Xm;function lw(){if(Xm)return Hu;Xm=1;var t=Kv();return Hu.createRoot=t.createRoot,Hu.hydrateRoot=t.hydrateRoot,Hu}var uw=lw();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qm="popstate";function cw(t={}){function e(o,u){let{pathname:c,search:h,hash:p}=o.location;return Od("",{pathname:c,search:h,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){return typeof u=="string"?u:nl(u)}return dw(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hw(){return Math.random().toString(36).substring(2,10)}function eg(t,e){return{usr:t.state,key:t.key,idx:e}}function Od(t,e,n=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Do(e):e,state:n,key:e&&e.key||o||hw()}}function nl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Do(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let o=t.indexOf("?");o>=0&&(e.search=t.substring(o),t=t.substring(0,o)),t&&(e.pathname=t)}return e}function dw(t,e,n,o={}){let{window:u=document.defaultView,v5Compat:c=!1}=o,h=u.history,p="POP",m=null,y=w();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function w(){return(h.state||{idx:null}).idx}function S(){p="POP";let N=w(),z=N==null?null:N-y;y=N,m&&m({action:p,location:P.location,delta:z})}function b(N,z){p="PUSH";let U=Od(P.location,N,z);y=w()+1;let M=eg(U,y),J=P.createHref(U);try{h.pushState(M,"",J)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;u.location.assign(J)}c&&m&&m({action:p,location:P.location,delta:1})}function E(N,z){p="REPLACE";let U=Od(P.location,N,z);y=w();let M=eg(U,y),J=P.createHref(U);h.replaceState(M,"",J),c&&m&&m({action:p,location:P.location,delta:0})}function C(N){return fw(N)}let P={get action(){return p},get location(){return t(u,h)},listen(N){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(Qm,S),m=N,()=>{u.removeEventListener(Qm,S),m=null}},createHref(N){return e(u,N)},createURL:C,encodeLocation(N){let z=C(N);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:b,replace:E,go(N){return h.go(N)}};return P}function fw(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:nl(t);return o=o.replace(/ $/,"%20"),!e&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function qv(t,e,n="/"){return pw(t,e,n,!1)}function pw(t,e,n,o){let u=typeof e=="string"?Do(e):e,c=Ur(u.pathname||"/",n);if(c==null)return null;let h=Gv(t);mw(h);let p=null;for(let m=0;p==null&&m<h.length;++m){let y=Ew(c);p=Tw(h[m],y,o)}return p}function Gv(t,e=[],n=[],o="",u=!1){let c=(h,p,m=u,y)=>{let w={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(o)&&m)return;ot(w.relativePath.startsWith(o),`Absolute route path "${w.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(o.length)}let S=Dr([o,w.relativePath]),b=n.concat(w);h.children&&h.children.length>0&&(ot(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),Gv(h.children,e,b,S,m)),!(h.path==null&&!h.index)&&e.push({path:S,score:Sw(S,h.index),routesMeta:b})};return t.forEach((h,p)=>{var m;if(h.path===""||!((m=h.path)!=null&&m.includes("?")))c(h,p);else for(let y of Jv(h.path))c(h,p,!0,y)}),e}function Jv(t){let e=t.split("/");if(e.length===0)return[];let[n,...o]=e,u=n.endsWith("?"),c=n.replace(/\?$/,"");if(o.length===0)return u?[c,""]:[c];let h=Jv(o.join("/")),p=[];return p.push(...h.map(m=>m===""?c:[c,m].join("/"))),u&&p.push(...h),p.map(m=>t.startsWith("/")&&m===""?"/":m)}function mw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bw(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var gw=/^:[\w-]+$/,vw=3,yw=2,_w=1,ww=10,xw=-2,tg=t=>t==="*";function Sw(t,e){let n=t.split("/"),o=n.length;return n.some(tg)&&(o+=xw),e&&(o+=yw),n.filter(u=>!tg(u)).reduce((u,c)=>u+(gw.test(c)?vw:c===""?_w:ww),o)}function bw(t,e){return t.length===e.length&&t.slice(0,-1).every((o,u)=>o===e[u])?t[t.length-1]-e[e.length-1]:0}function Tw(t,e,n=!1){let{routesMeta:o}=t,u={},c="/",h=[];for(let p=0;p<o.length;++p){let m=o[p],y=p===o.length-1,w=c==="/"?e:e.slice(c.length)||"/",S=lc({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},w),b=m.route;if(!S&&y&&n&&!o[o.length-1].route.index&&(S=lc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},w)),!S)return null;Object.assign(u,S.params),h.push({params:u,pathname:Dr([c,S.pathname]),pathnameBase:Lw(Dr([c,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(c=Dr([c,S.pathnameBase]))}return h}function lc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=kw(t.path,t.caseSensitive,t.end),u=e.match(n);if(!u)return null;let c=u[0],h=c.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:o.reduce((y,{paramName:w,isOptional:S},b)=>{if(w==="*"){let C=p[b]||"";h=c.slice(0,c.length-C.length).replace(/(.)\/+$/,"$1")}const E=p[b];return S&&!E?y[w]=void 0:y[w]=(E||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:t}}function kw(t,e=!1,n=!0){Yn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],u="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,m)=>(o.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),u+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?u+="\\/*$":t!==""&&t!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,e?void 0:"i"),o]}function Ew(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ur(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}var Yv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pw=t=>Yv.test(t);function Cw(t,e="/"){let{pathname:n,search:o="",hash:u=""}=typeof t=="string"?Do(t):t,c;if(n)if(Pw(n))c=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Yn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?c=ng(n.substring(1),"/"):c=ng(n,e)}else c=e;return{pathname:c,search:Aw(o),hash:Ow(u)}}function ng(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(u=>{u===".."?n.length>1&&n.pop():u!=="."&&n.push(u)}),n.length>1?n.join("/"):"/"}function nd(t,e,n,o){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xv(t){let e=Rw(t);return e.map((n,o)=>o===e.length-1?n.pathname:n.pathnameBase)}function Qv(t,e,n,o=!1){let u;typeof t=="string"?u=Do(t):(u={...t},ot(!u.pathname||!u.pathname.includes("?"),nd("?","pathname","search",u)),ot(!u.pathname||!u.pathname.includes("#"),nd("#","pathname","hash",u)),ot(!u.search||!u.search.includes("#"),nd("#","search","hash",u)));let c=t===""||u.pathname==="",h=c?"/":u.pathname,p;if(h==null)p=n;else{let S=e.length-1;if(!o&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),S-=1;u.pathname=b.join("/")}p=S>=0?e[S]:"/"}let m=Cw(u,p),y=h&&h!=="/"&&h.endsWith("/"),w=(c||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(y||w)&&(m.pathname+="/"),m}var Dr=t=>t.join("/").replace(/\/\/+/g,"/"),Lw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Aw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ow=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Iw=class{constructor(t,e,n,o=!1){this.status=t,this.statusText=e||"",this.internal=o,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Mw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Nw(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ey=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ty(t,e){let n=t;if(typeof n!="string"||!Yv.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let o=n,u=!1;if(ey)try{let c=new URL(window.location.href),h=n.startsWith("//")?new URL(c.protocol+n):new URL(n),p=Ur(h.pathname,e);h.origin===c.origin&&p!=null?n=p+h.search+h.hash:u=!0}catch{Yn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:u,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ny=["POST","PUT","PATCH","DELETE"];new Set(ny);var jw=["GET",...ny];new Set(jw);var Bo=A.createContext(null);Bo.displayName="DataRouter";var yc=A.createContext(null);yc.displayName="DataRouterState";var Dw=A.createContext(!1),ry=A.createContext({isTransitioning:!1});ry.displayName="ViewTransition";var Bw=A.createContext(new Map);Bw.displayName="Fetchers";var zw=A.createContext(null);zw.displayName="Await";var In=A.createContext(null);In.displayName="Navigation";var pl=A.createContext(null);pl.displayName="Location";var Fr=A.createContext({outlet:null,matches:[],isDataRoute:!1});Fr.displayName="Route";var vf=A.createContext(null);vf.displayName="RouteError";var iy="REACT_ROUTER_ERROR",Uw="REDIRECT",Vw="ROUTE_ERROR_RESPONSE";function Fw(t){if(t.startsWith(`${iy}:${Uw}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function $w(t){if(t.startsWith(`${iy}:${Vw}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Iw(e.status,e.statusText,e.data)}catch{}}function Ww(t,{relative:e}={}){ot(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=A.useContext(In),{hash:u,pathname:c,search:h}=gl(t,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:Dr([n,c])),o.createHref({pathname:p,search:h,hash:u})}function ml(){return A.useContext(pl)!=null}function Ni(){return ot(ml(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(pl).location}var sy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oy(t){A.useContext(In).static||A.useLayoutEffect(t)}function Hw(){let{isDataRoute:t}=A.useContext(Fr);return t?ix():Zw()}function Zw(){ot(ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Bo),{basename:e,navigator:n}=A.useContext(In),{matches:o}=A.useContext(Fr),{pathname:u}=Ni(),c=JSON.stringify(Xv(o)),h=A.useRef(!1);return oy(()=>{h.current=!0}),A.useCallback((m,y={})=>{if(Yn(h.current,sy),!h.current)return;if(typeof m=="number"){n.go(m);return}let w=Qv(m,JSON.parse(c),u,y.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Dr([e,w.pathname])),(y.replace?n.replace:n.push)(w,y.state,y)},[e,n,c,u,t])}A.createContext(null);function gl(t,{relative:e}={}){let{matches:n}=A.useContext(Fr),{pathname:o}=Ni(),u=JSON.stringify(Xv(n));return A.useMemo(()=>Qv(t,JSON.parse(u),o,e==="path"),[t,u,o,e])}function Kw(t,e){return ay(t,e)}function ay(t,e,n,o,u){var U;ot(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=A.useContext(In),{matches:h}=A.useContext(Fr),p=h[h.length-1],m=p?p.params:{},y=p?p.pathname:"/",w=p?p.pathnameBase:"/",S=p&&p.route;{let M=S&&S.path||"";uy(y,!S||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let b=Ni(),E;if(e){let M=typeof e=="string"?Do(e):e;ot(w==="/"||((U=M.pathname)==null?void 0:U.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${M.pathname}" was given in the \`location\` prop.`),E=M}else E=b;let C=E.pathname||"/",P=C;if(w!=="/"){let M=w.replace(/^\//,"").split("/");P="/"+C.replace(/^\//,"").split("/").slice(M.length).join("/")}let N=qv(t,{pathname:P});Yn(S||N!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Yn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=Xw(N&&N.map(M=>Object.assign({},M,{params:Object.assign({},m,M.params),pathname:Dr([w,c.encodeLocation?c.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?w:Dr([w,c.encodeLocation?c.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),h,n,o,u);return e&&z?A.createElement(pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},z):z}function qw(){let t=rx(),e=Mw(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:o},c={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",t),h=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:c},"ErrorBoundary")," or"," ",A.createElement("code",{style:c},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:u},n):null,h)}var Gw=A.createElement(qw,null),ly=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=$w(t.digest);n&&(t=n)}let e=t!==void 0?A.createElement(Fr.Provider,{value:this.props.routeContext},A.createElement(vf.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?A.createElement(Jw,{error:t},e):e}};ly.contextType=Dw;var rd=new WeakMap;function Jw({children:t,error:e}){let{basename:n}=A.useContext(In);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let o=Fw(e.digest);if(o){let u=rd.get(e);if(u)throw u;let c=ty(o.location,n);if(ey&&!rd.get(e))if(c.isExternal||o.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:o.replace}));throw rd.set(e,h),h}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return t}function Yw({routeContext:t,match:e,children:n}){let o=A.useContext(Bo);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Fr.Provider,{value:t},n)}function Xw(t,e=[],n=null,o=null,u=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,h=n==null?void 0:n.errors;if(h!=null){let w=c.findIndex(S=>S.route.id&&(h==null?void 0:h[S.route.id])!==void 0);ot(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,w+1))}let p=!1,m=-1;if(n)for(let w=0;w<c.length;w++){let S=c[w];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(m=w),S.route.id){let{loaderData:b,errors:E}=n,C=S.route.loader&&!b.hasOwnProperty(S.route.id)&&(!E||E[S.route.id]===void 0);if(S.route.lazy||C){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let y=n&&o?(w,S)=>{var b,E;o(w,{location:n.location,params:((E=(b=n.matches)==null?void 0:b[0])==null?void 0:E.params)??{},unstable_pattern:Nw(n.matches),errorInfo:S})}:void 0;return c.reduceRight((w,S,b)=>{let E,C=!1,P=null,N=null;n&&(E=h&&S.route.id?h[S.route.id]:void 0,P=S.route.errorElement||Gw,p&&(m<0&&b===0?(uy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,N=null):m===b&&(C=!0,N=S.route.hydrateFallbackElement||null)));let z=e.concat(c.slice(0,b+1)),U=()=>{let M;return E?M=P:C?M=N:S.route.Component?M=A.createElement(S.route.Component,null):S.route.element?M=S.route.element:M=w,A.createElement(Yw,{match:S,routeContext:{outlet:w,matches:z,isDataRoute:n!=null},children:M})};return n&&(S.route.ErrorBoundary||S.route.errorElement||b===0)?A.createElement(ly,{location:n.location,revalidation:n.revalidation,component:P,error:E,children:U(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:y}):U()},null)}function yf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qw(t){let e=A.useContext(Bo);return ot(e,yf(t)),e}function ex(t){let e=A.useContext(yc);return ot(e,yf(t)),e}function tx(t){let e=A.useContext(Fr);return ot(e,yf(t)),e}function _f(t){let e=tx(t),n=e.matches[e.matches.length-1];return ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nx(){return _f("useRouteId")}function rx(){var o;let t=A.useContext(vf),e=ex("useRouteError"),n=_f("useRouteError");return t!==void 0?t:(o=e.errors)==null?void 0:o[n]}function ix(){let{router:t}=Qw("useNavigate"),e=_f("useNavigate"),n=A.useRef(!1);return oy(()=>{n.current=!0}),A.useCallback(async(u,c={})=>{Yn(n.current,sy),n.current&&(typeof u=="number"?await t.navigate(u):await t.navigate(u,{fromRouteId:e,...c}))},[t,e])}var rg={};function uy(t,e,n){!e&&!rg[t]&&(rg[t]=!0,Yn(!1,n))}A.memo(sx);function sx({routes:t,future:e,state:n,onError:o}){return ay(t,void 0,n,o,e)}function Ha(t){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ox({basename:t="/",children:e=null,location:n,navigationType:o="POP",navigator:u,static:c=!1,unstable_useTransitions:h}){ot(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=t.replace(/^\/*/,"/"),m=A.useMemo(()=>({basename:p,navigator:u,static:c,unstable_useTransitions:h,future:{}}),[p,u,c,h]);typeof n=="string"&&(n=Do(n));let{pathname:y="/",search:w="",hash:S="",state:b=null,key:E="default"}=n,C=A.useMemo(()=>{let P=Ur(y,p);return P==null?null:{location:{pathname:P,search:w,hash:S,state:b,key:E},navigationType:o}},[p,y,w,S,b,E,o]);return Yn(C!=null,`<Router basename="${p}"> is not able to match the URL "${y}${w}${S}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:A.createElement(In.Provider,{value:m},A.createElement(pl.Provider,{children:e,value:C}))}function ax({children:t,location:e}){return Kw(Id(t),e)}function Id(t,e=[]){let n=[];return A.Children.forEach(t,(o,u)=>{if(!A.isValidElement(o))return;let c=[...e,u];if(o.type===A.Fragment){n.push.apply(n,Id(o.props.children,c));return}ot(o.type===Ha,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=Id(o.props.children,c)),n.push(h)}),n}var nc="get",rc="application/x-www-form-urlencoded";function _c(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function lx(t){return _c(t)&&t.tagName.toLowerCase()==="button"}function ux(t){return _c(t)&&t.tagName.toLowerCase()==="form"}function cx(t){return _c(t)&&t.tagName.toLowerCase()==="input"}function hx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dx(t,e){return t.button===0&&(!e||e==="_self")&&!hx(t)}var Zu=null;function fx(){if(Zu===null)try{new FormData(document.createElement("form"),0),Zu=!1}catch{Zu=!0}return Zu}var px=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function id(t){return t!=null&&!px.has(t)?(Yn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rc}"`),null):t}function mx(t,e){let n,o,u,c,h;if(ux(t)){let p=t.getAttribute("action");o=p?Ur(p,e):null,n=t.getAttribute("method")||nc,u=id(t.getAttribute("enctype"))||rc,c=new FormData(t)}else if(lx(t)||cx(t)&&(t.type==="submit"||t.type==="image")){let p=t.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||p.getAttribute("action");if(o=m?Ur(m,e):null,n=t.getAttribute("formmethod")||p.getAttribute("method")||nc,u=id(t.getAttribute("formenctype"))||id(p.getAttribute("enctype"))||rc,c=new FormData(p,t),!fx()){let{name:y,type:w,value:S}=t;if(w==="image"){let b=y?`${y}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else y&&c.append(y,S)}}else{if(_c(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nc,o=null,u=rc,h=t}return c&&u==="text/plain"&&(h=c,c=void 0),{action:o,method:n.toLowerCase(),encType:u,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gx(t,e,n,o){let u=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${o}`:u.pathname=`${u.pathname}.${o}`:u.pathname==="/"?u.pathname=`_root.${o}`:e&&Ur(u.pathname,e)==="/"?u.pathname=`${e.replace(/\/$/,"")}/_root.${o}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${o}`,u}async function vx(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yx(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _x(t,e,n){let o=await Promise.all(t.map(async u=>{let c=e.routes[u.route.id];if(c){let h=await vx(c,n);return h.links?h.links():[]}return[]}));return bx(o.flat(1).filter(yx).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function ig(t,e,n,o,u,c){let h=(m,y)=>n[y]?m.route.id!==n[y].route.id:!0,p=(m,y)=>{var w;return n[y].pathname!==m.pathname||((w=n[y].route.path)==null?void 0:w.endsWith("*"))&&n[y].params["*"]!==m.params["*"]};return c==="assets"?e.filter((m,y)=>h(m,y)||p(m,y)):c==="data"?e.filter((m,y)=>{var S;let w=o.routes[m.route.id];if(!w||!w.hasLoader)return!1;if(h(m,y)||p(m,y))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function wx(t,e,{includeHydrateFallback:n}={}){return xx(t.map(o=>{let u=e.routes[o.route.id];if(!u)return[];let c=[u.module];return u.clientActionModule&&(c=c.concat(u.clientActionModule)),u.clientLoaderModule&&(c=c.concat(u.clientLoaderModule)),n&&u.hydrateFallbackModule&&(c=c.concat(u.hydrateFallbackModule)),u.imports&&(c=c.concat(u.imports)),c}).flat(1))}function xx(t){return[...new Set(t)]}function Sx(t){let e={},n=Object.keys(t).sort();for(let o of n)e[o]=t[o];return e}function bx(t,e){let n=new Set;return new Set(e),t.reduce((o,u)=>{let c=JSON.stringify(Sx(u));return n.has(c)||(n.add(c),o.push({key:c,link:u})),o},[])}function cy(){let t=A.useContext(Bo);return wf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Tx(){let t=A.useContext(yc);return wf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var xf=A.createContext(void 0);xf.displayName="FrameworkContext";function hy(){let t=A.useContext(xf);return wf(t,"You must render this element inside a <HydratedRouter> element"),t}function kx(t,e){let n=A.useContext(xf),[o,u]=A.useState(!1),[c,h]=A.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:y,onMouseLeave:w,onTouchStart:S}=e,b=A.useRef(null);A.useEffect(()=>{if(t==="render"&&h(!0),t==="viewport"){let P=z=>{z.forEach(U=>{h(U.isIntersecting)})},N=new IntersectionObserver(P,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[t]),A.useEffect(()=>{if(o){let P=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(P)}}},[o]);let E=()=>{u(!0)},C=()=>{u(!1),h(!1)};return n?t!=="intent"?[c,b,{}]:[c,b,{onFocus:$a(p,E),onBlur:$a(m,C),onMouseEnter:$a(y,E),onMouseLeave:$a(w,C),onTouchStart:$a(S,E)}]:[!1,b,{}]}function $a(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ex({page:t,...e}){let{router:n}=cy(),o=A.useMemo(()=>qv(n.routes,t,n.basename),[n.routes,t,n.basename]);return o?A.createElement(Cx,{page:t,matches:o,...e}):null}function Px(t){let{manifest:e,routeModules:n}=hy(),[o,u]=A.useState([]);return A.useEffect(()=>{let c=!1;return _x(t,e,n).then(h=>{c||u(h)}),()=>{c=!0}},[t,e,n]),o}function Cx({page:t,matches:e,...n}){let o=Ni(),{future:u,manifest:c,routeModules:h}=hy(),{basename:p}=cy(),{loaderData:m,matches:y}=Tx(),w=A.useMemo(()=>ig(t,e,y,c,o,"data"),[t,e,y,c,o]),S=A.useMemo(()=>ig(t,e,y,c,o,"assets"),[t,e,y,c,o]),b=A.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let P=new Set,N=!1;if(e.forEach(U=>{var J;let M=c.routes[U.route.id];!M||!M.hasLoader||(!w.some(G=>G.route.id===U.route.id)&&U.route.id in m&&((J=h[U.route.id])!=null&&J.shouldRevalidate)||M.hasClientLoader?N=!0:P.add(U.route.id))}),P.size===0)return[];let z=gx(t,p,u.unstable_trailingSlashAwareDataRequests,"data");return N&&P.size>0&&z.searchParams.set("_routes",e.filter(U=>P.has(U.route.id)).map(U=>U.route.id).join(",")),[z.pathname+z.search]},[p,u.unstable_trailingSlashAwareDataRequests,m,o,c,w,e,t,h]),E=A.useMemo(()=>wx(S,c),[S,c]),C=Px(S);return A.createElement(A.Fragment,null,b.map(P=>A.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),E.map(P=>A.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),C.map(({key:P,link:N})=>A.createElement("link",{key:P,nonce:n.nonce,...N})))}function Rx(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Lx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Lx&&(window.__reactRouterVersion="7.12.0")}catch{}function Ax({basename:t,children:e,unstable_useTransitions:n,window:o}){let u=A.useRef();u.current==null&&(u.current=cw({window:o,v5Compat:!0}));let c=u.current,[h,p]=A.useState({action:c.action,location:c.location}),m=A.useCallback(y=>{n===!1?p(y):A.startTransition(()=>p(y))},[n]);return A.useLayoutEffect(()=>c.listen(m),[c,m]),A.createElement(ox,{basename:t,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:n})}var dy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fy=A.forwardRef(function({onClick:e,discover:n="render",prefetch:o="none",relative:u,reloadDocument:c,replace:h,state:p,target:m,to:y,preventScrollReset:w,viewTransition:S,unstable_defaultShouldRevalidate:b,...E},C){let{basename:P,unstable_useTransitions:N}=A.useContext(In),z=typeof y=="string"&&dy.test(y),U=ty(y,P);y=U.to;let M=Ww(y,{relative:u}),[J,G,te]=kx(o,E),ie=Mx(y,{replace:h,state:p,target:m,preventScrollReset:w,relative:u,viewTransition:S,unstable_defaultShouldRevalidate:b,unstable_useTransitions:N});function re(Ne){e&&e(Ne),Ne.defaultPrevented||ie(Ne)}let Se=A.createElement("a",{...E,...te,href:U.absoluteURL||M,onClick:U.isExternal||c?e:re,ref:Rx(C,G),target:m,"data-discover":!z&&n==="render"?"true":void 0});return J&&!z?A.createElement(A.Fragment,null,Se,A.createElement(Ex,{page:M})):Se});fy.displayName="Link";var py=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:o="",end:u=!1,style:c,to:h,viewTransition:p,children:m,...y},w){let S=gl(h,{relative:y.relative}),b=Ni(),E=A.useContext(yc),{navigator:C,basename:P}=A.useContext(In),N=E!=null&&zx(S)&&p===!0,z=C.encodeLocation?C.encodeLocation(S).pathname:S.pathname,U=b.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(U=U.toLowerCase(),M=M?M.toLowerCase():null,z=z.toLowerCase()),M&&P&&(M=Ur(M,P)||M);const J=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let G=U===z||!u&&U.startsWith(z)&&U.charAt(J)==="/",te=M!=null&&(M===z||!u&&M.startsWith(z)&&M.charAt(z.length)==="/"),ie={isActive:G,isPending:te,isTransitioning:N},re=G?e:void 0,Se;typeof o=="function"?Se=o(ie):Se=[o,G?"active":null,te?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof c=="function"?c(ie):c;return A.createElement(fy,{...y,"aria-current":re,className:Se,ref:w,style:Ne,to:h,viewTransition:p},typeof m=="function"?m(ie):m)});py.displayName="NavLink";var Ox=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:o,replace:u,state:c,method:h=nc,action:p,onSubmit:m,relative:y,preventScrollReset:w,viewTransition:S,unstable_defaultShouldRevalidate:b,...E},C)=>{let{unstable_useTransitions:P}=A.useContext(In),N=Dx(),z=Bx(p,{relative:y}),U=h.toLowerCase()==="get"?"get":"post",M=typeof p=="string"&&dy.test(p),J=G=>{if(m&&m(G),G.defaultPrevented)return;G.preventDefault();let te=G.nativeEvent.submitter,ie=(te==null?void 0:te.getAttribute("formmethod"))||h,re=()=>N(te||G.currentTarget,{fetcherKey:e,method:ie,navigate:n,replace:u,state:c,relative:y,preventScrollReset:w,viewTransition:S,unstable_defaultShouldRevalidate:b});P&&n!==!1?A.startTransition(()=>re()):re()};return A.createElement("form",{ref:C,method:U,action:z,onSubmit:o?m:J,...E,"data-discover":!M&&t==="render"?"true":void 0})});Ox.displayName="Form";function Ix(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function my(t){let e=A.useContext(Bo);return ot(e,Ix(t)),e}function Mx(t,{target:e,replace:n,state:o,preventScrollReset:u,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:m}={}){let y=Hw(),w=Ni(),S=gl(t,{relative:c});return A.useCallback(b=>{if(dx(b,e)){b.preventDefault();let E=n!==void 0?n:nl(w)===nl(S),C=()=>y(t,{replace:E,state:o,preventScrollReset:u,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:p});m?A.startTransition(()=>C()):C()}},[w,y,S,n,o,e,t,u,c,h,p,m])}var Nx=0,jx=()=>`__${String(++Nx)}__`;function Dx(){let{router:t}=my("useSubmit"),{basename:e}=A.useContext(In),n=nx(),o=t.fetch,u=t.navigate;return A.useCallback(async(c,h={})=>{let{action:p,method:m,encType:y,formData:w,body:S}=mx(c,e);if(h.navigate===!1){let b=h.fetcherKey||jx();await o(b,n,h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:w,body:S,formMethod:h.method||m,formEncType:h.encType||y,flushSync:h.flushSync})}else await u(h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:w,body:S,formMethod:h.method||m,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[o,u,e,n])}function Bx(t,{relative:e}={}){let{basename:n}=A.useContext(In),o=A.useContext(Fr);ot(o,"useFormAction must be used inside a RouteContext");let[u]=o.matches.slice(-1),c={...gl(t||".",{relative:e})},h=Ni();if(t==null){c.search=h.search;let p=new URLSearchParams(c.search),m=p.getAll("index");if(m.some(w=>w==="")){p.delete("index"),m.filter(S=>S).forEach(S=>p.append("index",S));let w=p.toString();c.search=w?`?${w}`:""}}return(!t||t===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Dr([n,c.pathname])),nl(c)}function zx(t,{relative:e}={}){let n=A.useContext(ry);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=my("useViewTransitionState"),u=gl(t,{relative:e});if(!n.isTransitioning)return!1;let c=Ur(n.currentLocation.pathname,o)||n.currentLocation.pathname,h=Ur(n.nextLocation.pathname,o)||n.nextLocation.pathname;return lc(u.pathname,h)!=null||lc(u.pathname,c)!=null}var Ux=Kv();const Sf=A.createContext({});function bf(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const Tf=typeof window<"u",gy=Tf?A.useLayoutEffect:A.useEffect,wc=A.createContext(null);function kf(t,e){t.indexOf(e)===-1&&t.push(e)}function Ef(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const dr=(t,e,n)=>n>e?e:n<t?t:n;let Pf=()=>{};const Vr={},vy=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function yy(t){return typeof t=="object"&&t!==null}const _y=t=>/^0[^.\s]+$/u.test(t);function Cf(t){let e;return()=>(e===void 0&&(e=t()),e)}const On=t=>t,Vx=(t,e)=>n=>e(t(n)),vl=(...t)=>t.reduce(Vx),rl=(t,e,n)=>{const o=e-t;return o===0?1:(n-t)/o};class Rf{constructor(){this.subscriptions=[]}add(e){return kf(this.subscriptions,e),()=>Ef(this.subscriptions,e)}notify(e,n,o){const u=this.subscriptions.length;if(u)if(u===1)this.subscriptions[0](e,n,o);else for(let c=0;c<u;c++){const h=this.subscriptions[c];h&&h(e,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Br=t=>t*1e3,An=t=>t/1e3;function wy(t,e){return e?t*(1e3/e):0}const xy=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Fx=1e-7,$x=12;function Wx(t,e,n,o,u){let c,h,p=0;do h=e+(n-e)/2,c=xy(h,o,u)-t,c>0?n=h:e=h;while(Math.abs(c)>Fx&&++p<$x);return h}function yl(t,e,n,o){if(t===e&&n===o)return On;const u=c=>Wx(c,0,1,t,n);return c=>c===0||c===1?c:xy(u(c),e,o)}const Sy=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,by=t=>e=>1-t(1-e),Ty=yl(.33,1.53,.69,.99),Lf=by(Ty),ky=Sy(Lf),Ey=t=>(t*=2)<1?.5*Lf(t):.5*(2-Math.pow(2,-10*(t-1))),Af=t=>1-Math.sin(Math.acos(t)),Py=by(Af),Cy=Sy(Af),Hx=yl(.42,0,1,1),Zx=yl(0,0,.58,1),Ry=yl(.42,0,.58,1),Kx=t=>Array.isArray(t)&&typeof t[0]!="number",Ly=t=>Array.isArray(t)&&typeof t[0]=="number",qx={linear:On,easeIn:Hx,easeInOut:Ry,easeOut:Zx,circIn:Af,circInOut:Cy,circOut:Py,backIn:Lf,backInOut:ky,backOut:Ty,anticipate:Ey},Gx=t=>typeof t=="string",sg=t=>{if(Ly(t)){Pf(t.length===4);const[e,n,o,u]=t;return yl(e,n,o,u)}else if(Gx(t))return qx[t];return t},Ku=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Jx(t,e){let n=new Set,o=new Set,u=!1,c=!1;const h=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function m(w){h.has(w)&&(y.schedule(w),t()),w(p)}const y={schedule:(w,S=!1,b=!1)=>{const C=b&&u?n:o;return S&&h.add(w),C.has(w)||C.add(w),w},cancel:w=>{o.delete(w),h.delete(w)},process:w=>{if(p=w,u){c=!0;return}u=!0,[n,o]=[o,n],n.forEach(m),n.clear(),u=!1,c&&(c=!1,y.process(w))}};return y}const Yx=40;function Ay(t,e){let n=!1,o=!0;const u={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,h=Ku.reduce((M,J)=>(M[J]=Jx(c),M),{}),{setup:p,read:m,resolveKeyframes:y,preUpdate:w,update:S,preRender:b,render:E,postRender:C}=h,P=()=>{const M=Vr.useManualTiming?u.timestamp:performance.now();n=!1,Vr.useManualTiming||(u.delta=o?1e3/60:Math.max(Math.min(M-u.timestamp,Yx),1)),u.timestamp=M,u.isProcessing=!0,p.process(u),m.process(u),y.process(u),w.process(u),S.process(u),b.process(u),E.process(u),C.process(u),u.isProcessing=!1,n&&e&&(o=!1,t(P))},N=()=>{n=!0,o=!0,u.isProcessing||t(P)};return{schedule:Ku.reduce((M,J)=>{const G=h[J];return M[J]=(te,ie=!1,re=!1)=>(n||N(),G.schedule(te,ie,re)),M},{}),cancel:M=>{for(let J=0;J<Ku.length;J++)h[Ku[J]].cancel(M)},state:u,steps:h}}const{schedule:Ye,cancel:Ii,state:At,steps:sd}=Ay(typeof requestAnimationFrame<"u"?requestAnimationFrame:On,!0);let ic;function Xx(){ic=void 0}const Kt={now:()=>(ic===void 0&&Kt.set(At.isProcessing||Vr.useManualTiming?At.timestamp:performance.now()),ic),set:t=>{ic=t,queueMicrotask(Xx)}},Oy=t=>e=>typeof e=="string"&&e.startsWith(t),Iy=Oy("--"),Qx=Oy("var(--"),Of=t=>Qx(t)?eS.test(t.split("/*")[0].trim()):!1,eS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function og(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const zo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},il={...zo,transform:t=>dr(0,1,t)},qu={...zo,default:1},Ja=t=>Math.round(t*1e5)/1e5,If=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tS(t){return t==null}const nS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mf=(t,e)=>n=>!!(typeof n=="string"&&nS.test(n)&&n.startsWith(t)||e&&!tS(n)&&Object.prototype.hasOwnProperty.call(n,e)),My=(t,e,n)=>o=>{if(typeof o!="string")return o;const[u,c,h,p]=o.match(If);return{[t]:parseFloat(u),[e]:parseFloat(c),[n]:parseFloat(h),alpha:p!==void 0?parseFloat(p):1}},rS=t=>dr(0,255,t),od={...zo,transform:t=>Math.round(rS(t))},xs={test:Mf("rgb","red"),parse:My("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:o=1})=>"rgba("+od.transform(t)+", "+od.transform(e)+", "+od.transform(n)+", "+Ja(il.transform(o))+")"};function iS(t){let e="",n="",o="",u="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),o=t.substring(5,7),u=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),o=t.substring(3,4),u=t.substring(4,5),e+=e,n+=n,o+=o,u+=u),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:u?parseInt(u,16)/255:1}}const Md={test:Mf("#"),parse:iS,transform:xs.transform},_l=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ri=_l("deg"),hr=_l("%"),le=_l("px"),sS=_l("vh"),oS=_l("vw"),ag={...hr,parse:t=>hr.parse(t)/100,transform:t=>hr.transform(t*100)},Po={test:Mf("hsl","hue"),parse:My("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:o=1})=>"hsla("+Math.round(t)+", "+hr.transform(Ja(e))+", "+hr.transform(Ja(n))+", "+Ja(il.transform(o))+")"},mt={test:t=>xs.test(t)||Md.test(t)||Po.test(t),parse:t=>xs.test(t)?xs.parse(t):Po.test(t)?Po.parse(t):Md.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xs.transform(t):Po.transform(t),getAnimatableNone:t=>{const e=mt.parse(t);return e.alpha=0,mt.transform(e)}},aS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lS(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(If))==null?void 0:e.length)||0)+(((n=t.match(aS))==null?void 0:n.length)||0)>0}const Ny="number",jy="color",uS="var",cS="var(",lg="${}",hS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sl(t){const e=t.toString(),n=[],o={color:[],number:[],var:[]},u=[];let c=0;const p=e.replace(hS,m=>(mt.test(m)?(o.color.push(c),u.push(jy),n.push(mt.parse(m))):m.startsWith(cS)?(o.var.push(c),u.push(uS),n.push(m)):(o.number.push(c),u.push(Ny),n.push(parseFloat(m))),++c,lg)).split(lg);return{values:n,split:p,indexes:o,types:u}}function Dy(t){return sl(t).values}function By(t){const{split:e,types:n}=sl(t),o=e.length;return u=>{let c="";for(let h=0;h<o;h++)if(c+=e[h],u[h]!==void 0){const p=n[h];p===Ny?c+=Ja(u[h]):p===jy?c+=mt.transform(u[h]):c+=u[h]}return c}}const dS=t=>typeof t=="number"?0:mt.test(t)?mt.getAnimatableNone(t):t;function fS(t){const e=Dy(t);return By(t)(e.map(dS))}const Mi={test:lS,parse:Dy,createTransformer:By,getAnimatableNone:fS};function ad(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function pS({hue:t,saturation:e,lightness:n,alpha:o}){t/=360,e/=100,n/=100;let u=0,c=0,h=0;if(!e)u=c=h=n;else{const p=n<.5?n*(1+e):n+e-n*e,m=2*n-p;u=ad(m,p,t+1/3),c=ad(m,p,t),h=ad(m,p,t-1/3)}return{red:Math.round(u*255),green:Math.round(c*255),blue:Math.round(h*255),alpha:o}}function uc(t,e){return n=>n>0?e:t}const st=(t,e,n)=>t+(e-t)*n,ld=(t,e,n)=>{const o=t*t,u=n*(e*e-o)+o;return u<0?0:Math.sqrt(u)},mS=[Md,xs,Po],gS=t=>mS.find(e=>e.test(t));function ug(t){const e=gS(t);if(!e)return!1;let n=e.parse(t);return e===Po&&(n=pS(n)),n}const cg=(t,e)=>{const n=ug(t),o=ug(e);if(!n||!o)return uc(t,e);const u={...n};return c=>(u.red=ld(n.red,o.red,c),u.green=ld(n.green,o.green,c),u.blue=ld(n.blue,o.blue,c),u.alpha=st(n.alpha,o.alpha,c),xs.transform(u))},Nd=new Set(["none","hidden"]);function vS(t,e){return Nd.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function yS(t,e){return n=>st(t,e,n)}function Nf(t){return typeof t=="number"?yS:typeof t=="string"?Of(t)?uc:mt.test(t)?cg:xS:Array.isArray(t)?zy:typeof t=="object"?mt.test(t)?cg:_S:uc}function zy(t,e){const n=[...t],o=n.length,u=t.map((c,h)=>Nf(c)(c,e[h]));return c=>{for(let h=0;h<o;h++)n[h]=u[h](c);return n}}function _S(t,e){const n={...t,...e},o={};for(const u in n)t[u]!==void 0&&e[u]!==void 0&&(o[u]=Nf(t[u])(t[u],e[u]));return u=>{for(const c in o)n[c]=o[c](u);return n}}function wS(t,e){const n=[],o={color:0,var:0,number:0};for(let u=0;u<e.values.length;u++){const c=e.types[u],h=t.indexes[c][o[c]],p=t.values[h]??0;n[u]=p,o[c]++}return n}const xS=(t,e)=>{const n=Mi.createTransformer(e),o=sl(t),u=sl(e);return o.indexes.var.length===u.indexes.var.length&&o.indexes.color.length===u.indexes.color.length&&o.indexes.number.length>=u.indexes.number.length?Nd.has(t)&&!u.values.length||Nd.has(e)&&!o.values.length?vS(t,e):vl(zy(wS(o,u),u.values),n):uc(t,e)};function Uy(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?st(t,e,n):Nf(t)(t,e)}const SS=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ye.update(e,n),stop:()=>Ii(e),now:()=>At.isProcessing?At.timestamp:Kt.now()}},Vy=(t,e,n=10)=>{let o="";const u=Math.max(Math.round(e/n),2);for(let c=0;c<u;c++)o+=Math.round(t(c/(u-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},cc=2e4;function jf(t){let e=0;const n=50;let o=t.next(e);for(;!o.done&&e<cc;)e+=n,o=t.next(e);return e>=cc?1/0:e}function bS(t,e=100,n){const o=n({...t,keyframes:[0,e]}),u=Math.min(jf(o),cc);return{type:"keyframes",ease:c=>o.next(u*c).value/e,duration:An(u)}}const TS=5;function Fy(t,e,n){const o=Math.max(e-TS,0);return wy(n-t(o),e-o)}const ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ud=.001;function kS({duration:t=ct.duration,bounce:e=ct.bounce,velocity:n=ct.velocity,mass:o=ct.mass}){let u,c,h=1-e;h=dr(ct.minDamping,ct.maxDamping,h),t=dr(ct.minDuration,ct.maxDuration,An(t)),h<1?(u=y=>{const w=y*h,S=w*t,b=w-n,E=jd(y,h),C=Math.exp(-S);return ud-b/E*C},c=y=>{const S=y*h*t,b=S*n+n,E=Math.pow(h,2)*Math.pow(y,2)*t,C=Math.exp(-S),P=jd(Math.pow(y,2),h);return(-u(y)+ud>0?-1:1)*((b-E)*C)/P}):(u=y=>{const w=Math.exp(-y*t),S=(y-n)*t+1;return-ud+w*S},c=y=>{const w=Math.exp(-y*t),S=(n-y)*(t*t);return w*S});const p=5/t,m=PS(u,c,p);if(t=Br(t),isNaN(m))return{stiffness:ct.stiffness,damping:ct.damping,duration:t};{const y=Math.pow(m,2)*o;return{stiffness:y,damping:h*2*Math.sqrt(o*y),duration:t}}}const ES=12;function PS(t,e,n){let o=n;for(let u=1;u<ES;u++)o=o-t(o)/e(o);return o}function jd(t,e){return t*Math.sqrt(1-e*e)}const CS=["duration","bounce"],RS=["stiffness","damping","mass"];function hg(t,e){return e.some(n=>t[n]!==void 0)}function LS(t){let e={velocity:ct.velocity,stiffness:ct.stiffness,damping:ct.damping,mass:ct.mass,isResolvedFromDuration:!1,...t};if(!hg(t,RS)&&hg(t,CS))if(t.visualDuration){const n=t.visualDuration,o=2*Math.PI/(n*1.2),u=o*o,c=2*dr(.05,1,1-(t.bounce||0))*Math.sqrt(u);e={...e,mass:ct.mass,stiffness:u,damping:c}}else{const n=kS(t);e={...e,...n,mass:ct.mass},e.isResolvedFromDuration=!0}return e}function hc(t=ct.visualDuration,e=ct.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:o,restDelta:u}=n;const c=n.keyframes[0],h=n.keyframes[n.keyframes.length-1],p={done:!1,value:c},{stiffness:m,damping:y,mass:w,duration:S,velocity:b,isResolvedFromDuration:E}=LS({...n,velocity:-An(n.velocity||0)}),C=b||0,P=y/(2*Math.sqrt(m*w)),N=h-c,z=An(Math.sqrt(m/w)),U=Math.abs(N)<5;o||(o=U?ct.restSpeed.granular:ct.restSpeed.default),u||(u=U?ct.restDelta.granular:ct.restDelta.default);let M;if(P<1){const G=jd(z,P);M=te=>{const ie=Math.exp(-P*z*te);return h-ie*((C+P*z*N)/G*Math.sin(G*te)+N*Math.cos(G*te))}}else if(P===1)M=G=>h-Math.exp(-z*G)*(N+(C+z*N)*G);else{const G=z*Math.sqrt(P*P-1);M=te=>{const ie=Math.exp(-P*z*te),re=Math.min(G*te,300);return h-ie*((C+P*z*N)*Math.sinh(re)+G*N*Math.cosh(re))/G}}const J={calculatedDuration:E&&S||null,next:G=>{const te=M(G);if(E)p.done=G>=S;else{let ie=G===0?C:0;P<1&&(ie=G===0?Br(C):Fy(M,G,te));const re=Math.abs(ie)<=o,Se=Math.abs(h-te)<=u;p.done=re&&Se}return p.value=p.done?h:te,p},toString:()=>{const G=Math.min(jf(J),cc),te=Vy(ie=>J.next(G*ie).value,G,30);return G+"ms "+te},toTransition:()=>{}};return J}hc.applyToOptions=t=>{const e=bS(t,100,hc);return t.ease=e.ease,t.duration=Br(e.duration),t.type="keyframes",t};function Dd({keyframes:t,velocity:e=0,power:n=.8,timeConstant:o=325,bounceDamping:u=10,bounceStiffness:c=500,modifyTarget:h,min:p,max:m,restDelta:y=.5,restSpeed:w}){const S=t[0],b={done:!1,value:S},E=re=>p!==void 0&&re<p||m!==void 0&&re>m,C=re=>p===void 0?m:m===void 0||Math.abs(p-re)<Math.abs(m-re)?p:m;let P=n*e;const N=S+P,z=h===void 0?N:h(N);z!==N&&(P=z-S);const U=re=>-P*Math.exp(-re/o),M=re=>z+U(re),J=re=>{const Se=U(re),Ne=M(re);b.done=Math.abs(Se)<=y,b.value=b.done?z:Ne};let G,te;const ie=re=>{E(b.value)&&(G=re,te=hc({keyframes:[b.value,C(b.value)],velocity:Fy(M,re,b.value),damping:u,stiffness:c,restDelta:y,restSpeed:w}))};return ie(0),{calculatedDuration:null,next:re=>{let Se=!1;return!te&&G===void 0&&(Se=!0,J(re),ie(re)),G!==void 0&&re>=G?te.next(re-G):(!Se&&J(re),b)}}}function AS(t,e,n){const o=[],u=n||Vr.mix||Uy,c=t.length-1;for(let h=0;h<c;h++){let p=u(t[h],t[h+1]);if(e){const m=Array.isArray(e)?e[h]||On:e;p=vl(m,p)}o.push(p)}return o}function OS(t,e,{clamp:n=!0,ease:o,mixer:u}={}){const c=t.length;if(Pf(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const h=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const p=AS(e,o,u),m=p.length,y=w=>{if(h&&w<t[0])return e[0];let S=0;if(m>1)for(;S<t.length-2&&!(w<t[S+1]);S++);const b=rl(t[S],t[S+1],w);return p[S](b)};return n?w=>y(dr(t[0],t[c-1],w)):y}function IS(t,e){const n=t[t.length-1];for(let o=1;o<=e;o++){const u=rl(0,e,o);t.push(st(n,1,u))}}function MS(t){const e=[0];return IS(e,t.length-1),e}function NS(t,e){return t.map(n=>n*e)}function jS(t,e){return t.map(()=>e||Ry).splice(0,t.length-1)}function Ya({duration:t=300,keyframes:e,times:n,ease:o="easeInOut"}){const u=Kx(o)?o.map(sg):sg(o),c={done:!1,value:e[0]},h=NS(n&&n.length===e.length?n:MS(e),t),p=OS(h,e,{ease:Array.isArray(u)?u:jS(e,u)});return{calculatedDuration:t,next:m=>(c.value=p(m),c.done=m>=t,c)}}const DS=t=>t!==null;function Df(t,{repeat:e,repeatType:n="loop"},o,u=1){const c=t.filter(DS),p=u<0||e&&n!=="loop"&&e%2===1?0:c.length-1;return!p||o===void 0?c[p]:o}const BS={decay:Dd,inertia:Dd,tween:Ya,keyframes:Ya,spring:hc};function $y(t){typeof t.type=="string"&&(t.type=BS[t.type])}class Bf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const zS=t=>t/100;class zf extends Bf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var o,u;const{motionValue:n}=this.options;n&&n.updatedAt!==Kt.now()&&this.tick(Kt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(u=(o=this.options).onStop)==null||u.call(o))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$y(e);const{type:n=Ya,repeat:o=0,repeatDelay:u=0,repeatType:c,velocity:h=0}=e;let{keyframes:p}=e;const m=n||Ya;m!==Ya&&typeof p[0]!="number"&&(this.mixKeyframes=vl(zS,Uy(p[0],p[1])),p=[0,100]);const y=m({...e,keyframes:p});c==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...p].reverse(),velocity:-h})),y.calculatedDuration===null&&(y.calculatedDuration=jf(y));const{calculatedDuration:w}=y;this.calculatedDuration=w,this.resolvedDuration=w+u,this.totalDuration=this.resolvedDuration*(o+1)-u,this.generator=y}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:o,totalDuration:u,mixKeyframes:c,mirroredGenerator:h,resolvedDuration:p,calculatedDuration:m}=this;if(this.startTime===null)return o.next(0);const{delay:y=0,keyframes:w,repeat:S,repeatType:b,repeatDelay:E,type:C,onUpdate:P,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-y*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?z<0:z>u;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let M=this.currentTime,J=o;if(S){const re=Math.min(this.currentTime,u)/p;let Se=Math.floor(re),Ne=re%1;!Ne&&re>=1&&(Ne=1),Ne===1&&Se--,Se=Math.min(Se,S+1),!!(Se%2)&&(b==="reverse"?(Ne=1-Ne,E&&(Ne-=E/p)):b==="mirror"&&(J=h)),M=dr(0,1,Ne)*p}const G=U?{done:!1,value:w[0]}:J.next(M);c&&(G.value=c(G.value));let{done:te}=G;!U&&m!==null&&(te=this.playbackSpeed>=0?this.currentTime>=u:this.currentTime<=0);const ie=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&te);return ie&&C!==Dd&&(G.value=Df(w,this.options,N,this.speed)),P&&P(G.value),ie&&this.finish(),G}then(e,n){return this.finished.then(e,n)}get duration(){return An(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+An(e)}get time(){return An(this.currentTime)}set time(e){var n;e=Br(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Kt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=An(this.currentTime))}play(){var u,c;if(this.isStopped)return;const{driver:e=SS,startTime:n}=this.options;this.driver||(this.driver=e(h=>this.tick(h))),(c=(u=this.options).onPlay)==null||c.call(u);const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=n??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function US(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ss=t=>t*180/Math.PI,Bd=t=>{const e=Ss(Math.atan2(t[1],t[0]));return zd(e)},VS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Bd,rotateZ:Bd,skewX:t=>Ss(Math.atan(t[1])),skewY:t=>Ss(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},zd=t=>(t=t%360,t<0&&(t+=360),t),dg=Bd,fg=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pg=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),FS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fg,scaleY:pg,scale:t=>(fg(t)+pg(t))/2,rotateX:t=>zd(Ss(Math.atan2(t[6],t[5]))),rotateY:t=>zd(Ss(Math.atan2(-t[2],t[0]))),rotateZ:dg,rotate:dg,skewX:t=>Ss(Math.atan(t[4])),skewY:t=>Ss(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ud(t){return t.includes("scale")?1:0}function Vd(t,e){if(!t||t==="none")return Ud(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,u;if(n)o=FS,u=n;else{const p=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=VS,u=p}if(!u)return Ud(e);const c=o[e],h=u[1].split(",").map(WS);return typeof c=="function"?c(h):h[c]}const $S=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Vd(n,e)};function WS(t){return parseFloat(t.trim())}const Uo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vo=new Set(Uo),mg=t=>t===zo||t===le,HS=new Set(["x","y","z"]),ZS=Uo.filter(t=>!HS.has(t));function KS(t){const e=[];return ZS.forEach(n=>{const o=t.getValue(n);o!==void 0&&(e.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),e}const Oi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Vd(e,"x"),y:(t,{transform:e})=>Vd(e,"y")};Oi.translateX=Oi.x;Oi.translateY=Oi.y;const Ts=new Set;let Fd=!1,$d=!1,Wd=!1;function Wy(){if($d){const t=Array.from(Ts).filter(o=>o.needsMeasurement),e=new Set(t.map(o=>o.element)),n=new Map;e.forEach(o=>{const u=KS(o);u.length&&(n.set(o,u),o.render())}),t.forEach(o=>o.measureInitialState()),e.forEach(o=>{o.render();const u=n.get(o);u&&u.forEach(([c,h])=>{var p;(p=o.getValue(c))==null||p.set(h)})}),t.forEach(o=>o.measureEndState()),t.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}$d=!1,Fd=!1,Ts.forEach(t=>t.complete(Wd)),Ts.clear()}function Hy(){Ts.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($d=!0)})}function qS(){Wd=!0,Hy(),Wy(),Wd=!1}class Uf{constructor(e,n,o,u,c,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=o,this.motionValue=u,this.element=c,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(Ts.add(this),Fd||(Fd=!0,Ye.read(Hy),Ye.resolveKeyframes(Wy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:o,motionValue:u}=this;if(e[0]===null){const c=u==null?void 0:u.get(),h=e[e.length-1];if(c!==void 0)e[0]=c;else if(o&&n){const p=o.readValue(n,h);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=h),u&&c===void 0&&u.set(e[0])}US(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ts.delete(this)}cancel(){this.state==="scheduled"&&(Ts.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GS=t=>t.startsWith("--");function JS(t,e,n){GS(e)?t.style.setProperty(e,n):t.style[e]=n}const YS=Cf(()=>window.ScrollTimeline!==void 0),XS={};function QS(t,e){const n=Cf(t);return()=>XS[e]??n()}const Zy=QS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Za=([t,e,n,o])=>`cubic-bezier(${t}, ${e}, ${n}, ${o})`,gg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Za([0,.65,.55,1]),circOut:Za([.55,0,1,.45]),backIn:Za([.31,.01,.66,-.59]),backOut:Za([.33,1.53,.69,.99])};function Ky(t,e){if(t)return typeof t=="function"?Zy()?Vy(t,e):"ease-out":Ly(t)?Za(t):Array.isArray(t)?t.map(n=>Ky(n,e)||gg.easeOut):gg[t]}function eb(t,e,n,{delay:o=0,duration:u=300,repeat:c=0,repeatType:h="loop",ease:p="easeOut",times:m}={},y=void 0){const w={[e]:n};m&&(w.offset=m);const S=Ky(p,u);Array.isArray(S)&&(w.easing=S);const b={delay:o,duration:u,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:c+1,direction:h==="reverse"?"alternate":"normal"};return y&&(b.pseudoElement=y),t.animate(w,b)}function qy(t){return typeof t=="function"&&"applyToOptions"in t}function tb({type:t,...e}){return qy(t)&&Zy()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class nb extends Bf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:o,keyframes:u,pseudoElement:c,allowFlatten:h=!1,finalKeyframe:p,onComplete:m}=e;this.isPseudoElement=!!c,this.allowFlatten=h,this.options=e,Pf(typeof e.type!="string");const y=tb(e);this.animation=eb(n,o,u,y,c),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const w=Df(u,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(w):JS(n,o,w),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,o;const e=((o=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:o.call(n).duration)||0;return An(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+An(e)}get time(){return An(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Br(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var o;return this.allowFlatten&&((o=this.animation.effect)==null||o.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&YS()?(this.animation.timeline=e,On):n(this)}}const Gy={anticipate:Ey,backInOut:ky,circInOut:Cy};function rb(t){return t in Gy}function ib(t){typeof t.ease=="string"&&rb(t.ease)&&(t.ease=Gy[t.ease])}const cd=10;class sb extends nb{constructor(e){ib(e),$y(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:o,onComplete:u,element:c,...h}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const p=new zf({...h,autoplay:!1}),m=Math.max(cd,Kt.now()-this.startTime),y=dr(0,cd,m-cd);n.setWithVelocity(p.sample(Math.max(0,m-y)).value,p.sample(m).value,y),p.stop()}}const vg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Mi.test(t)||t==="0")&&!t.startsWith("url("));function ob(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ab(t,e,n,o){const u=t[0];if(u===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],h=vg(u,e),p=vg(c,e);return!h||!p?!1:ob(t)||(n==="spring"||qy(n))&&o}function Hd(t){t.duration=0,t.type="keyframes"}const lb=new Set(["opacity","clipPath","filter","transform"]),ub=Cf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cb(t){var w;const{motionValue:e,name:n,repeatDelay:o,repeatType:u,damping:c,type:h}=t;if(!(((w=e==null?void 0:e.owner)==null?void 0:w.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:y}=e.owner.getProps();return ub()&&n&&lb.has(n)&&(n!=="transform"||!y)&&!m&&!o&&u!=="mirror"&&c!==0&&h!=="inertia"}const hb=40;class db extends Bf{constructor({autoplay:e=!0,delay:n=0,type:o="keyframes",repeat:u=0,repeatDelay:c=0,repeatType:h="loop",keyframes:p,name:m,motionValue:y,element:w,...S}){var C;super(),this.stop=()=>{var P,N;this._animation&&(this._animation.stop(),(P=this.stopTimeline)==null||P.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=Kt.now();const b={autoplay:e,delay:n,type:o,repeat:u,repeatDelay:c,repeatType:h,name:m,motionValue:y,element:w,...S},E=(w==null?void 0:w.KeyframeResolver)||Uf;this.keyframeResolver=new E(p,(P,N,z)=>this.onKeyframesResolved(P,N,b,!z),m,y,w),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,o,u){this.keyframeResolver=void 0;const{name:c,type:h,velocity:p,delay:m,isHandoff:y,onUpdate:w}=o;this.resolvedAt=Kt.now(),ab(e,c,h,p)||((Vr.instantAnimations||!m)&&(w==null||w(Df(e,o,n))),e[0]=e[e.length-1],Hd(o),o.repeat=0);const b={startTime:u?this.resolvedAt?this.resolvedAt-this.createdAt>hb?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...o,keyframes:e},E=!y&&cb(b)?new sb({...b,element:b.motionValue.owner.current}):new zf(b);E.finished.then(()=>this.notifyFinished()).catch(On),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),qS()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const fb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pb(t){const e=fb.exec(t);if(!e)return[,];const[,n,o,u]=e;return[`--${n??o}`,u]}function Jy(t,e,n=1){const[o,u]=pb(t);if(!o)return;const c=window.getComputedStyle(e).getPropertyValue(o);if(c){const h=c.trim();return vy(h)?parseFloat(h):h}return Of(u)?Jy(u,e,n+1):u}function Vf(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Yy=new Set(["width","height","top","left","right","bottom",...Uo]),mb={test:t=>t==="auto",parse:t=>t},Xy=t=>e=>e.test(t),Qy=[zo,le,hr,Ri,oS,sS,mb],yg=t=>Qy.find(Xy(t));function gb(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_y(t):!0}const vb=new Set(["brightness","contrast","saturate","opacity"]);function yb(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[o]=n.match(If)||[];if(!o)return t;const u=n.replace(o,"");let c=vb.has(e)?1:0;return o!==n&&(c*=100),e+"("+c+u+")"}const _b=/\b([a-z-]*)\(.*?\)/gu,Zd={...Mi,getAnimatableNone:t=>{const e=t.match(_b);return e?e.map(yb).join(" "):t}},_g={...zo,transform:Math.round},wb={rotate:Ri,rotateX:Ri,rotateY:Ri,rotateZ:Ri,scale:qu,scaleX:qu,scaleY:qu,scaleZ:qu,skew:Ri,skewX:Ri,skewY:Ri,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:il,originX:ag,originY:ag,originZ:le},Ff={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,inset:le,insetBlock:le,insetBlockStart:le,insetBlockEnd:le,insetInline:le,insetInlineStart:le,insetInlineEnd:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,paddingBlock:le,paddingBlockStart:le,paddingBlockEnd:le,paddingInline:le,paddingInlineStart:le,paddingInlineEnd:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,marginBlock:le,marginBlockStart:le,marginBlockEnd:le,marginInline:le,marginInlineStart:le,marginInlineEnd:le,backgroundPositionX:le,backgroundPositionY:le,...wb,zIndex:_g,fillOpacity:il,strokeOpacity:il,numOctaves:_g},xb={...Ff,color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,filter:Zd,WebkitFilter:Zd},e_=t=>xb[t];function t_(t,e){let n=e_(t);return n!==Zd&&(n=Mi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Sb=new Set(["auto","none","0"]);function bb(t,e,n){let o=0,u;for(;o<t.length&&!u;){const c=t[o];typeof c=="string"&&!Sb.has(c)&&sl(c).values.length&&(u=t[o]),o++}if(u&&n)for(const c of e)t[c]=t_(n,u)}class Tb extends Uf{constructor(e,n,o,u,c){super(e,n,o,u,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:o}=this;if(!n||!n.current)return;super.readKeyframes();for(let w=0;w<e.length;w++){let S=e[w];if(typeof S=="string"&&(S=S.trim(),Of(S))){const b=Jy(S,n.current);b!==void 0&&(e[w]=b),w===e.length-1&&(this.finalKeyframe=S)}}if(this.resolveNoneKeyframes(),!Yy.has(o)||e.length!==2)return;const[u,c]=e,h=yg(u),p=yg(c),m=og(u),y=og(c);if(m!==y&&Oi[o]){this.needsMeasurement=!0;return}if(h!==p)if(mg(h)&&mg(p))for(let w=0;w<e.length;w++){const S=e[w];typeof S=="string"&&(e[w]=parseFloat(S))}else Oi[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,o=[];for(let u=0;u<e.length;u++)(e[u]===null||gb(e[u]))&&o.push(u);o.length&&bb(e,o,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:o}=this;if(!e||!e.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oi[o](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const u=n[n.length-1];u!==void 0&&e.getValue(o,u).jump(u,!1)}measureEndState(){var p;const{element:e,name:n,unresolvedKeyframes:o}=this;if(!e||!e.current)return;const u=e.getValue(n);u&&u.jump(this.measuredOrigin,!1);const c=o.length-1,h=o[c];o[c]=Oi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),(p=this.removedTransforms)!=null&&p.length&&this.removedTransforms.forEach(([m,y])=>{e.getValue(m).set(y)}),this.resolveNoneKeyframes()}}function kb(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let o=document;const u=(n==null?void 0:n[t])??o.querySelectorAll(t);return u?Array.from(u):[]}return Array.from(t)}const n_=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function r_(t){return yy(t)&&"offsetHeight"in t}const wg=30,Eb=t=>!isNaN(parseFloat(t));class Pb{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{var c;const u=Kt.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Kt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Eb(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Rf);const o=this.events[e].add(n);return e==="change"?()=>{o(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,o){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-o}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Kt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>wg)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,wg);return wy(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function No(t,e){return new Pb(t,e)}const{schedule:$f}=Ay(queueMicrotask,!1),qn={x:!1,y:!1};function i_(){return qn.x||qn.y}function Cb(t){return t==="x"||t==="y"?qn[t]?null:(qn[t]=!0,()=>{qn[t]=!1}):qn.x||qn.y?null:(qn.x=qn.y=!0,()=>{qn.x=qn.y=!1})}function s_(t,e){const n=kb(t),o=new AbortController,u={passive:!0,...e,signal:o.signal};return[n,u,()=>o.abort()]}function xg(t){return!(t.pointerType==="touch"||i_())}function Rb(t,e,n={}){const[o,u,c]=s_(t,n),h=p=>{if(!xg(p))return;const{target:m}=p,y=e(m,p);if(typeof y!="function"||!m)return;const w=S=>{xg(S)&&(y(S),m.removeEventListener("pointerleave",w))};m.addEventListener("pointerleave",w,u)};return o.forEach(p=>{p.addEventListener("pointerenter",h,u)}),c}const o_=(t,e)=>e?t===e?!0:o_(t,e.parentElement):!1,Wf=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Lb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function a_(t){return Lb.has(t.tagName)||t.isContentEditable===!0}const sc=new WeakSet;function Sg(t){return e=>{e.key==="Enter"&&t(e)}}function hd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ab=(t,e)=>{const n=t.currentTarget;if(!n)return;const o=Sg(()=>{if(sc.has(n))return;hd(n,"down");const u=Sg(()=>{hd(n,"up")}),c=()=>hd(n,"cancel");n.addEventListener("keyup",u,e),n.addEventListener("blur",c,e)});n.addEventListener("keydown",o,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",o),e)};function bg(t){return Wf(t)&&!i_()}function Ob(t,e,n={}){const[o,u,c]=s_(t,n),h=p=>{const m=p.currentTarget;if(!bg(p))return;sc.add(m);const y=e(m,p),w=(E,C)=>{window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",b),sc.has(m)&&sc.delete(m),bg(E)&&typeof y=="function"&&y(E,{success:C})},S=E=>{w(E,m===window||m===document||n.useGlobalTarget||o_(m,E.target))},b=E=>{w(E,!1)};window.addEventListener("pointerup",S,u),window.addEventListener("pointercancel",b,u)};return o.forEach(p=>{(n.useGlobalTarget?window:p).addEventListener("pointerdown",h,u),r_(p)&&(p.addEventListener("focus",y=>Ab(y,u)),!a_(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),c}function l_(t){return yy(t)&&"ownerSVGElement"in t}function Ib(t){return l_(t)&&t.tagName==="svg"}const Ut=t=>!!(t&&t.getVelocity),Mb=[...Qy,mt,Mi],Nb=t=>Mb.find(Xy(t)),Hf=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Tg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jb(...t){return e=>{let n=!1;const o=t.map(u=>{const c=Tg(u,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let u=0;u<o.length;u++){const c=o[u];typeof c=="function"?c():Tg(t[u],null)}}}}function Db(...t){return A.useCallback(jb(...t),t)}class Bb extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const o=n.offsetParent,u=r_(o)&&o.offsetWidth||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=u-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zb({children:t,isPresent:e,anchorX:n,root:o}){var w;const u=A.useId(),c=A.useRef(null),h=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=A.useContext(Hf),m=((w=t.props)==null?void 0:w.ref)??(t==null?void 0:t.ref),y=Db(c,m);return A.useInsertionEffect(()=>{const{width:S,height:b,top:E,left:C,right:P}=h.current;if(e||!c.current||!S||!b)return;const N=n==="left"?`left: ${C}`:`right: ${P}`;c.current.dataset.motionPopId=u;const z=document.createElement("style");p&&(z.nonce=p);const U=o??document.head;return U.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${S}px !important;
            height: ${b}px !important;
            ${N}px !important;
            top: ${E}px !important;
          }
        `),()=>{U.contains(z)&&U.removeChild(z)}},[e]),I.jsx(Bb,{isPresent:e,childRef:c,sizeRef:h,children:A.cloneElement(t,{ref:y})})}const Ub=({children:t,initial:e,isPresent:n,onExitComplete:o,custom:u,presenceAffectsLayout:c,mode:h,anchorX:p,root:m})=>{const y=bf(Vb),w=A.useId();let S=!0,b=A.useMemo(()=>(S=!1,{id:w,initial:e,isPresent:n,custom:u,onExitComplete:E=>{y.set(E,!0);for(const C of y.values())if(!C)return;o&&o()},register:E=>(y.set(E,!1),()=>y.delete(E))}),[n,y,o]);return c&&S&&(b={...b}),A.useMemo(()=>{y.forEach((E,C)=>y.set(C,!1))},[n]),A.useEffect(()=>{!n&&!y.size&&o&&o()},[n]),h==="popLayout"&&(t=I.jsx(zb,{isPresent:n,anchorX:p,root:m,children:t})),I.jsx(wc.Provider,{value:b,children:t})};function Vb(){return new Map}function u_(t=!0){const e=A.useContext(wc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:o,register:u}=e,c=A.useId();A.useEffect(()=>{if(t)return u(c)},[t]);const h=A.useCallback(()=>t&&o&&o(c),[c,o,t]);return!n&&o?[!1,h]:[!0]}const Gu=t=>t.key||"";function kg(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const c_=({children:t,custom:e,initial:n=!0,onExitComplete:o,presenceAffectsLayout:u=!0,mode:c="sync",propagate:h=!1,anchorX:p="left",root:m})=>{const[y,w]=u_(h),S=A.useMemo(()=>kg(t),[t]),b=h&&!y?[]:S.map(Gu),E=A.useRef(!0),C=A.useRef(S),P=bf(()=>new Map),N=A.useRef(new Set),[z,U]=A.useState(S),[M,J]=A.useState(S);gy(()=>{E.current=!1,C.current=S;for(let ie=0;ie<M.length;ie++){const re=Gu(M[ie]);b.includes(re)?(P.delete(re),N.current.delete(re)):P.get(re)!==!0&&P.set(re,!1)}},[M,b.length,b.join("-")]);const G=[];if(S!==z){let ie=[...S];for(let re=0;re<M.length;re++){const Se=M[re],Ne=Gu(Se);b.includes(Ne)||(ie.splice(re,0,Se),G.push(Se))}return c==="wait"&&G.length&&(ie=G),J(kg(ie)),U(S),null}const{forceRender:te}=A.useContext(Sf);return I.jsx(I.Fragment,{children:M.map(ie=>{const re=Gu(ie),Se=h&&!y?!1:S===M||b.includes(re),Ne=()=>{if(N.current.has(re))return;if(N.current.add(re),P.has(re))P.set(re,!0);else return;let Be=!0;P.forEach(Fe=>{Fe||(Be=!1)}),Be&&(te==null||te(),J(C.current),h&&(w==null||w()),o&&o())};return I.jsx(Ub,{isPresent:Se,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:u,mode:c,root:m,onExitComplete:Se?void 0:Ne,anchorX:p,children:ie},re)})})},h_=A.createContext({strict:!1}),Eg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jo={};for(const t in Eg)jo[t]={isEnabled:e=>Eg[t].some(n=>!!e[n])};function Fb(t){for(const e in t)jo[e]={...jo[e],...t[e]}}const $b=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$b.has(t)}let d_=t=>!dc(t);function Wb(t){typeof t=="function"&&(d_=e=>e.startsWith("on")?!dc(e):t(e))}try{Wb(require("@emotion/is-prop-valid").default)}catch{}function Hb(t,e,n){const o={};for(const u in t)u==="values"&&typeof t.values=="object"||(d_(u)||n===!0&&dc(u)||!e&&!dc(u)||t.draggable&&u.startsWith("onDrag"))&&(o[u]=t[u]);return o}const xc=A.createContext({});function Sc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ol(t){return typeof t=="string"||Array.isArray(t)}const Zf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Kf=["initial",...Zf];function bc(t){return Sc(t.animate)||Kf.some(e=>ol(t[e]))}function f_(t){return!!(bc(t)||t.variants)}function Zb(t,e){if(bc(t)){const{initial:n,animate:o}=t;return{initial:n===!1||ol(n)?n:void 0,animate:ol(o)?o:void 0}}return t.inherit!==!1?e:{}}function Kb(t){const{initial:e,animate:n}=Zb(t,A.useContext(xc));return A.useMemo(()=>({initial:e,animate:n}),[Pg(e),Pg(n)])}function Pg(t){return Array.isArray(t)?t.join(" "):t}function Cg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const n=Cg(t,e.target.x),o=Cg(t,e.target.y);return`${n}% ${o}%`}},qb={correct:(t,{treeScale:e,projectionDelta:n})=>{const o=t,u=Mi.parse(t);if(u.length>5)return o;const c=Mi.createTransformer(t),h=typeof u[0]!="number"?1:0,p=n.x.scale*e.x,m=n.y.scale*e.y;u[0+h]/=p,u[1+h]/=m;const y=st(p,m,.5);return typeof u[2+h]=="number"&&(u[2+h]/=y),typeof u[3+h]=="number"&&(u[3+h]/=y),c(u)}},Kd={borderRadius:{...Wa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wa,borderTopRightRadius:Wa,borderBottomLeftRadius:Wa,borderBottomRightRadius:Wa,boxShadow:qb};function p_(t,{layout:e,layoutId:n}){return Vo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Kd[t]||t==="opacity")}const Gb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jb=Uo.length;function Yb(t,e,n){let o="",u=!0;for(let c=0;c<Jb;c++){const h=Uo[c],p=t[h];if(p===void 0)continue;let m=!0;if(typeof p=="number"?m=p===(h.startsWith("scale")?1:0):m=parseFloat(p)===0,!m||n){const y=n_(p,Ff[h]);if(!m){u=!1;const w=Gb[h]||h;o+=`${w}(${y}) `}n&&(e[h]=y)}}return o=o.trim(),n?o=n(e,u?"":o):u&&(o="none"),o}function qf(t,e,n){const{style:o,vars:u,transformOrigin:c}=t;let h=!1,p=!1;for(const m in e){const y=e[m];if(Vo.has(m)){h=!0;continue}else if(Iy(m)){u[m]=y;continue}else{const w=n_(y,Ff[m]);m.startsWith("origin")?(p=!0,c[m]=w):o[m]=w}}if(e.transform||(h||n?o.transform=Yb(e,t.transform,n):o.transform&&(o.transform="none")),p){const{originX:m="50%",originY:y="50%",originZ:w=0}=c;o.transformOrigin=`${m} ${y} ${w}`}}const Gf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function m_(t,e,n){for(const o in e)!Ut(e[o])&&!p_(o,n)&&(t[o]=e[o])}function Xb({transformTemplate:t},e){return A.useMemo(()=>{const n=Gf();return qf(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Qb(t,e){const n=t.style||{},o={};return m_(o,n,t),Object.assign(o,Xb(t,e)),o}function eT(t,e){const n={},o=Qb(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=o,n}const tT={offset:"stroke-dashoffset",array:"stroke-dasharray"},nT={offset:"strokeDashoffset",array:"strokeDasharray"};function rT(t,e,n=1,o=0,u=!0){t.pathLength=1;const c=u?tT:nT;t[c.offset]=le.transform(-o);const h=le.transform(e),p=le.transform(n);t[c.array]=`${h} ${p}`}const iT=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function g_(t,{attrX:e,attrY:n,attrScale:o,pathLength:u,pathSpacing:c=1,pathOffset:h=0,...p},m,y,w){if(qf(t,p,y),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:b}=t;S.transform&&(b.transform=S.transform,delete S.transform),(b.transform||S.transformOrigin)&&(b.transformOrigin=S.transformOrigin??"50% 50%",delete S.transformOrigin),b.transform&&(b.transformBox=(w==null?void 0:w.transformBox)??"fill-box",delete S.transformBox);for(const E of iT)S[E]!==void 0&&(b[E]=S[E],delete S[E]);e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),o!==void 0&&(S.scale=o),u!==void 0&&rT(S,u,c,h,!1)}const v_=()=>({...Gf(),attrs:{}}),y_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sT(t,e,n,o){const u=A.useMemo(()=>{const c=v_();return g_(c,e,y_(o),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};m_(c,t.style,t),u.style={...c,...u.style}}return u}const oT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jf(t){return typeof t!="string"||t.includes("-")?!1:!!(oT.indexOf(t)>-1||/[A-Z]/u.test(t))}function aT(t,e,n,{latestValues:o},u,c=!1,h){const m=(h??Jf(t)?sT:eT)(e,o,u,t),y=Hb(e,typeof t=="string",c),w=t!==A.Fragment?{...y,...m,ref:n}:{},{children:S}=e,b=A.useMemo(()=>Ut(S)?S.get():S,[S]);return A.createElement(t,{...w,children:b})}function Rg(t){const e=[{},{}];return t==null||t.values.forEach((n,o)=>{e[0][o]=n.get(),e[1][o]=n.getVelocity()}),e}function Yf(t,e,n,o){if(typeof e=="function"){const[u,c]=Rg(o);e=e(n!==void 0?n:t.custom,u,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[u,c]=Rg(o);e=e(n!==void 0?n:t.custom,u,c)}return e}function oc(t){return Ut(t)?t.get():t}function lT({scrapeMotionValuesFromProps:t,createRenderState:e},n,o,u){return{latestValues:uT(n,o,u,t),renderState:e()}}function uT(t,e,n,o){const u={},c=o(t,{});for(const b in c)u[b]=oc(c[b]);let{initial:h,animate:p}=t;const m=bc(t),y=f_(t);e&&y&&!m&&t.inherit!==!1&&(h===void 0&&(h=e.initial),p===void 0&&(p=e.animate));let w=n?n.initial===!1:!1;w=w||h===!1;const S=w?p:h;if(S&&typeof S!="boolean"&&!Sc(S)){const b=Array.isArray(S)?S:[S];for(let E=0;E<b.length;E++){const C=Yf(t,b[E]);if(C){const{transitionEnd:P,transition:N,...z}=C;for(const U in z){let M=z[U];if(Array.isArray(M)){const J=w?M.length-1:0;M=M[J]}M!==null&&(u[U]=M)}for(const U in P)u[U]=P[U]}}}return u}const __=t=>(e,n)=>{const o=A.useContext(xc),u=A.useContext(wc),c=()=>lT(t,e,o,u);return n?c():bf(c)};function Xf(t,e,n){var c;const{style:o}=t,u={};for(const h in o)(Ut(o[h])||e.style&&Ut(e.style[h])||p_(h,t)||((c=n==null?void 0:n.getValue(h))==null?void 0:c.liveStyle)!==void 0)&&(u[h]=o[h]);return u}const cT=__({scrapeMotionValuesFromProps:Xf,createRenderState:Gf});function w_(t,e,n){const o=Xf(t,e,n);for(const u in t)if(Ut(t[u])||Ut(e[u])){const c=Uo.indexOf(u)!==-1?"attr"+u.charAt(0).toUpperCase()+u.substring(1):u;o[c]=t[u]}return o}const hT=__({scrapeMotionValuesFromProps:w_,createRenderState:v_}),dT=Symbol.for("motionComponentSymbol");function fT(t,e,n){const o=A.useRef(n);A.useInsertionEffect(()=>{o.current=n});const u=A.useRef(null);return A.useCallback(c=>{var p;c&&((p=t.onMount)==null||p.call(t,c)),e&&(c?e.mount(c):e.unmount());const h=o.current;if(typeof h=="function")if(c){const m=h(c);typeof m=="function"&&(u.current=m)}else u.current?(u.current(),u.current=null):h(c);else h&&(h.current=c)},[e])}const Qf=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pT="framerAppearId",x_="data-"+Qf(pT),S_=A.createContext({});function Ka(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mT(t,e,n,o,u,c){var N,z;const{visualElement:h}=A.useContext(xc),p=A.useContext(h_),m=A.useContext(wc),y=A.useContext(Hf).reducedMotion,w=A.useRef(null);o=o||p.renderer,!w.current&&o&&(w.current=o(t,{visualState:e,parent:h,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,isSVG:c}));const S=w.current,b=A.useContext(S_);S&&!S.projection&&u&&(S.type==="html"||S.type==="svg")&&gT(w.current,n,u,b);const E=A.useRef(!1);A.useInsertionEffect(()=>{S&&E.current&&S.update(n,m)});const C=n[x_],P=A.useRef(!!C&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,C))&&((z=window.MotionHasOptimisedAnimation)==null?void 0:z.call(window,C)));return gy(()=>{S&&(E.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),S.scheduleRenderMicrotask(),P.current&&S.animationState&&S.animationState.animateChanges())}),A.useEffect(()=>{S&&(!P.current&&S.animationState&&S.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)==null||U.call(window,C)}),P.current=!1),S.enteringChildren=void 0)}),S}function gT(t,e,n,o){const{layoutId:u,layout:c,drag:h,dragConstraints:p,layoutScroll:m,layoutRoot:y,layoutCrossfade:w}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:b_(t.parent)),t.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!h||p&&Ka(p),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,crossfade:w,layoutScroll:m,layoutRoot:y})}function b_(t){if(t)return t.options.allowProjection!==!1?t.projection:b_(t.parent)}function dd(t,{forwardMotionProps:e=!1,type:n}={},o,u){o&&Fb(o);const c=n?n==="svg":Jf(t),h=c?hT:cT;function p(y,w){let S;const b={...A.useContext(Hf),...y,layoutId:vT(y)},{isStatic:E}=b,C=Kb(y),P=h(y,E);if(!E&&Tf){yT();const N=_T(b);S=N.MeasureLayout,C.visualElement=mT(t,P,b,u,N.ProjectionNode,c)}return I.jsxs(xc.Provider,{value:C,children:[S&&C.visualElement?I.jsx(S,{visualElement:C.visualElement,...b}):null,aT(t,y,fT(P,C.visualElement,w),P,E,e,c)]})}p.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=A.forwardRef(p);return m[dT]=t,m}function vT({layoutId:t}){const e=A.useContext(Sf).id;return e&&t!==void 0?e+"-"+t:t}function yT(t,e){A.useContext(h_).strict}function _T(t){const{drag:e,layout:n}=jo;if(!e&&!n)return{};const o={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function wT(t,e){if(typeof Proxy>"u")return dd;const n=new Map,o=(c,h)=>dd(c,h,t,e),u=(c,h)=>o(c,h);return new Proxy(u,{get:(c,h)=>h==="create"?o:(n.has(h)||n.set(h,dd(h,void 0,t,e)),n.get(h))})}function T_({top:t,left:e,right:n,bottom:o}){return{x:{min:e,max:n},y:{min:t,max:o}}}function xT({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ST(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),o=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}function fd(t){return t===void 0||t===1}function qd({scale:t,scaleX:e,scaleY:n}){return!fd(t)||!fd(e)||!fd(n)}function vs(t){return qd(t)||k_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function k_(t){return Lg(t.x)||Lg(t.y)}function Lg(t){return t&&t!=="0%"}function fc(t,e,n){const o=t-n,u=e*o;return n+u}function Ag(t,e,n,o,u){return u!==void 0&&(t=fc(t,u,o)),fc(t,n,o)+e}function Gd(t,e=0,n=1,o,u){t.min=Ag(t.min,e,n,o,u),t.max=Ag(t.max,e,n,o,u)}function E_(t,{x:e,y:n}){Gd(t.x,e.translate,e.scale,e.originPoint),Gd(t.y,n.translate,n.scale,n.originPoint)}const Og=.999999999999,Ig=1.0000000000001;function bT(t,e,n,o=!1){const u=n.length;if(!u)return;e.x=e.y=1;let c,h;for(let p=0;p<u;p++){c=n[p],h=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ro(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,E_(t,h)),o&&vs(c.latestValues)&&Ro(t,c.latestValues))}e.x<Ig&&e.x>Og&&(e.x=1),e.y<Ig&&e.y>Og&&(e.y=1)}function Co(t,e){t.min=t.min+e,t.max=t.max+e}function Mg(t,e,n,o,u=.5){const c=st(t.min,t.max,u);Gd(t,e,n,c,o)}function Ro(t,e){Mg(t.x,e.x,e.scaleX,e.scale,e.originX),Mg(t.y,e.y,e.scaleY,e.scale,e.originY)}function P_(t,e){return T_(ST(t.getBoundingClientRect(),e))}function TT(t,e,n){const o=P_(t,n),{scroll:u}=e;return u&&(Co(o.x,u.offset.x),Co(o.y,u.offset.y)),o}const Ng=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lo=()=>({x:Ng(),y:Ng()}),jg=()=>({min:0,max:0}),xt=()=>({x:jg(),y:jg()}),Jd={current:null},C_={current:!1};function kT(){if(C_.current=!0,!!Tf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jd.current=t.matches;t.addEventListener("change",e),e()}else Jd.current=!1}const ET=new WeakMap;function PT(t,e,n){for(const o in e){const u=e[o],c=n[o];if(Ut(u))t.addValue(o,u);else if(Ut(c))t.addValue(o,No(u,{owner:t}));else if(c!==u)if(t.hasValue(o)){const h=t.getValue(o);h.liveStyle===!0?h.jump(u):h.hasAnimated||h.set(u)}else{const h=t.getStaticValue(o);t.addValue(o,No(h!==void 0?h:u,{owner:t}))}}for(const o in n)e[o]===void 0&&t.removeValue(o);return e}const Dg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CT{scrapeMotionValuesFromProps(e,n,o){return{}}constructor({parent:e,props:n,presenceContext:o,reducedMotionConfig:u,blockInitialAnimation:c,visualState:h},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Uf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Kt.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Ye.render(this.render,!1,!0))};const{latestValues:m,renderState:y}=h;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=y,this.parent=e,this.props=n,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=u,this.options=p,this.blockInitialAnimation=!!c,this.isControllingVariants=bc(n),this.isVariantNode=f_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...S}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in S){const E=S[b];m[b]!==void 0&&Ut(E)&&E.set(m[b])}}mount(e){var n;this.current=e,ET.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,u)=>this.bindToMotionValue(u,o)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(C_.current||kT(),this.shouldReduceMotion=Jd.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ii(this.notifyUpdate),Ii(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const o=this.features[n];o&&(o.unmount(),o.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const o=Vo.has(e);o&&this.onBindTransform&&this.onBindTransform();const u=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{u(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jo){const n=jo[e];if(!n)continue;const{isEnabled:o,Feature:u}=n;if(!this.features[e]&&u&&o(this.props)&&(this.features[e]=new u(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let o=0;o<Dg.length;o++){const u=Dg[o];this.propEventSubscriptions[u]&&(this.propEventSubscriptions[u](),delete this.propEventSubscriptions[u]);const c="on"+u,h=e[c];h&&(this.propEventSubscriptions[u]=this.on(u,h))}this.prevMotionValues=PT(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const o=this.values.get(e);n!==o&&(o&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&n!==void 0&&(o=No(n===null?void 0:n,{owner:this}),this.addValue(e,o)),o}readValue(e,n){let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(vy(o)||_y(o))?o=parseFloat(o):!Nb(o)&&Mi.test(n)&&(o=t_(e,n)),this.setBaseTarget(e,Ut(o)?o.get():o)),Ut(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var c;const{initial:n}=this.props;let o;if(typeof n=="string"||typeof n=="object"){const h=Yf(this.props,n,(c=this.presenceContext)==null?void 0:c.custom);h&&(o=h[e])}if(n&&o!==void 0)return o;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!Ut(u)?u:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Rf),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){$f.render(this.render)}}class R_ extends CT{constructor(){super(...arguments),this.KeyframeResolver=Tb}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:o}){delete n[e],delete o[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ut(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function L_(t,{style:e,vars:n},o,u){const c=t.style;let h;for(h in e)c[h]=e[h];u==null||u.applyProjectionStyles(c,o);for(h in n)c.setProperty(h,n[h])}function RT(t){return window.getComputedStyle(t)}class LT extends R_{constructor(){super(...arguments),this.type="html",this.renderInstance=L_}readValueFromInstance(e,n){var o;if(Vo.has(n))return(o=this.projection)!=null&&o.isProjecting?Ud(n):$S(e,n);{const u=RT(e),c=(Iy(n)?u.getPropertyValue(n):u[n])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(e,{transformPagePoint:n}){return P_(e,n)}build(e,n,o){qf(e,n,o.transformTemplate)}scrapeMotionValuesFromProps(e,n,o){return Xf(e,n,o)}}const A_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AT(t,e,n,o){L_(t,e,void 0,o);for(const u in e.attrs)t.setAttribute(A_.has(u)?u:Qf(u),e.attrs[u])}class OT extends R_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vo.has(n)){const o=e_(n);return o&&o.default||0}return n=A_.has(n)?n:Qf(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,o){return w_(e,n,o)}build(e,n,o){g_(e,n,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(e,n,o,u){AT(e,n,o,u)}mount(e){this.isSVGTag=y_(e.tagName),super.mount(e)}}const IT=(t,e)=>e.isSVG??Jf(t)?new OT(e):new LT(e,{allowProjection:t!==A.Fragment});function Io(t,e,n){const o=t.getProps();return Yf(o,e,n!==void 0?n:o.custom,t)}const Yd=t=>Array.isArray(t);function MT(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,No(n))}function NT(t){return Yd(t)?t[t.length-1]||0:t}function jT(t,e){const n=Io(t,e);let{transitionEnd:o={},transition:u={},...c}=n||{};c={...c,...o};for(const h in c){const p=NT(c[h]);MT(t,h,p)}}function DT(t){return!!(Ut(t)&&t.add)}function Xd(t,e){const n=t.getValue("willChange");if(DT(n))return n.add(e);if(!n&&Vr.WillChange){const o=new Vr.WillChange("auto");t.addValue("willChange",o),o.add(e)}}function O_(t){return t.props[x_]}const BT=t=>t!==null;function zT(t,{repeat:e,repeatType:n="loop"},o){const u=t.filter(BT),c=e&&n!=="loop"&&e%2===1?0:u.length-1;return u[c]}const UT={type:"spring",stiffness:500,damping:25,restSpeed:10},VT=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),FT={type:"keyframes",duration:.8},$T={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WT=(t,{keyframes:e})=>e.length>2?FT:Vo.has(t)?t.startsWith("scale")?VT(e[1]):UT:$T;function HT({when:t,delay:e,delayChildren:n,staggerChildren:o,staggerDirection:u,repeat:c,repeatType:h,repeatDelay:p,from:m,elapsed:y,...w}){return!!Object.keys(w).length}const ep=(t,e,n,o={},u,c)=>h=>{const p=Vf(o,t)||{},m=p.delay||o.delay||0;let{elapsed:y=0}=o;y=y-Br(m);const w={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...p,delay:-y,onUpdate:b=>{e.set(b),p.onUpdate&&p.onUpdate(b)},onComplete:()=>{h(),p.onComplete&&p.onComplete()},name:t,motionValue:e,element:c?void 0:u};HT(p)||Object.assign(w,WT(t,w)),w.duration&&(w.duration=Br(w.duration)),w.repeatDelay&&(w.repeatDelay=Br(w.repeatDelay)),w.from!==void 0&&(w.keyframes[0]=w.from);let S=!1;if((w.type===!1||w.duration===0&&!w.repeatDelay)&&(Hd(w),w.delay===0&&(S=!0)),(Vr.instantAnimations||Vr.skipAnimations)&&(S=!0,Hd(w),w.delay=0),w.allowFlatten=!p.type&&!p.ease,S&&!c&&e.get()!==void 0){const b=zT(w.keyframes,p);if(b!==void 0){Ye.update(()=>{w.onUpdate(b),w.onComplete()});return}}return p.isSync?new zf(w):new db(w)};function ZT({protectedKeys:t,needsAnimating:e},n){const o=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,o}function I_(t,e,{delay:n=0,transitionOverride:o,type:u}={}){let{transition:c=t.getDefaultTransition(),transitionEnd:h,...p}=e;o&&(c=o);const m=[],y=u&&t.animationState&&t.animationState.getState()[u];for(const w in p){const S=t.getValue(w,t.latestValues[w]??null),b=p[w];if(b===void 0||y&&ZT(y,w))continue;const E={delay:n,...Vf(c||{},w)},C=S.get();if(C!==void 0&&!S.isAnimating&&!Array.isArray(b)&&b===C&&!E.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const z=O_(t);if(z){const U=window.MotionHandoffAnimation(z,w,Ye);U!==null&&(E.startTime=U,P=!0)}}Xd(t,w),S.start(ep(w,S,b,t.shouldReduceMotion&&Yy.has(w)?{type:!1}:E,t,P));const N=S.animation;N&&m.push(N)}return h&&Promise.all(m).then(()=>{Ye.update(()=>{h&&jT(t,h)})}),m}function M_(t,e,n,o=0,u=1){const c=Array.from(t).sort((y,w)=>y.sortNodePosition(w)).indexOf(e),h=t.size,p=(h-1)*o;return typeof n=="function"?n(c,h):u===1?c*o:p-c*o}function Qd(t,e,n={}){var m;const o=Io(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:u=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(u=n.transitionOverride);const c=o?()=>Promise.all(I_(t,o,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(y=0)=>{const{delayChildren:w=0,staggerChildren:S,staggerDirection:b}=u;return KT(t,e,y,w,S,b,n)}:()=>Promise.resolve(),{when:p}=u;if(p){const[y,w]=p==="beforeChildren"?[c,h]:[h,c];return y().then(()=>w())}else return Promise.all([c(),h(n.delay)])}function KT(t,e,n=0,o=0,u=0,c=1,h){const p=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),p.push(Qd(m,e,{...h,delay:n+(typeof o=="function"?0:o)+M_(t.variantChildren,m,o,u,c)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(p)}function qT(t,e,n={}){t.notify("AnimationStart",e);let o;if(Array.isArray(e)){const u=e.map(c=>Qd(t,c,n));o=Promise.all(u)}else if(typeof e=="string")o=Qd(t,e,n);else{const u=typeof e=="function"?Io(t,e,n.custom):e;o=Promise.all(I_(t,u,n))}return o.then(()=>{t.notify("AnimationComplete",e)})}function N_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let o=0;o<n;o++)if(e[o]!==t[o])return!1;return!0}const GT=Kf.length;function j_(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?j_(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<GT;n++){const o=Kf[n],u=t.props[o];(ol(u)||u===!1)&&(e[o]=u)}return e}const JT=[...Zf].reverse(),YT=Zf.length;function XT(t){return e=>Promise.all(e.map(({animation:n,options:o})=>qT(t,n,o)))}function QT(t){let e=XT(t),n=Bg(),o=!0;const u=m=>(y,w)=>{var b;const S=Io(t,w,m==="exit"?(b=t.presenceContext)==null?void 0:b.custom:void 0);if(S){const{transition:E,transitionEnd:C,...P}=S;y={...y,...P,...C}}return y};function c(m){e=m(t)}function h(m){const{props:y}=t,w=j_(t.parent)||{},S=[],b=new Set;let E={},C=1/0;for(let N=0;N<YT;N++){const z=JT[N],U=n[z],M=y[z]!==void 0?y[z]:w[z],J=ol(M),G=z===m?U.isActive:null;G===!1&&(C=N);let te=M===w[z]&&M!==y[z]&&J;if(te&&o&&t.manuallyAnimateOnMount&&(te=!1),U.protectedKeys={...E},!U.isActive&&G===null||!M&&!U.prevProp||Sc(M)||typeof M=="boolean")continue;const ie=ek(U.prevProp,M);let re=ie||z===m&&U.isActive&&!te&&J||N>C&&J,Se=!1;const Ne=Array.isArray(M)?M:[M];let Be=Ne.reduce(u(z),{});G===!1&&(Be={});const{prevResolvedValues:Fe={}}=U,kt={...Fe,...Be},Xe=Pe=>{re=!0,b.has(Pe)&&(Se=!0,b.delete(Pe)),U.needsAnimating[Pe]=!0;const Z=t.getValue(Pe);Z&&(Z.liveStyle=!1)};for(const Pe in kt){const Z=Be[Pe],pe=Fe[Pe];if(E.hasOwnProperty(Pe))continue;let K=!1;Yd(Z)&&Yd(pe)?K=!N_(Z,pe):K=Z!==pe,K?Z!=null?Xe(Pe):b.add(Pe):Z!==void 0&&b.has(Pe)?Xe(Pe):U.protectedKeys[Pe]=!0}U.prevProp=M,U.prevResolvedValues=Be,U.isActive&&(E={...E,...Be}),o&&t.blockInitialAnimation&&(re=!1);const Vt=te&&ie;re&&(!Vt||Se)&&S.push(...Ne.map(Pe=>{const Z={type:z};if(typeof Pe=="string"&&o&&!Vt&&t.manuallyAnimateOnMount&&t.parent){const{parent:pe}=t,K=Io(pe,Pe);if(pe.enteringChildren&&K){const{delayChildren:D}=K.transition||{};Z.delay=M_(pe.enteringChildren,t,D)}}return{animation:Pe,options:Z}}))}if(b.size){const N={};if(typeof y.initial!="boolean"){const z=Io(t,Array.isArray(y.initial)?y.initial[0]:y.initial);z&&z.transition&&(N.transition=z.transition)}b.forEach(z=>{const U=t.getBaseTarget(z),M=t.getValue(z);M&&(M.liveStyle=!0),N[z]=U??null}),S.push({animation:N})}let P=!!S.length;return o&&(y.initial===!1||y.initial===y.animate)&&!t.manuallyAnimateOnMount&&(P=!1),o=!1,P?e(S):Promise.resolve()}function p(m,y){var S;if(n[m].isActive===y)return Promise.resolve();(S=t.variantChildren)==null||S.forEach(b=>{var E;return(E=b.animationState)==null?void 0:E.setActive(m,y)}),n[m].isActive=y;const w=h(m);for(const b in n)n[b].protectedKeys={};return w}return{animateChanges:h,setActive:p,setAnimateFunction:c,getState:()=>n,reset:()=>{n=Bg()}}}function ek(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!N_(e,t):!1}function ps(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bg(){return{animate:ps(!0),whileInView:ps(),whileHover:ps(),whileTap:ps(),whileDrag:ps(),whileFocus:ps(),exit:ps()}}class ji{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tk extends ji{constructor(e){super(e),e.animationState||(e.animationState=QT(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let nk=0;class rk extends ji{constructor(){super(...arguments),this.id=nk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const u=this.node.animationState.setActive("exit",!e);n&&!e&&u.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ik={animation:{Feature:tk},exit:{Feature:rk}};function al(t,e,n,o={passive:!0}){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n)}function wl(t){return{point:{x:t.pageX,y:t.pageY}}}const sk=t=>e=>Wf(e)&&t(e,wl(e));function Xa(t,e,n,o){return al(t,e,sk(n),o)}const D_=1e-4,ok=1-D_,ak=1+D_,B_=.01,lk=0-B_,uk=0+B_;function qt(t){return t.max-t.min}function ck(t,e,n){return Math.abs(t-e)<=n}function zg(t,e,n,o=.5){t.origin=o,t.originPoint=st(e.min,e.max,t.origin),t.scale=qt(n)/qt(e),t.translate=st(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ok&&t.scale<=ak||isNaN(t.scale))&&(t.scale=1),(t.translate>=lk&&t.translate<=uk||isNaN(t.translate))&&(t.translate=0)}function Qa(t,e,n,o){zg(t.x,e.x,n.x,o?o.originX:void 0),zg(t.y,e.y,n.y,o?o.originY:void 0)}function Ug(t,e,n){t.min=n.min+e.min,t.max=t.min+qt(e)}function hk(t,e,n){Ug(t.x,e.x,n.x),Ug(t.y,e.y,n.y)}function Vg(t,e,n){t.min=e.min-n.min,t.max=t.min+qt(e)}function pc(t,e,n){Vg(t.x,e.x,n.x),Vg(t.y,e.y,n.y)}function Ln(t){return[t("x"),t("y")]}const z_=({current:t})=>t?t.ownerDocument.defaultView:null,Fg=(t,e)=>Math.abs(t-e);function dk(t,e){const n=Fg(t.x,e.x),o=Fg(t.y,e.y);return Math.sqrt(n**2+o**2)}const $g=new Set(["auto","scroll"]);class U_{constructor(e,n,{transformPagePoint:o,contextWindow:u=window,dragSnapToOrigin:c=!1,distanceThreshold:h=3,element:p}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=E=>{this.handleScroll(E.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=md(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,P=dk(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!P)return;const{point:N}=E,{timestamp:z}=At;this.history.push({...N,timestamp:z});const{onStart:U,onMove:M}=this.handlers;C||(U&&U(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,E)},this.handlePointerMove=(E,C)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=pd(C,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(E,C)=>{this.end();const{onEnd:P,onSessionEnd:N,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=md(E.type==="pointercancel"?this.lastMoveEventInfo:pd(C,this.transformPagePoint),this.history);this.startEvent&&P&&P(E,U),N&&N(E,U)},!Wf(e))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=o,this.distanceThreshold=h,this.contextWindow=u||window;const m=wl(e),y=pd(m,this.transformPagePoint),{point:w}=y,{timestamp:S}=At;this.history=[{...w,timestamp:S}];const{onSessionStart:b}=n;b&&b(e,md(y,this.history)),this.removeListeners=vl(Xa(this.contextWindow,"pointermove",this.handlePointerMove),Xa(this.contextWindow,"pointerup",this.handlePointerUp),Xa(this.contextWindow,"pointercancel",this.handlePointerUp)),p&&this.startScrollTracking(p)}startScrollTracking(e){let n=e.parentElement;for(;n;){const o=getComputedStyle(n);($g.has(o.overflowX)||$g.has(o.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const o=e===window,u=o?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},c={x:u.x-n.x,y:u.y-n.y};c.x===0&&c.y===0||(o?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=c.x,this.lastMoveEventInfo.point.y+=c.y):this.history.length>0&&(this.history[0].x-=c.x,this.history[0].y-=c.y),this.scrollPositions.set(e,u),Ye.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ii(this.updatePoint)}}function pd(t,e){return e?{point:e(t.point)}:t}function Wg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function md({point:t},e){return{point:t,delta:Wg(t,V_(e)),offset:Wg(t,fk(e)),velocity:pk(e,.1)}}function fk(t){return t[0]}function V_(t){return t[t.length-1]}function pk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,o=null;const u=V_(t);for(;n>=0&&(o=t[n],!(u.timestamp-o.timestamp>Br(e)));)n--;if(!o)return{x:0,y:0};const c=An(u.timestamp-o.timestamp);if(c===0)return{x:0,y:0};const h={x:(u.x-o.x)/c,y:(u.y-o.y)/c};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function mk(t,{min:e,max:n},o){return e!==void 0&&t<e?t=o?st(e,t,o.min):Math.max(t,e):n!==void 0&&t>n&&(t=o?st(n,t,o.max):Math.min(t,n)),t}function Hg(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function gk(t,{top:e,left:n,bottom:o,right:u}){return{x:Hg(t.x,n,u),y:Hg(t.y,e,o)}}function Zg(t,e){let n=e.min-t.min,o=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,o]=[o,n]),{min:n,max:o}}function vk(t,e){return{x:Zg(t.x,e.x),y:Zg(t.y,e.y)}}function yk(t,e){let n=.5;const o=qt(t),u=qt(e);return u>o?n=rl(e.min,e.max-o,t.min):o>u&&(n=rl(t.min,t.max-u,e.min)),dr(0,1,n)}function _k(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ef=.35;function wk(t=ef){return t===!1?t=0:t===!0&&(t=ef),{x:Kg(t,"left","right"),y:Kg(t,"top","bottom")}}function Kg(t,e,n){return{min:qg(t,e),max:qg(t,n)}}function qg(t,e){return typeof t=="number"?t:t[e]||0}const xk=new WeakMap;class Sk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:o}={}){const{presenceContext:u}=this.visualElement;if(u&&u.isPresent===!1)return;const c=S=>{n?(this.stopAnimation(),this.snapToCursor(wl(S).point)):this.pauseAnimation()},h=(S,b)=>{this.stopAnimation();const{drag:E,dragPropagation:C,onDragStart:P}=this.getProps();if(E&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Cb(E),!this.openDragLock))return;this.latestPointerEvent=S,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ln(z=>{let U=this.getAxisMotionValue(z).get()||0;if(hr.test(U)){const{projection:M}=this.visualElement;if(M&&M.layout){const J=M.layout.layoutBox[z];J&&(U=qt(J)*(parseFloat(U)/100))}}this.originPoint[z]=U}),P&&Ye.postRender(()=>P(S,b)),Xd(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},p=(S,b)=>{this.latestPointerEvent=S,this.latestPanInfo=b;const{dragPropagation:E,dragDirectionLock:C,onDirectionLock:P,onDrag:N}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:z}=b;if(C&&this.currentDirection===null){this.currentDirection=bk(z),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",b.point,z),this.updateAxis("y",b.point,z),this.visualElement.render(),N&&N(S,b)},m=(S,b)=>{this.latestPointerEvent=S,this.latestPanInfo=b,this.stop(S,b),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>Ln(S=>{var b;return this.getAnimationState(S)==="paused"&&((b=this.getAxisMotionValue(S).animation)==null?void 0:b.play())}),{dragSnapToOrigin:w}=this.getProps();this.panSession=new U_(e,{onSessionStart:c,onStart:h,onMove:p,onSessionEnd:m,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:w,distanceThreshold:o,contextWindow:z_(this.visualElement),element:this.visualElement.current})}stop(e,n){const o=e||this.latestPointerEvent,u=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!u||!o)return;const{velocity:h}=u;this.startAnimation(h);const{onDragEnd:p}=this.getProps();p&&Ye.postRender(()=>p(o,u))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,o){const{drag:u}=this.getProps();if(!o||!Ju(e,u,this.currentDirection))return;const c=this.getAxisMotionValue(e);let h=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(h=mk(h,this.constraints[e],this.elastic[e])),c.set(h)}resolveConstraints(){var c;const{dragConstraints:e,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,u=this.constraints;e&&Ka(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&o?this.constraints=gk(o.layoutBox,e):this.constraints=!1,this.elastic=wk(n),u!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Ln(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=_k(o.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ka(e))return!1;const o=e.current,{projection:u}=this.visualElement;if(!u||!u.layout)return!1;const c=TT(o,u.root,this.visualElement.getTransformPagePoint());let h=vk(u.layout.layoutBox,c);if(n){const p=n(xT(h));this.hasMutatedConstraints=!!p,p&&(h=T_(p))}return h}startAnimation(e){const{drag:n,dragMomentum:o,dragElastic:u,dragTransition:c,dragSnapToOrigin:h,onDragTransitionEnd:p}=this.getProps(),m=this.constraints||{},y=Ln(w=>{if(!Ju(w,n,this.currentDirection))return;let S=m&&m[w]||{};h&&(S={min:0,max:0});const b=u?200:1e6,E=u?40:1e7,C={type:"inertia",velocity:o?e[w]:0,bounceStiffness:b,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...c,...S};return this.startAxisValueAnimation(w,C)});return Promise.all(y).then(p)}startAxisValueAnimation(e,n){const o=this.getAxisMotionValue(e);return Xd(this.visualElement,e),o.start(ep(e,o,0,n,this.visualElement,!1))}stopAnimation(){Ln(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ln(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,o=this.visualElement.getProps(),u=o[n];return u||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){Ln(n=>{const{drag:o}=this.getProps();if(!Ju(n,o,this.currentDirection))return;const{projection:u}=this.visualElement,c=this.getAxisMotionValue(n);if(u&&u.layout){const{min:h,max:p}=u.layout.layoutBox[n],m=c.get()||0;c.set(e[n]-st(h,p,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!Ka(n)||!o||!this.constraints)return;this.stopAnimation();const u={x:0,y:0};Ln(h=>{const p=this.getAxisMotionValue(h);if(p&&this.constraints!==!1){const m=p.get();u[h]=yk({min:m,max:m},this.constraints[h])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Ln(h=>{if(!Ju(h,e,null))return;const p=this.getAxisMotionValue(h),{min:m,max:y}=this.constraints[h];p.set(st(m,y,u[h]))})}addListeners(){if(!this.visualElement.current)return;xk.set(this.visualElement,this);const e=this.visualElement.current,n=Xa(e,"pointerdown",m=>{const{drag:y,dragListener:w=!0}=this.getProps();y&&w&&!a_(m.target)&&this.start(m)}),o=()=>{const{dragConstraints:m}=this.getProps();Ka(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:u}=this.visualElement,c=u.addEventListener("measure",o);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),Ye.read(o);const h=al(window,"resize",()=>this.scalePositionWithinConstraints()),p=u.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(Ln(w=>{const S=this.getAxisMotionValue(w);S&&(this.originPoint[w]+=m[w].translate,S.set(S.get()+m[w].translate))}),this.visualElement.render())}));return()=>{h(),n(),c(),p&&p()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:u=!1,dragConstraints:c=!1,dragElastic:h=ef,dragMomentum:p=!0}=e;return{...e,drag:n,dragDirectionLock:o,dragPropagation:u,dragConstraints:c,dragElastic:h,dragMomentum:p}}}function Ju(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function bk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Tk extends ji{constructor(e){super(e),this.removeGroupControls=On,this.removeListeners=On,this.controls=new Sk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||On}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Gg=t=>(e,n)=>{t&&Ye.postRender(()=>t(e,n))};class kk extends ji{constructor(){super(...arguments),this.removePointerDownListener=On}onPointerDown(e){this.session=new U_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:z_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:o,onPanEnd:u}=this.node.getProps();return{onSessionStart:Gg(e),onStart:Gg(n),onMove:o,onEnd:(c,h)=>{delete this.session,u&&Ye.postRender(()=>u(c,h))}}}mount(){this.removePointerDownListener=Xa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let gd=!1;class Ek extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:o,layoutId:u}=this.props,{projection:c}=e;c&&(n.group&&n.group.add(c),o&&o.register&&u&&o.register(c),gd&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:o,drag:u,isPresent:c}=this.props,{projection:h}=o;return h&&(h.isPresent=c,gd=!0,u||e.layoutDependency!==n||n===void 0||e.isPresent!==c?h.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?h.promote():h.relegate()||Ye.postRender(()=>{const p=h.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$f.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:o}=this.props,{projection:u}=e;gd=!0,u&&(u.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(u),o&&o.deregister&&o.deregister(u))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function F_(t){const[e,n]=u_(),o=A.useContext(Sf);return I.jsx(Ek,{...t,layoutGroup:o,switchLayoutGroup:A.useContext(S_),isPresent:e,safeToRemove:n})}function Pk(t,e,n){const o=Ut(t)?t:No(t);return o.start(ep("",o,e,n)),o.animation}const Ck=(t,e)=>t.depth-e.depth;class Rk{constructor(){this.children=[],this.isDirty=!1}add(e){kf(this.children,e),this.isDirty=!0}remove(e){Ef(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ck),this.isDirty=!1,this.children.forEach(e)}}function Lk(t,e){const n=Kt.now(),o=({timestamp:u})=>{const c=u-n;c>=e&&(Ii(o),t(c-e))};return Ye.setup(o,!0),()=>Ii(o)}const $_=["TopLeft","TopRight","BottomLeft","BottomRight"],Ak=$_.length,Jg=t=>typeof t=="string"?parseFloat(t):t,Yg=t=>typeof t=="number"||le.test(t);function Ok(t,e,n,o,u,c){u?(t.opacity=st(0,n.opacity??1,Ik(o)),t.opacityExit=st(e.opacity??1,0,Mk(o))):c&&(t.opacity=st(e.opacity??1,n.opacity??1,o));for(let h=0;h<Ak;h++){const p=`border${$_[h]}Radius`;let m=Xg(e,p),y=Xg(n,p);if(m===void 0&&y===void 0)continue;m||(m=0),y||(y=0),m===0||y===0||Yg(m)===Yg(y)?(t[p]=Math.max(st(Jg(m),Jg(y),o),0),(hr.test(y)||hr.test(m))&&(t[p]+="%")):t[p]=y}(e.rotate||n.rotate)&&(t.rotate=st(e.rotate||0,n.rotate||0,o))}function Xg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ik=W_(0,.5,Py),Mk=W_(.5,.95,On);function W_(t,e,n){return o=>o<t?0:o>e?1:n(rl(t,e,o))}function Qg(t,e){t.min=e.min,t.max=e.max}function Zn(t,e){Qg(t.x,e.x),Qg(t.y,e.y)}function ev(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function tv(t,e,n,o,u){return t-=e,t=fc(t,1/n,o),u!==void 0&&(t=fc(t,1/u,o)),t}function Nk(t,e=0,n=1,o=.5,u,c=t,h=t){if(hr.test(e)&&(e=parseFloat(e),e=st(h.min,h.max,e/100)-h.min),typeof e!="number")return;let p=st(c.min,c.max,o);t===c&&(p-=e),t.min=tv(t.min,e,n,p,u),t.max=tv(t.max,e,n,p,u)}function nv(t,e,[n,o,u],c,h){Nk(t,e[n],e[o],e[u],e.scale,c,h)}const jk=["x","scaleX","originX"],Dk=["y","scaleY","originY"];function rv(t,e,n,o){nv(t.x,e,jk,n?n.x:void 0,o?o.x:void 0),nv(t.y,e,Dk,n?n.y:void 0,o?o.y:void 0)}function iv(t){return t.translate===0&&t.scale===1}function H_(t){return iv(t.x)&&iv(t.y)}function sv(t,e){return t.min===e.min&&t.max===e.max}function Bk(t,e){return sv(t.x,e.x)&&sv(t.y,e.y)}function ov(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Z_(t,e){return ov(t.x,e.x)&&ov(t.y,e.y)}function av(t){return qt(t.x)/qt(t.y)}function lv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class zk{constructor(){this.members=[]}add(e){kf(this.members,e),e.scheduleRender()}remove(e){if(Ef(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(u=>e===u);if(n===0)return!1;let o;for(let u=n;u>=0;u--){const c=this.members[u];if(c.isPresent!==!1){o=c;break}}return o?(this.promote(o),!0):!1}promote(e,n){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,n&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:u}=e.options;u===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:o}=e;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Uk(t,e,n){let o="";const u=t.x.translate/e.x,c=t.y.translate/e.y,h=(n==null?void 0:n.z)||0;if((u||c||h)&&(o=`translate3d(${u}px, ${c}px, ${h}px) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:y,rotate:w,rotateX:S,rotateY:b,skewX:E,skewY:C}=n;y&&(o=`perspective(${y}px) ${o}`),w&&(o+=`rotate(${w}deg) `),S&&(o+=`rotateX(${S}deg) `),b&&(o+=`rotateY(${b}deg) `),E&&(o+=`skewX(${E}deg) `),C&&(o+=`skewY(${C}deg) `)}const p=t.x.scale*e.x,m=t.y.scale*e.y;return(p!==1||m!==1)&&(o+=`scale(${p}, ${m})`),o||"none"}const vd=["","X","Y","Z"],Vk=1e3;let Fk=0;function yd(t,e,n,o){const{latestValues:u}=e;u[t]&&(n[t]=u[t],e.setStaticValue(t,0),o&&(o[t]=0))}function K_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=O_(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:u,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ye,!(u||c))}const{parent:o}=t;o&&!o.hasCheckedOptimisedAppear&&K_(o)}function q_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:o,resetTransform:u}){return class{constructor(h={},p=e==null?void 0:e()){this.id=Fk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Hk),this.nodes.forEach(Gk),this.nodes.forEach(Jk),this.nodes.forEach(Zk)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rk)}addEventListener(h,p){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new Rf),this.eventHandlers.get(h).add(p)}notifyListeners(h,...p){const m=this.eventHandlers.get(h);m&&m.notify(...p)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=l_(h)&&!Ib(h),this.instance=h;const{layoutId:p,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||p)&&(this.isLayoutDirty=!0),t){let w,S=0;const b=()=>this.root.updateBlockedByResize=!1;Ye.read(()=>{S=window.innerWidth}),t(h,()=>{const E=window.innerWidth;E!==S&&(S=E,this.root.updateBlockedByResize=!0,w&&w(),w=Lk(b,250),ac.hasAnimatedSinceResize&&(ac.hasAnimatedSinceResize=!1,this.nodes.forEach(hv)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&y&&(p||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:S,hasRelativeLayoutChanged:b,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||y.getDefaultTransition()||tE,{onLayoutAnimationStart:P,onLayoutAnimationComplete:N}=y.getProps(),z=!this.targetLayout||!Z_(this.targetLayout,E),U=!S&&b;if(this.options.layoutRoot||this.resumeFrom||U||S&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...Vf(C,"layout"),onPlay:P,onComplete:N};(y.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(w,U)}else S||hv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ii(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yk),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&K_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let w=0;w<this.path.length;w++){const S=this.path[w];S.shouldResetTransform=!0,S.updateScroll("snapshot"),S.options.layoutRoot&&S.willUpdate(!1)}const{layoutId:p,layout:m}=this.options;if(p===void 0&&!m)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(cv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qk),this.nodes.forEach($k),this.nodes.forEach(Wk)):this.nodes.forEach(cv),this.clearAllSnapshots();const p=Kt.now();At.delta=dr(0,1e3/60,p-At.timestamp),At.timestamp=p,At.isProcessing=!0,sd.update.process(At),sd.preRender.process(At),sd.render.process(At),At.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$f.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Kk),this.sharedNodes.forEach(Xk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qt(this.snapshot.measuredBox.x)&&!qt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(p=!1),p&&this.instance){const m=o(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!u)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!H_(this.projectionDelta),m=this.getTransformTemplate(),y=m?m(this.latestValues,""):void 0,w=y!==this.prevTransformTemplateValue;h&&this.instance&&(p||vs(this.latestValues)||w)&&(u(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const p=this.measurePageBox();let m=this.removeElementScroll(p);return h&&(m=this.removeTransform(m)),nE(m),{animationId:this.root.animationId,measuredBox:p,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var y;const{visualElement:h}=this.options;if(!h)return xt();const p=h.measureViewportBox();if(!(((y=this.scroll)==null?void 0:y.wasRoot)||this.path.some(rE))){const{scroll:w}=this.root;w&&(Co(p.x,w.offset.x),Co(p.y,w.offset.y))}return p}removeElementScroll(h){var m;const p=xt();if(Zn(p,h),(m=this.scroll)!=null&&m.wasRoot)return p;for(let y=0;y<this.path.length;y++){const w=this.path[y],{scroll:S,options:b}=w;w!==this.root&&S&&b.layoutScroll&&(S.wasRoot&&Zn(p,h),Co(p.x,S.offset.x),Co(p.y,S.offset.y))}return p}applyTransform(h,p=!1){const m=xt();Zn(m,h);for(let y=0;y<this.path.length;y++){const w=this.path[y];!p&&w.options.layoutScroll&&w.scroll&&w!==w.root&&Ro(m,{x:-w.scroll.offset.x,y:-w.scroll.offset.y}),vs(w.latestValues)&&Ro(m,w.latestValues)}return vs(this.latestValues)&&Ro(m,this.latestValues),m}removeTransform(h){const p=xt();Zn(p,h);for(let m=0;m<this.path.length;m++){const y=this.path[m];if(!y.instance||!vs(y.latestValues))continue;qd(y.latestValues)&&y.updateSnapshot();const w=xt(),S=y.measurePageBox();Zn(w,S),rv(p,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,w)}return vs(this.latestValues)&&rv(p,this.latestValues),p}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==At.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var E;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(h||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:S}=this.options;if(!this.layout||!(w||S))return;this.resolvedRelativeTargetAt=At.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xt(),this.targetWithTransforms=xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),E_(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||qd(this.parent.latestValues)||k_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(h,p,m){this.relativeParent=h,this.linkedParentVersion=h.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),pc(this.relativeTargetOrigin,p,m),Zn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var C;const h=this.getLead(),p=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===At.timestamp&&(m=!1),m)return;const{layout:y,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||w))return;Zn(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,b=this.treeScale.y;bT(this.layoutCorrected,this.treeScale,this.path,p),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=xt());const{target:E}=h;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ev(this.prevProjectionDelta.x,this.projectionDelta.x),ev(this.prevProjectionDelta.y,this.projectionDelta.y)),Qa(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==b||!lv(this.projectionDelta.x,this.prevProjectionDelta.x)||!lv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var p;if((p=this.options.visualElement)==null||p.scheduleRender(),h){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lo(),this.projectionDelta=Lo(),this.projectionDeltaWithTransform=Lo()}setAnimationOrigin(h,p=!1){const m=this.snapshot,y=m?m.latestValues:{},w={...this.latestValues},S=Lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const b=xt(),E=m?m.source:void 0,C=this.layout?this.layout.source:void 0,P=E!==C,N=this.getStack(),z=!N||N.members.length<=1,U=!!(P&&!z&&this.options.crossfade===!0&&!this.path.some(eE));this.animationProgress=0;let M;this.mixTargetDelta=J=>{const G=J/1e3;dv(S.x,h.x,G),dv(S.y,h.y,G),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Qk(this.relativeTarget,this.relativeTargetOrigin,b,G),M&&Bk(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=xt()),Zn(M,this.relativeTarget)),P&&(this.animationValues=w,Ok(w,y,this.latestValues,G,U,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=G},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){var p,m,y;this.notifyListeners("animationStart"),(p=this.currentAnimation)==null||p.stop(),(y=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||y.stop(),this.pendingAnimation&&(Ii(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{ac.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=No(0)),this.currentAnimation=Pk(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:w=>{this.mixTargetDelta(w),h.onUpdate&&h.onUpdate(w)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:p,target:m,layout:y,latestValues:w}=h;if(!(!p||!m||!y)){if(this!==h&&this.layout&&y&&G_(this.options.animationType,this.layout.layoutBox,y.layoutBox)){m=this.target||xt();const S=qt(this.layout.layoutBox.x);m.x.min=h.target.x.min,m.x.max=m.x.min+S;const b=qt(this.layout.layoutBox.y);m.y.min=h.target.y.min,m.y.max=m.y.min+b}Zn(p,m),Ro(p,w),Qa(this.projectionDeltaWithTransform,this.layoutCorrected,p,w)}}registerSharedNode(h,p){this.sharedNodes.has(h)||this.sharedNodes.set(h,new zk),this.sharedNodes.get(h).add(p);const y=p.options.initialPromotionConfig;p.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(p):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var p;const{layoutId:h}=this.options;return h?((p=this.getStack())==null?void 0:p.lead)||this:this}getPrevLead(){var p;const{layoutId:h}=this.options;return h?(p=this.getStack())==null?void 0:p.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:p,preserveFollowOpacity:m}={}){const y=this.getStack();y&&y.promote(this,m),h&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let p=!1;const{latestValues:m}=h;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(p=!0),!p)return;const y={};m.z&&yd("z",h,y,this.animationValues);for(let w=0;w<vd.length;w++)yd(`rotate${vd[w]}`,h,y,this.animationValues),yd(`skew${vd[w]}`,h,y,this.animationValues);h.render();for(const w in y)h.setStaticValue(w,y[w]),this.animationValues&&(this.animationValues[w]=y[w]);h.scheduleRender()}applyProjectionStyles(h,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=oc(p==null?void 0:p.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=oc(p==null?void 0:p.pointerEvents)||""),this.hasProjected&&!vs(this.latestValues)&&(h.transform=m?m({},""):"none",this.hasProjected=!1);return}h.visibility="";const w=y.animationValues||y.latestValues;this.applyTransformsToTarget();let S=Uk(this.projectionDeltaWithTransform,this.treeScale,w);m&&(S=m(w,S)),h.transform=S;const{x:b,y:E}=this.projectionDelta;h.transformOrigin=`${b.origin*100}% ${E.origin*100}% 0`,y.animationValues?h.opacity=y===this?w.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:h.opacity=y===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const C in Kd){if(w[C]===void 0)continue;const{correct:P,applyTo:N,isCSSVariable:z}=Kd[C],U=S==="none"?w[C]:P(w[C],y);if(N){const M=N.length;for(let J=0;J<M;J++)h[N[J]]=U}else z?this.options.visualElement.renderState.vars[C]=U:h[C]=U}this.options.layoutId&&(h.pointerEvents=y===this?oc(p==null?void 0:p.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var p;return(p=h.currentAnimation)==null?void 0:p.stop()}),this.root.nodes.forEach(uv),this.root.sharedNodes.clear()}}}function $k(t){t.updateLayout()}function Wk(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:u}=t.layout,{animationType:c}=t.options,h=e.source!==t.layout.source;c==="size"?Ln(S=>{const b=h?e.measuredBox[S]:e.layoutBox[S],E=qt(b);b.min=o[S].min,b.max=b.min+E}):G_(c,e.layoutBox,o)&&Ln(S=>{const b=h?e.measuredBox[S]:e.layoutBox[S],E=qt(o[S]);b.max=b.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[S].max=t.relativeTarget[S].min+E)});const p=Lo();Qa(p,o,e.layoutBox);const m=Lo();h?Qa(m,t.applyTransform(u,!0),e.measuredBox):Qa(m,o,e.layoutBox);const y=!H_(p);let w=!1;if(!t.resumeFrom){const S=t.getClosestProjectingParent();if(S&&!S.resumeFrom){const{snapshot:b,layout:E}=S;if(b&&E){const C=xt();pc(C,e.layoutBox,b.layoutBox);const P=xt();pc(P,o,E.layoutBox),Z_(C,P)||(w=!0),S.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=C,t.relativeParent=S)}}}t.notifyListeners("didUpdate",{layout:o,snapshot:e,delta:m,layoutDelta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:w})}else if(t.isLead()){const{onExitComplete:o}=t.options;o&&o()}t.options.transition=void 0}function Hk(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Zk(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Kk(t){t.clearSnapshot()}function uv(t){t.clearMeasurements()}function cv(t){t.isLayoutDirty=!1}function qk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Gk(t){t.resolveTargetDelta()}function Jk(t){t.calcProjection()}function Yk(t){t.resetSkewAndRotation()}function Xk(t){t.removeLeadSnapshot()}function dv(t,e,n){t.translate=st(e.translate,0,n),t.scale=st(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fv(t,e,n,o){t.min=st(e.min,n.min,o),t.max=st(e.max,n.max,o)}function Qk(t,e,n,o){fv(t.x,e.x,n.x,o),fv(t.y,e.y,n.y,o)}function eE(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tE={duration:.45,ease:[.4,0,.1,1]},pv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mv=pv("applewebkit/")&&!pv("chrome/")?Math.round:On;function gv(t){t.min=mv(t.min),t.max=mv(t.max)}function nE(t){gv(t.x),gv(t.y)}function G_(t,e,n){return t==="position"||t==="preserve-aspect"&&!ck(av(e),av(n),.2)}function rE(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const iE=q_({attachResizeListener:(t,e)=>al(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_d={current:void 0},J_=q_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!_d.current){const t=new iE({});t.mount(window),t.setOptions({layoutScroll:!0}),_d.current=t}return _d.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sE={pan:{Feature:kk},drag:{Feature:Tk,ProjectionNode:J_,MeasureLayout:F_}};function vv(t,e,n){const{props:o}=t;t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",n==="Start");const u="onHover"+n,c=o[u];c&&Ye.postRender(()=>c(e,wl(e)))}class oE extends ji{mount(){const{current:e}=this.node;e&&(this.unmount=Rb(e,(n,o)=>(vv(this.node,o,"Start"),u=>vv(this.node,u,"End"))))}unmount(){}}class aE extends ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vl(al(this.node.current,"focus",()=>this.onFocus()),al(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yv(t,e,n){const{props:o}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&o.whileTap&&t.animationState.setActive("whileTap",n==="Start");const u="onTap"+(n==="End"?"":n),c=o[u];c&&Ye.postRender(()=>c(e,wl(e)))}class lE extends ji{mount(){const{current:e}=this.node;e&&(this.unmount=Ob(e,(n,o)=>(yv(this.node,o,"Start"),(u,{success:c})=>yv(this.node,u,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tf=new WeakMap,wd=new WeakMap,uE=t=>{const e=tf.get(t.target);e&&e(t)},cE=t=>{t.forEach(uE)};function hE({root:t,...e}){const n=t||document;wd.has(n)||wd.set(n,{});const o=wd.get(n),u=JSON.stringify(e);return o[u]||(o[u]=new IntersectionObserver(cE,{root:t,...e})),o[u]}function dE(t,e,n){const o=hE(e);return tf.set(t,n),o.observe(t),()=>{tf.delete(t),o.unobserve(t)}}const fE={some:0,all:1};class pE extends ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:o,amount:u="some",once:c}=e,h={root:n?n.current:void 0,rootMargin:o,threshold:typeof u=="number"?u:fE[u]},p=m=>{const{isIntersecting:y}=m;if(this.isInView===y||(this.isInView=y,c&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:w,onViewportLeave:S}=this.node.getProps(),b=y?w:S;b&&b(m)};return dE(this.node.current,h,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mE(e,n))&&this.startObserver()}unmount(){}}function mE({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gE={inView:{Feature:pE},tap:{Feature:lE},focus:{Feature:aE},hover:{Feature:oE}},vE={layout:{ProjectionNode:J_,MeasureLayout:F_}},yE={...ik,...gE,...sE,...vE},Ao=wT(yE,IT);function Tc(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(t);u<o.length;u++)e.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(t,o[u])&&(n[o[u]]=t[o[u]]);return n}function _E(t,e,n,o){function u(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function p(w){try{y(o.next(w))}catch(S){h(S)}}function m(w){try{y(o.throw(w))}catch(S){h(S)}}function y(w){w.done?c(w.value):u(w.value).then(p,m)}y((o=o.apply(t,e||[])).next())})}const wE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class tp extends Error{constructor(e,n="FunctionsError",o){super(e),this.name=n,this.context=o}}class xE extends tp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _v extends tp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wv extends tp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var nf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(nf||(nf={}));class SE{constructor(e,{headers:n={},customFetch:o,region:u=nf.Any}={}){this.url=e,this.headers=n,this.region=u,this.fetch=wE(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _E(this,arguments,void 0,function*(n,o={}){var u;let c,h;try{const{headers:p,method:m,body:y,signal:w,timeout:S}=o;let b={},{region:E}=o;E||(E=this.region);const C=new URL(`${this.url}/${n}`);E&&E!=="any"&&(b["x-region"]=E,C.searchParams.set("forceFunctionRegion",E));let P;y&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",P=y):typeof y=="string"?(b["Content-Type"]="text/plain",P=y):typeof FormData<"u"&&y instanceof FormData?P=y:(b["Content-Type"]="application/json",P=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?P=JSON.stringify(y):P=y;let N=w;S&&(h=new AbortController,c=setTimeout(()=>h.abort(),S),w?(N=h.signal,w.addEventListener("abort",()=>h.abort())):N=h.signal);const z=yield this.fetch(C.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),p),body:P,signal:N}).catch(G=>{throw new xE(G)}),U=z.headers.get("x-relay-error");if(U&&U==="true")throw new _v(z);if(!z.ok)throw new wv(z);let M=((u=z.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),J;return M==="application/json"?J=yield z.json():M==="application/octet-stream"||M==="application/pdf"?J=yield z.blob():M==="text/event-stream"?J=z:M==="multipart/form-data"?J=yield z.formData():J=yield z.text(),{data:J,error:null,response:z}}catch(p){return{data:null,error:p,response:p instanceof wv||p instanceof _v?p.context:void 0}}finally{c&&clearTimeout(c)}})}}var bE=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},TE=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let u=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let h=null,p=null,m=null,y=c.status,w=c.statusText;if(c.ok){var S,b;if(n.method!=="HEAD"){var E;const z=await c.text();z===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((E=n.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?p=z:p=JSON.parse(z))}const P=(S=n.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),N=(b=c.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");P&&N&&N.length>1&&(m=parseInt(N[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,y=406,w="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var C;const P=await c.text();try{h=JSON.parse(P),Array.isArray(h)&&c.status===404&&(p=[],h=null,y=200,w="OK")}catch{c.status===404&&P===""?(y=204,w="No Content"):h={message:P}}if(h&&n.isMaybeSingle&&(!(h==null||(C=h.details)===null||C===void 0)&&C.includes("0 rows"))&&(h=null,y=200,w="OK"),h&&n.shouldThrowOnError)throw new bE(h)}return{error:h,data:p,count:m,status:y,statusText:w}});return this.shouldThrowOnError||(u=u.catch(c=>{var h;let p="";const m=c==null?void 0:c.cause;if(m){var y,w,S,b;const C=(y=m==null?void 0:m.message)!==null&&y!==void 0?y:"",P=(w=m==null?void 0:m.code)!==null&&w!==void 0?w:"";p=`${(S=c==null?void 0:c.name)!==null&&S!==void 0?S:"FetchError"}: ${c==null?void 0:c.message}`,p+=`

Caused by: ${(b=m==null?void 0:m.name)!==null&&b!==void 0?b:"Error"}: ${C}`,P&&(p+=` (${P})`),m!=null&&m.stack&&(p+=`
${m.stack}`)}else{var E;p=(E=c==null?void 0:c.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(t,e)}returns(){return this}overrideTypes(){return this}},kE=class extends TE{select(t){let e=!1;const n=(t??"*").split("").map(o=>/\s/.test(o)&&!e?"":(o==='"'&&(e=!e),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:o,referencedTable:u=o}={}){const c=u?`${u}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:o=n}={}){const u=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${t}`),this.url.searchParams.set(c,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:o=!1,wal:u=!1,format:c="text"}={}){var h;const p=[t?"analyze":null,e?"verbose":null,n?"settings":null,o?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${p};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const xv=new RegExp("[,()]");var To=class extends kE{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(o=>typeof o=="string"&&xv.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(o=>typeof o=="string"&&xv.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const c=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${u}fts${c}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},EE=class{constructor(t,{headers:e={},schema:n,fetch:o}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:o}=e??{},u=n?"HEAD":"GET";let c=!1;const h=(t??"*").split("").map(y=>/\s/.test(y)&&!c?"":(y==='"'&&(c=!c),y)).join(""),{url:p,headers:m}=this.cloneRequestState();return p.searchParams.set("select",h),o&&m.append("Prefer",`count=${o}`),new To({method:u,url:p,headers:m,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var o;const u="POST",{url:c,headers:h}=this.cloneRequestState();if(e&&h.append("Prefer",`count=${e}`),n||h.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(p.length>0){const m=[...new Set(p)].map(y=>`"${y}"`);c.searchParams.set("columns",m.join(","))}}return new To({method:u,url:c,headers:h,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:o,defaultToNull:u=!0}={}){var c;const h="POST",{url:p,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&p.searchParams.set("on_conflict",e),o&&m.append("Prefer",`count=${o}`),u||m.append("Prefer","missing=default"),Array.isArray(t)){const y=t.reduce((w,S)=>w.concat(Object.keys(S)),[]);if(y.length>0){const w=[...new Set(y)].map(S=>`"${S}"`);p.searchParams.set("columns",w.join(","))}}return new To({method:h,url:p,headers:m,schema:this.schema,body:t,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(t,{count:e}={}){var n;const o="PATCH",{url:u,headers:c}=this.cloneRequestState();return e&&c.append("Prefer",`count=${e}`),new To({method:o,url:u,headers:c,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:o,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new To({method:n,url:o,headers:u,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},PE=class Y_{constructor(e,{headers:n={},schema:o,fetch:u}={}){this.url=e,this.headers=new Headers(n),this.schemaName=o,this.fetch=u}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new EE(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Y_(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:o=!1,get:u=!1,count:c}={}){var h;let p;const m=new URL(`${this.url}/rpc/${e}`);let y;const w=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(w)),S=o&&Object.values(n).some(w);S?(p="POST",y=n):o||u?(p=o?"HEAD":"GET",Object.entries(n).filter(([E,C])=>C!==void 0).map(([E,C])=>[E,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([E,C])=>{m.searchParams.append(E,C)})):(p="POST",y=n);const b=new Headers(this.headers);return S?b.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&b.set("Prefer",`count=${c}`),new To({method:p,url:m,headers:b,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class CE{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const o=n.versions;if(o&&o.node){const u=o.node,c=parseInt(u.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const o=this.getWebSocketConstructor();return new o(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const RE="2.90.1",LE=`realtime-js/${RE}`,X_="1.0.0",AE="2.0.0",Sv=X_,rf=1e4,OE=1e3,IE=100;var Li;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Li||(Li={}));var wt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(wt||(wt={}));var Jn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Jn||(Jn={}));var sf;(function(t){t.websocket="websocket"})(sf||(sf={}));var _s;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(_s||(_s={}));class ME{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,o;const u=(o=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(e){var n,o;const u=(o=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(e,n,o){var u,c;const h=e.topic,p=(u=e.ref)!==null&&u!==void 0?u:"",m=(c=e.join_ref)!==null&&c!==void 0?c:"",y=e.payload.event,w=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},S=Object.keys(w).length===0?"":JSON.stringify(w);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+h.length+y.length+S.length,E=new ArrayBuffer(this.HEADER_LENGTH+b);let C=new DataView(E),P=0;C.setUint8(P++,this.KINDS.userBroadcastPush),C.setUint8(P++,m.length),C.setUint8(P++,p.length),C.setUint8(P++,h.length),C.setUint8(P++,y.length),C.setUint8(P++,S.length),C.setUint8(P++,n),Array.from(m,z=>C.setUint8(P++,z.charCodeAt(0))),Array.from(p,z=>C.setUint8(P++,z.charCodeAt(0))),Array.from(h,z=>C.setUint8(P++,z.charCodeAt(0))),Array.from(y,z=>C.setUint8(P++,z.charCodeAt(0))),Array.from(S,z=>C.setUint8(P++,z.charCodeAt(0)));var N=new Uint8Array(E.byteLength+o.byteLength);return N.set(new Uint8Array(E),0),N.set(new Uint8Array(o),E.byteLength),N.buffer}decode(e,n){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return n(o)}if(typeof e=="string"){const o=JSON.parse(e),[u,c,h,p,m]=o;return n({join_ref:u,ref:c,topic:h,event:p,payload:m})}return n({})}_binaryDecode(e){const n=new DataView(e),o=n.getUint8(0),u=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,u)}}_decodeUserBroadcast(e,n,o){const u=n.getUint8(1),c=n.getUint8(2),h=n.getUint8(3),p=n.getUint8(4);let m=this.HEADER_LENGTH+4;const y=o.decode(e.slice(m,m+u));m=m+u;const w=o.decode(e.slice(m,m+c));m=m+c;const S=o.decode(e.slice(m,m+h));m=m+h;const b=e.slice(m,e.byteLength),E=p===this.JSON_ENCODING?JSON.parse(o.decode(b)):b,C={type:this.BROADCAST_EVENT,event:w,payload:E};return h>0&&(C.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([o])=>n.includes(o)))}}class Q_{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(qe||(qe={}));const bv=(t,e,n={})=>{var o;const u=(o=n.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((c,h)=>(c[h]=NE(h,t,e,u),c),{}):{}},NE=(t,e,n,o)=>{const u=e.find(p=>p.name===t),c=u==null?void 0:u.type,h=n[t];return c&&!o.includes(c)?e0(c,h):of(h)},e0=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return zE(e,n)}switch(t){case qe.bool:return jE(e);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return DE(e);case qe.json:case qe.jsonb:return BE(e);case qe.timestamp:return UE(e);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return of(e);default:return of(e)}},of=t=>t,jE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},DE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},BE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},zE=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,o=t[n];if(t[0]==="{"&&o==="}"){let c;const h=t.slice(1,n);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(p=>e0(e,p))}return t},UE=t=>typeof t=="string"?t.replace(" ","T"):t,t0=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class xd{constructor(e,n,o={},u=rf){this.channel=e,this.event=n,this.payload=o,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var o;return this._hasReceived(e)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Tv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Tv||(Tv={}));class el{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},u=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=el.syncState(this.state,u,c,h),this.pendingDiffs.forEach(m=>{this.state=el.syncDiff(this.state,m,c,h)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},u=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=el.syncDiff(this.state,u,c,h),p())}),this.onJoin((u,c,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:h})}),this.onLeave((u,c,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,o,u){const c=this.cloneDeep(e),h=this.transformState(n),p={},m={};return this.map(c,(y,w)=>{h[y]||(m[y]=w)}),this.map(h,(y,w)=>{const S=c[y];if(S){const b=w.map(N=>N.presence_ref),E=S.map(N=>N.presence_ref),C=w.filter(N=>E.indexOf(N.presence_ref)<0),P=S.filter(N=>b.indexOf(N.presence_ref)<0);C.length>0&&(p[y]=C),P.length>0&&(m[y]=P)}else p[y]=w}),this.syncDiff(c,{joins:p,leaves:m},o,u)}static syncDiff(e,n,o,u){const{joins:c,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),u||(u=()=>{}),this.map(c,(p,m)=>{var y;const w=(y=e[p])!==null&&y!==void 0?y:[];if(e[p]=this.cloneDeep(m),w.length>0){const S=e[p].map(E=>E.presence_ref),b=w.filter(E=>S.indexOf(E.presence_ref)<0);e[p].unshift(...b)}o(p,w,m)}),this.map(h,(p,m)=>{let y=e[p];if(!y)return;const w=m.map(S=>S.presence_ref);y=y.filter(S=>w.indexOf(S.presence_ref)<0),e[p]=y,u(p,y,m),y.length===0&&delete e[p]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(o=>n(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,o)=>{const u=e[o];return"metas"in u?n[o]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[o]=u,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(kv||(kv={}));var tl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(tl||(tl={}));var jr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(jr||(jr={}));class Oo{constructor(e,n={config:{}},o){var u,c;if(this.topic=e,this.params=n,this.socket=o,this.bindings={},this.state=wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new xd(this,Jn.join,this.params,this.timeout),this.rejoinTimer=new Q_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wt.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jn.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new el(this),this.broadcastEndpointURL=t0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var o,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==wt.closed){const{config:{broadcast:h,presence:p,private:m}}=this.params,y=(u=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(E=>E.filter))!==null&&u!==void 0?u:[],w=!!this.bindings[tl.PRESENCE]&&this.bindings[tl.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,S={},b={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:w}),postgres_changes:y,private:m};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(E=>e==null?void 0:e(jr.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(jr.CLOSED)),this.updateJoinPayload(Object.assign({config:b},S)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:E})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){e==null||e(jr.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,N=(C=P==null?void 0:P.length)!==null&&C!==void 0?C:0,z=[];for(let U=0;U<N;U++){const M=P[U],{filter:{event:J,schema:G,table:te,filter:ie}}=M,re=E&&E[U];if(re&&re.event===J&&Oo.isFilterValueEqual(re.schema,G)&&Oo.isFilterValueEqual(re.table,te)&&Oo.isFilterValueEqual(re.filter,ie))z.push(Object.assign(Object.assign({},M),{id:re.id}));else{this.unsubscribe(),this.state=wt.errored,e==null||e(jr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,e&&e(jr.SUBSCRIBED);return}}).receive("error",E=>{this.state=wt.errored,e==null||e(jr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(jr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,o){return this.state===wt.joined&&e===tl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,o)}async httpSend(e,n,o={}){var u;if(n==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=o.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const y=await p.json();m=y.error||y.message||m}catch{}return Promise.reject(new Error(m))}async send(e,n={}){var o,u;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=e,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,p,m;const y=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=wt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jn.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(u=>{o=new xd(this,Jn.leave,{},e),o.receive("ok",()=>{n(),u("ok")}).receive("timeout",()=>{n(),u("timed out")}).receive("error",()=>{u("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wt.closed,this.bindings={}}async _fetchWithTimeout(e,n,o){const u=new AbortController,c=setTimeout(()=>u.abort(),o),h=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:u.signal}));return clearTimeout(c),h}_push(e,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new xd(this,e,n,o);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>IE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,o){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,o){var u,c;const h=e.toLocaleLowerCase(),{close:p,error:m,leave:y,join:w}=Jn;if(o&&[p,m,y,w].indexOf(h)>=0&&o!==this._joinRef())return;let b=this._onMessage(h,n,o);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(E=>{var C,P,N;return((C=E.filter)===null||C===void 0?void 0:C.event)==="*"||((N=(P=E.filter)===null||P===void 0?void 0:P.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===h}).map(E=>E.callback(b,o)):(c=this.bindings[h])===null||c===void 0||c.filter(E=>{var C,P,N,z,U,M,J,G;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in E){const te=E.id,ie=(C=E.filter)===null||C===void 0?void 0:C.event;return te&&((P=n.ids)===null||P===void 0?void 0:P.includes(te))&&(ie==="*"||(ie==null?void 0:ie.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))&&(!(!((z=E.filter)===null||z===void 0)&&z.table)||E.filter.table===((U=n.data)===null||U===void 0?void 0:U.table))}else{const te=(J=(M=E==null?void 0:E.filter)===null||M===void 0?void 0:M.event)===null||J===void 0?void 0:J.toLocaleLowerCase();return te==="*"||te===((G=n==null?void 0:n.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===h}).map(E=>{if(typeof b=="object"&&"ids"in b){const C=b.data,{schema:P,table:N,commit_timestamp:z,type:U,errors:M}=C;b=Object.assign(Object.assign({},{schema:P,table:N,commit_timestamp:z,eventType:U,new:{},old:{},errors:M}),this._getPayloadRecords(C))}E.callback(b,o)})}_isClosed(){return this.state===wt.closed}_isJoined(){return this.state===wt.joined}_isJoining(){return this.state===wt.joining}_isLeaving(){return this.state===wt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,o){const u=e.toLocaleLowerCase(),c={type:u,filter:n,callback:o};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(e,n){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&Oo.isEqual(u.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const o in e)if(e[o]!==n[o])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jn.close,{},e)}_onError(e){this._on(Jn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=bv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=bv(e.columns,e.old_record)),n}}const Sd=()=>{},Yu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VE=[1e3,2e3,5e3,1e4],FE=1e4,$E=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WE{constructor(e,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rf,this.transport=null,this.heartbeatIntervalMs=Yu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sd,this.ref=0,this.reconnectTimer=null,this.vsn=Sv,this.logger=Sd,this.conn=null,this.sendBuffer=[],this.serializer=new ME,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((o=n==null?void 0:n.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${sf.websocket}`,this.httpEndpoint=t0(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=CE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,o){this.logger(e,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Li.connecting:return _s.Connecting;case Li.open:return _s.Open;case Li.closing:return _s.Closing;default:return _s.Closed}}isConnected(){return this.connectionState()===_s.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const o=`realtime:${e}`,u=this.getChannels().find(c=>c.topic===o);if(u)return u;{const c=new Oo(`realtime:${e}`,n,this);return this.channels.push(c),c}}push(e){const{topic:n,event:o,payload:u,ref:c}=e,h=()=>{this.encode(e,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${n} ${o} (${c})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(OE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Yu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",y)}catch(w){this.log("error","error in heartbeat callback",w)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:u,payload:c,ref:h}=n,p=h?`(${h})`:"",m=c.status||"";this.log("receive",`${m} ${o} ${u} ${p}`.trim(),c),this.channels.filter(y=>y._isMember(o)).forEach(y=>y._trigger(u,c,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Li.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Li.open||this.conn.readyState===Li.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const o=e.match(/\?/)?"&":"?",u=new URLSearchParams(n);return`${e}${o}${u}`}_workerObjectUrl(e){let n;if(e)n=e;else{const o=new Blob([$E],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,o=!1;if(e)n=e,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(u=>{const c={access_token:n,version:LE};n&&u.updateJoinPayload(c),u.joinedOnce&&u._isJoined()&&u._push(Jn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(n)}catch(u){this.log("error",`error in ${e} callback`,u)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Q_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,o,u,c,h,p,m,y,w,S,b,E;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(o=e==null?void 0:e.timeout)!==null&&o!==void 0?o:rf,this.heartbeatIntervalMs=(u=e==null?void 0:e.heartbeatIntervalMs)!==null&&u!==void 0?u:Yu.HEARTBEAT_INTERVAL,this.worker=(c=e==null?void 0:e.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=e==null?void 0:e.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=e==null?void 0:e.heartbeatCallback)!==null&&p!==void 0?p:Sd,this.vsn=(m=e==null?void 0:e.vsn)!==null&&m!==void 0?m:Sv,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=e==null?void 0:e.reconnectAfterMs)!==null&&y!==void 0?y:(C=>VE[C-1]||FE),this.vsn){case X_:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:((C,P)=>P(JSON.stringify(C))),this.decode=(S=e==null?void 0:e.decode)!==null&&S!==void 0?S:((C,P)=>P(JSON.parse(C)));break;case AE:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(E=e==null?void 0:e.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ll=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function HE(t,e,n){const o=new URL(e,t);if(n)for(const[u,c]of Object.entries(n))c!==void 0&&o.searchParams.set(u,c);return o.toString()}async function ZE(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function KE(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:u,body:c,headers:h}){const p=HE(t.baseUrl,o,u),m=await ZE(t.auth),y=await e(p,{method:n,headers:{...c?{"Content-Type":"application/json"}:{},...m,...h},body:c?JSON.stringify(c):void 0}),w=await y.text(),S=(y.headers.get("content-type")||"").includes("application/json"),b=S&&w?JSON.parse(w):w;if(!y.ok){const E=S?b:void 0,C=E==null?void 0:E.error;throw new ll((C==null?void 0:C.message)??`Request failed with status ${y.status}`,{status:y.status,icebergType:C==null?void 0:C.type,icebergCode:C==null?void 0:C.code,details:E})}return{status:y.status,headers:y.headers,data:b}}}}function Xu(t){return t.join("")}var qE=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Xu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xu(t.namespace)}`}),!0}catch(e){if(e instanceof ll&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof ll&&n.status===409)return;throw n}}};function yo(t){return t.join("")}var GE=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof ll&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof ll&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},JE=class{constructor(t){var o;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=KE({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(o=t.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new qE(this.client,e),this.tableOps=new GE(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},kc=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function it(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var YE=class extends kc{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},af=class extends kc{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const np=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),XE=()=>Response,lf=t=>{if(Array.isArray(t))return t.map(n=>lf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,o])=>{const u=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[u]=lf(o)}),e},QE=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},eP=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function tP(t,e){if(ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(ul(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nP(t){var e=tP(t,"string");return ul(e)=="symbol"?e:e+""}function rP(t,e,n){return(e=nP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ev(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,o)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ev(Object(n),!0).forEach(function(o){rP(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ev(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}const bd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},iP=async(t,e,n)=>{t instanceof await XE()&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const u=t.status||500,c=(o==null?void 0:o.statusCode)||u+"";e(new YE(bd(o),u,c))}).catch(o=>{e(new af(bd(o),o))}):e(new af(bd(t),t))},sP=(t,e,n,o)=>{const u={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!o?u:(QE(o)?(u.headers=Te({"Content-Type":"application/json"},e==null?void 0:e.headers),u.body=JSON.stringify(o)):u.body=o,e!=null&&e.duplex&&(u.duplex=e.duplex),Te(Te({},u),n))};async function xl(t,e,n,o,u,c){return new Promise((h,p)=>{t(n,sP(e,o,u,c)).then(m=>{if(!m.ok)throw m;return o!=null&&o.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>iP(m,p,o))})}async function cl(t,e,n,o){return xl(t,"GET",e,n,o)}async function Gn(t,e,n,o,u){return xl(t,"POST",e,o,u,n)}async function uf(t,e,n,o,u){return xl(t,"PUT",e,o,u,n)}async function oP(t,e,n,o){return xl(t,"HEAD",e,Te(Te({},n),{},{noResolveJson:!0}),o)}async function rp(t,e,n,o,u){return xl(t,"DELETE",e,o,u,n)}var aP=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(it(e))return{data:null,error:e};throw e}}};let n0;n0=Symbol.toStringTag;var lP=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[n0]="BlobDownloadBuilder",this.promise=null}asStream(){return new aP(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(it(e))return{data:null,error:e};throw e}}};const uP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cP=class{constructor(t,e={},n,o){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=np(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,o){var u=this;try{let c;const h=Te(Te({},Pv),o);let p=Te(Te({},u.headers),t==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),m&&c.append("metadata",u.encodeMetadata(m)),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),m&&!c.has("metadata")&&c.append("metadata",u.encodeMetadata(m))):(c=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,m&&(p["x-metadata"]=u.toBase64(u.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),o!=null&&o.headers&&(p=Te(Te({},p),o.headers));const y=u._removeEmptyFolders(e),w=u._getFinalPath(y),S=await(t=="PUT"?uf:Gn)(u.fetch,`${u.url}/object/${w}`,c,Te({headers:p},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:S.Id,fullPath:S.Key},error:null}}catch(c){if(u.shouldThrowOnError)throw c;if(it(c))return{data:null,error:c};throw c}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,o){var u=this;const c=u._removeEmptyFolders(t),h=u._getFinalPath(c),p=new URL(u.url+`/object/upload/sign/${h}`);p.searchParams.set("token",e);try{let m;const y=Te({upsert:Pv.upsert},o),w=Te(Te({},u.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&n instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",n)):typeof FormData<"u"&&n instanceof FormData?(m=n,m.append("cacheControl",y.cacheControl)):(m=n,w["cache-control"]=`max-age=${y.cacheControl}`,w["content-type"]=y.contentType),{data:{path:c,fullPath:(await uf(u.fetch,p.toString(),m,{headers:w})).Key},error:null}}catch(m){if(u.shouldThrowOnError)throw m;if(it(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(t,e){var n=this;try{let o=n._getFinalPath(t);const u=Te({},n.headers);e!=null&&e.upsert&&(u["x-upsert"]="true");const c=await Gn(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:u}),h=new URL(n.url+c.url),p=h.searchParams.get("token");if(!p)throw new kc("No token returned by API");return{data:{signedUrl:h.toString(),path:t,token:p},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(it(o))return{data:null,error:o};throw o}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var o=this;try{return{data:await Gn(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers}),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(it(u))return{data:null,error:u};throw u}}async copy(t,e,n){var o=this;try{return{data:{path:(await Gn(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers})).Key},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(it(u))return{data:null,error:u};throw u}}async createSignedUrl(t,e,n){var o=this;try{let u=o._getFinalPath(t),c=await Gn(o.fetch,`${o.url}/object/sign/${u}`,Te({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:o.headers});const h=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return c={signedUrl:encodeURI(`${o.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(it(u))return{data:null,error:u};throw u}}async createSignedUrls(t,e,n){var o=this;try{const u=await Gn(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:e,paths:t},{headers:o.headers}),c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:u.map(h=>Te(Te({},h),{},{signedUrl:h.signedURL?encodeURI(`${o.url}${h.signedURL}${c}`):null})),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(it(u))return{data:null,error:u};throw u}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),u=o?`?${o}`:"",c=this._getFinalPath(t),h=()=>cl(this.fetch,`${this.url}/${n}/${c}${u}`,{headers:this.headers,noResolveJson:!0});return new lP(h,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:lf(await cl(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(it(o))return{data:null,error:o};throw o}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await oP(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(it(o)&&o instanceof af){const u=o.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:o}}throw o}}getPublicUrl(t,e){const n=this._getFinalPath(t),o=[],u=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";u!==""&&o.push(u);const c=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});h!==""&&o.push(h);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${p}`)}}}async remove(t){var e=this;try{return{data:await rp(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async list(t,e,n){var o=this;try{const u=Te(Te(Te({},uP),e),{},{prefix:t||""});return{data:await Gn(o.fetch,`${o.url}/object/list/${o.bucketId}`,u,{headers:o.headers},n),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(it(u))return{data:null,error:u};throw u}}async listV2(t,e){var n=this;try{const o=Te({},t);return{data:await Gn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},e),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(it(o))return{data:null,error:o};throw o}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const r0="2.90.1",i0={"X-Client-Info":`storage-js/${r0}`};var hP=class{constructor(t,e={},n,o){this.shouldThrowOnError=!1;const u=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Te(Te({},i0),e),this.fetch=np(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await cl(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await cl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Gn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(it(o))return{data:null,error:o};throw o}}async updateBucket(t,e){var n=this;try{return{data:await uf(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(it(o))return{data:null,error:o};throw o}}async emptyBucket(t){var e=this;try{return{data:await Gn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await rp(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},dP=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},i0),e),this.fetch=np(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Gn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const o=n.toString(),u=o?`${e.url}/bucket?${o}`:`${e.url}/bucket`;return{data:await cl(e.fetch,u,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await rp(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!eP(t))throw new kc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new JE({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(u,c){const h=u[c];return typeof h!="function"?h:async(...p)=>{try{return{data:await h.apply(u,p),error:null}}catch(m){if(o)throw m;return{data:null,error:m}}}}})}};const ip={"X-Client-Info":`storage-js/${r0}`,"Content-Type":"application/json"};var s0=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function gn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Td=class extends s0{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fP=class extends s0{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const sp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Cv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mP=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const o=t.status||500,u=t;if(typeof u.json=="function")u.json().then(c=>{const h=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||o+"";e(new Td(Cv(c),o,h))}).catch(()=>{const c=o+"";e(new Td(u.statusText||`HTTP ${o} error`,o,c))});else{const c=o+"";e(new Td(u.statusText||`HTTP ${o} error`,o,c))}}else e(new fP(Cv(t),t))},gP=(t,e,n,o)=>{const u={method:t,headers:(e==null?void 0:e.headers)||{}};return o?(pP(o)?(u.headers=Te({"Content-Type":"application/json"},e==null?void 0:e.headers),u.body=JSON.stringify(o)):u.body=o,Te(Te({},u),n)):u};async function vP(t,e,n,o,u,c){return new Promise((h,p)=>{t(n,gP(e,o,u,c)).then(m=>{if(!m.ok)throw m;if(o!=null&&o.noResolveJson)return m;const y=m.headers.get("content-type");return!y||!y.includes("application/json")?{}:m.json()}).then(m=>h(m)).catch(m=>mP(m,p,o))})}async function vn(t,e,n,o,u){return vP(t,"POST",e,o,u,n)}var yP=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},ip),e),this.fetch=sp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await vn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await vn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(gn(o))return{data:null,error:o};throw o}}async listIndexes(t){var e=this;try{return{data:await vn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await vn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(gn(o))return{data:null,error:o};throw o}}},_P=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},ip),e),this.fetch=sp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await vn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await vn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await vn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await vn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await vn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}},wP=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},ip),e),this.fetch=sp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await vn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await vn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await vn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await vn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}},xP=class extends wP{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new SP(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},SP=class extends yP{constructor(t,e,n,o){super(t,e,o),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new bP(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},bP=class extends _P{constructor(t,e,n,o,u){super(t,e,u),this.vectorBucketName=n,this.indexName=o}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},TP=class extends hP{constructor(t,e={},n,o){super(t,e,n,o)}from(t){return new cP(this.url,this.headers,t,this.fetch)}get vectors(){return new xP(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dP(this.url+"/iceberg",this.headers,this.fetch)}};const o0="2.90.1",ko=30*1e3,cf=3,kd=cf*ko,kP="http://localhost:9999",EP="supabase.auth.token",PP={"X-Client-Info":`gotrue-js/${o0}`},hf="X-Supabase-Api-Version",a0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},CP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,RP=600*1e3;class hl extends Error{constructor(e,n,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function ve(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class LP extends hl{constructor(e,n,o){super(e,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function AP(t){return ve(t)&&t.name==="AuthApiError"}class ws extends hl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class $r extends hl{constructor(e,n,o,u){super(e,o,u),this.name=n,this.status=o}}class mn extends $r{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OP(t){return ve(t)&&t.name==="AuthSessionMissingError"}class _o extends $r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qu extends $r{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ec extends $r{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function IP(t){return ve(t)&&t.name==="AuthImplicitGrantRedirectError"}class Rv extends $r{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class MP extends $r{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class df extends $r{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ed(t){return ve(t)&&t.name==="AuthRetryableFetchError"}class Lv extends $r{constructor(e,n,o){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class ff extends $r{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const mc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Av=` 	
\r=`.split(""),NP=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Av.length;e+=1)t[Av[e].charCodeAt(0)]=-2;for(let e=0;e<mc.length;e+=1)t[mc[e].charCodeAt(0)]=e;return t})();function Ov(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(mc[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(mc[o]),e.queuedBits-=6}}function l0(t,e,n){const o=NP[t];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Iv(t){const e=[],n=h=>{e.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=h=>{BP(h,o,n)};for(let h=0;h<t.length;h+=1)l0(t.charCodeAt(h),u,c);return e.join("")}function jP(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function DP(t,e){for(let n=0;n<t.length;n+=1){let o=t.charCodeAt(n);if(o>55295&&o<=56319){const u=(o-55296)*1024&65535;o=(t.charCodeAt(n+1)-56320&65535|u)+65536,n+=1}jP(o,e)}}function BP(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let o=1;o<6;o+=1)if((t>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Mo(t){const e=[],n={queue:0,queuedBits:0},o=u=>{e.push(u)};for(let u=0;u<t.length;u+=1)l0(t.charCodeAt(u),n,o);return new Uint8Array(e)}function zP(t){const e=[];return DP(t,n=>e.push(n)),new Uint8Array(e)}function bs(t){const e=[],n={queue:0,queuedBits:0},o=u=>{e.push(u)};return t.forEach(u=>Ov(u,n,o)),Ov(null,n,o),e.join("")}function UP(t){return Math.round(Date.now()/1e3)+t}function VP(){return Symbol("auth-callback")}const Lt=()=>typeof window<"u"&&typeof document<"u",ms={tested:!1,writable:!1},u0=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ms.tested)return ms.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ms.tested=!0,ms.writable=!0}catch{ms.tested=!0,ms.writable=!1}return ms.writable};function FP(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((u,c)=>{e[c]=u})}catch{}return n.searchParams.forEach((o,u)=>{e[u]=o}),e}const c0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$P=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Eo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},gs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Rt=async(t,e)=>{await t.removeItem(e)};class Ec{constructor(){this.promise=new Ec.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ec.promiseConstructor=Promise;function Pd(t){const e=t.split(".");if(e.length!==3)throw new ff("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!CP.test(e[o]))throw new ff("JWT not in base64url format");return{header:JSON.parse(Iv(e[0])),payload:JSON.parse(Iv(e[1])),signature:Mo(e[2]),raw:{header:e[0],payload:e[1]}}}async function WP(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function HP(t,e){return new Promise((o,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await t(c);if(!e(c,null,h)){o(h);return}}catch(h){if(!e(c,h)){u(h);return}}})()})}function ZP(t){return("0"+t.toString(16)).substr(-2)}function KP(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let u="";for(let c=0;c<56;c++)u+=n.charAt(Math.floor(Math.random()*o));return u}return crypto.getRandomValues(e),Array.from(e,ZP).join("")}async function qP(t){const n=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",n),u=new Uint8Array(o);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function GP(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await qP(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wo(t,e,n=!1){const o=KP();let u=o;n&&(u+="/PASSWORD_RECOVERY"),await Eo(t,`${e}-code-verifier`,u);const c=await GP(o);return[c,o===c?"plain":"s256"]}const JP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YP(t){const e=t.headers.get(hf);if(!e||!e.match(JP))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function XP(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function QP(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const e1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xo(t){if(!e1.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cd(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function t1(t,e){return new Proxy(t,{get:(n,o,u)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const c=o.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,u)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,o,u)}})}function Mv(t){return JSON.parse(JSON.stringify(t))}const ys=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),n1=[502,503,504];async function Nv(t){var e;if(!$P(t))throw new df(ys(t),0);if(n1.includes(t.status))throw new df(ys(t),t.status);let n;try{n=await t.json()}catch(c){throw new ws(ys(c),c)}let o;const u=YP(t);if(u&&u.getTime()>=a0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new Lv(ys(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new mn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Lv(ys(n),t.status,n.weak_password.reasons);throw new LP(ys(n),t.status||500,o)}const r1=(t,e,n,o)=>{const u={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),u.body=JSON.stringify(o),Object.assign(Object.assign({},u),n))};async function be(t,e,n,o){var u;const c=Object.assign({},o==null?void 0:o.headers);c[hf]||(c[hf]=a0["2024-01-01"].name),o!=null&&o.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const h=(u=o==null?void 0:o.query)!==null&&u!==void 0?u:{};o!=null&&o.redirectTo&&(h.redirect_to=o.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await i1(t,e,n+p,{headers:c,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(m):{data:Object.assign({},m),error:null}}async function i1(t,e,n,o,u,c){const h=r1(e,o,u,c);let p;try{p=await t(n,Object.assign({},h))}catch(m){throw console.error(m),new df(ys(m),0)}if(p.ok||await Nv(p),o!=null&&o.noResolveJson)return p;try{return await p.json()}catch(m){await Nv(m)}}function Kn(t){var e;let n=null;a1(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=UP(t.expires_in)));const o=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:o},error:null}}function jv(t){const e=Kn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ai(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function s1(t){return{data:t,error:null}}function o1(t){const{action_link:e,email_otp:n,hashed_token:o,redirect_to:u,verification_type:c}=t,h=Tc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:e,email_otp:n,hashed_token:o,redirect_to:u,verification_type:c},m=Object.assign({},h);return{data:{properties:p,user:m},error:null}}function Dv(t){return t}function a1(t){return t.access_token&&t.refresh_token&&t.expires_in}const Rd=["global","local","others"];class l1{constructor({url:e="",headers:n={},fetch:o}){this.url=e,this.headers=n,this.fetch=c0(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Rd[0]){if(Rd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rd.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ve(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,n={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ai})}catch(o){if(ve(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:n}=e,o=Tc(e,["options"]),u=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(u.new_email=o==null?void 0:o.newEmail,delete u.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:o1,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ve(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ai})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,o,u,c,h,p,m;try{const y={nextPage:null,lastPage:0,total:0},w=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(c=(u=e==null?void 0:e.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Dv});if(w.error)throw w.error;const S=await w.json(),b=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(m=(p=w.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(C=>{const P=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(C.split(";")[1].split("=")[1]);y[`${N}Page`]=P}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(ve(y))return{data:{users:[]},error:y};throw y}}async getUserById(e){xo(e);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ai})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){xo(e);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ai})}catch(o){if(ve(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,n=!1){xo(e);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ai})}catch(o){if(ve(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){xo(e.userId);try{const{data:n,error:o}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:n,error:o}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _deleteFactor(e){xo(e.userId),xo(e.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,o,u,c,h,p,m;try{const y={nextPage:null,lastPage:0,total:0},w=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(c=(u=e==null?void 0:e.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Dv});if(w.error)throw w.error;const S=await w.json(),b=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(m=(p=w.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(C=>{const P=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(C.split(";")[1].split("=")[1]);y[`${N}Page`]=P}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(ve(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ve(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}}function Bv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const So={debug:!!(globalThis&&u0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class h0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class u1 extends h0{}async function c1(t,e,n){So.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),So.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async u=>{if(u){So.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,u.name);try{return await n()}finally{So.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,u.name)}}else{if(e===0)throw So.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new u1(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(So.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function h1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function d0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function d1(t){return parseInt(t,16)}function f1(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function p1(t){var e;const{chainId:n,domain:o,expirationTime:u,issuedAt:c=new Date,nonce:h,notBefore:p,requestId:m,resources:y,scheme:w,uri:S,version:b}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const E=d0(t.address),C=w?`${w}://${o}`:o,P=t.statement?`${t.statement}
`:"",N=`${C} wants you to sign in with your Ethereum account:
${E}

${P}`;let z=`URI: ${S}
Version: ${b}
Chain ID: ${n}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(u&&(z+=`
Expiration Time: ${u.toISOString()}`),p&&(z+=`
Not Before: ${p.toISOString()}`),m&&(z+=`
Request ID: ${m}`),y){let U=`
Resources:`;for(const M of y){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);U+=`
- ${M}`}z+=U}return`${N}
${z}`}class pt extends Error{constructor({message:e,code:n,cause:o,name:u}){var c;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(c=u??(o instanceof Error?o.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=n}}class gc extends pt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function m1({error:t,options:e}){var n,o,u;const{publicKey:c}=e;if(!c)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=c.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new pt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new pt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new pt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new pt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new pt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new pt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new pt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const h=window.location.hostname;if(f0(h)){if(c.rp.id!==h)return new pt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new pt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function g1({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new pt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(f0(o)){if(n.rpId!==o)return new pt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class v1{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const y1=new v1;function _1(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:o}=t,u=Tc(t,["challenge","user","excludeCredentials"]),c=Mo(e).buffer,h=Object.assign(Object.assign({},n),{id:Mo(n.id).buffer}),p=Object.assign(Object.assign({},u),{challenge:c,user:h});if(o&&o.length>0){p.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const y=o[m];p.excludeCredentials[m]=Object.assign(Object.assign({},y),{id:Mo(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return p}function w1(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,o=Tc(t,["challenge","allowCredentials"]),u=Mo(e).buffer,c=Object.assign(Object.assign({},o),{challenge:u});if(n&&n.length>0){c.allowCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const p=n[h];c.allowCredentials[h]=Object.assign(Object.assign({},p),{id:Mo(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function x1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:bs(new Uint8Array(t.response.attestationObject)),clientDataJSON:bs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function S1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,o=t.getClientExtensionResults(),u=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:bs(new Uint8Array(u.authenticatorData)),clientDataJSON:bs(new Uint8Array(u.clientDataJSON)),signature:bs(new Uint8Array(u.signature)),userHandle:u.userHandle?bs(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function f0(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function zv(){var t,e;return!!(Lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function b1(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gc("Browser returned unexpected credential type",e)}:{data:null,error:new gc("Empty credential response",e)}}catch(e){return{data:null,error:m1({error:e,options:t})}}}async function T1(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gc("Browser returned unexpected credential type",e)}:{data:null,error:new gc("Empty credential response",e)}}catch(e){return{data:null,error:g1({error:e,options:t})}}}const k1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},E1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function vc(...t){const e=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),n=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),o={};for(const u of t)if(u)for(const c in u){const h=u[c];if(h!==void 0)if(Array.isArray(h))o[c]=h;else if(n(h))o[c]=h;else if(e(h)){const p=o[c];e(p)?o[c]=vc(p,h):o[c]=vc(h)}else o[c]=h}return o}function P1(t,e){return vc(k1,t,e||{})}function C1(t,e){return vc(E1,t,e||{})}class R1{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:o,signal:u},c){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!h)return{data:null,error:p};const m=u??y1.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${o}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=P1(h.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:w,error:S}=await b1({publicKey:y,signal:m});return w?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:w}},error:null}:{data:null,error:S}}case"request":{const y=C1(h.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:w,error:S}=await T1(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:m}));return w?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:w}},error:null}:{data:null,error:S}}}}catch(h){return ve(h)?{data:null,error:h}:{data:null,error:new ws("Unexpected error in challenge",h)}}}async _verify({challengeId:e,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!n)return{data:null,error:new hl("rpId is required for WebAuthn authentication")};try{if(!zv())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:o},signal:u},{request:c});if(!h)return{data:null,error:p};const{webauthn:m}=h;return this._verify({factorId:e,challengeId:h.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:o,credential_response:m.credential_response}})}catch(h){return ve(h)?{data:null,error:h}:{data:null,error:new ws("Unexpected error in authenticate",h)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!n)return{data:null,error:new hl("rpId is required for WebAuthn registration")};try{if(!zv())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:e});if(!h)return await this.client.mfa.listFactors().then(w=>{var S;return(S=w.data)===null||S===void 0?void 0:S.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w==null?void 0:w.id}):void 0),{data:null,error:p};const{data:m,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:u},{create:c});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:y}}catch(h){return ve(h)?{data:null,error:h}:{data:null,error:new ws("Unexpected error in register",h)}}}}h1();const L1={url:kP,storageKey:EP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:PP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Uv(t,e,n){return await n()}const bo={};class dl{get jwks(){var e,n;return(n=(e=bo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=bo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{cachedAt:e})}constructor(e){var n,o,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},L1),e);if(this.storageKey=c.storageKey,this.instanceID=(n=dl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,dl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Lt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new l1({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=c0(c.fetch),this.lock=c.lock||Uv,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&Lt()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=c1:this.lock=Uv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new R1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:u0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bv(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Bv(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${o0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},o="none";if(Lt()&&(n=FP(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),Lt()&&this.detectSessionInUrl&&o!=="none"){const{data:u,error:c}=await this._getSessionFromURL(n,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),IP(c)){const m=(e=c.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:h,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ve(n)?this._returnResult({error:n}):this._returnResult({error:new ws("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,o,u;try{const c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(u=e==null?void 0:e.options)===null||u===void 0?void 0:u.captchaToken}},xform:Kn}),{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const m=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(c){if(ve(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(e){var n,o,u;try{let c;if("email"in e){const{email:w,password:S,options:b}=e;let E=null,C=null;this.flowType==="pkce"&&([E,C]=await wo(this.storage,this.storageKey)),c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:w,password:S,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:E,code_challenge_method:C},xform:Kn})}else if("phone"in e){const{phone:w,password:S,options:b}=e;c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:S,data:(o=b==null?void 0:b.data)!==null&&o!==void 0?o:{},channel:(u=b==null?void 0:b.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Kn})}else throw new Qu("You must provide either an email or phone number and a password");const{data:h,error:p}=c;if(p||!h)return await Rt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(c){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ve(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(e){try{let n;if("email"in e){const{email:c,password:h,options:p}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:jv})}else if("phone"in e){const{phone:c,password:h,options:p}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:jv})}else throw new Qu("You must provide either an email or phone number and a password");const{data:o,error:u}=n;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o||!o.session||!o.user){const c=new _o;return this._returnResult({data:{user:null,session:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:u})}catch(n){if(ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,o,u,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,o,u,c,h,p,m,y,w,S,b;let E,C;if("message"in e)E=e.message,C=e.signature;else{const{chain:P,wallet:N,statement:z,options:U}=e;let M;if(Lt())if(typeof N=="object")M=N;else{const Se=window;if("ethereum"in Se&&typeof Se.ethereum=="object"&&"request"in Se.ethereum&&typeof Se.ethereum.request=="function")M=Se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=N}const J=new URL((n=U==null?void 0:U.url)!==null&&n!==void 0?n:window.location.href),G=await M.request({method:"eth_requestAccounts"}).then(Se=>Se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const te=d0(G[0]);let ie=(o=U==null?void 0:U.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ie){const Se=await M.request({method:"eth_chainId"});ie=d1(Se)}const re={domain:J.host,address:te,statement:z,uri:J.href,version:"1",chainId:ie,nonce:(u=U==null?void 0:U.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(c=U==null?void 0:U.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=U==null?void 0:U.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=U==null?void 0:U.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(y=U==null?void 0:U.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(w=U==null?void 0:U.signInWithEthereum)===null||w===void 0?void 0:w.resources};E=p1(re),C=await M.request({method:"personal_sign",params:[f1(E),te]})}try{const{data:P,error:N}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:C},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Kn});if(N)throw N;if(!P||!P.session||!P.user){const z=new _o;return this._returnResult({data:{user:null,session:null},error:z})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:N})}catch(P){if(ve(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async signInWithSolana(e){var n,o,u,c,h,p,m,y,w,S,b,E;let C,P;if("message"in e)C=e.message,P=e.signature;else{const{chain:N,wallet:z,statement:U,options:M}=e;let J;if(Lt())if(typeof z=="object")J=z;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))J=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=z}const G=new URL((n=M==null?void 0:M.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in J&&J.signIn){const te=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),U?{statement:U}:null));let ie;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")ie=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)ie=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ie&&"signature"in ie&&(typeof ie.signedMessage=="string"||ie.signedMessage instanceof Uint8Array)&&ie.signature instanceof Uint8Array)C=typeof ie.signedMessage=="string"?ie.signedMessage:new TextDecoder().decode(ie.signedMessage),P=ie.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${G.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(u=(o=M==null?void 0:M.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=M==null?void 0:M.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((h=M==null?void 0:M.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((p=M==null?void 0:M.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((m=M==null?void 0:M.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((y=M==null?void 0:M.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((S=(w=M==null?void 0:M.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||S===void 0)&&S.length?["Resources",...M.signInWithSolana.resources.map(ie=>`- ${ie}`)]:[]].join(`
`);const te=await J.signMessage(new TextEncoder().encode(C),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=te}}try{const{data:N,error:z}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:bs(P)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Kn});if(z)throw z;if(!N||!N.session||!N.user){const U=new _o;return this._returnResult({data:{user:null,session:null},error:U})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:z})}catch(N){if(ve(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(e){const n=await gs(this.storage,`${this.storageKey}-code-verifier`),[o,u]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new MP;const{data:c,error:h}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:Kn});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const p=new _o;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:h})}catch(c){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ve(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(e){try{const{options:n,provider:o,token:u,access_token:c,nonce:h}=e,p=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:u,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kn}),{data:m,error:y}=p;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m||!m.session||!m.user){const w=new _o;return this._returnResult({data:{user:null,session:null},error:w})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:y})}catch(n){if(ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,o,u,c,h;try{if("email"in e){const{email:p,options:m}=e;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await wo(this.storage,this.storageKey));const{error:S}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:w},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in e){const{phone:p,options:m}=e,{data:y,error:w}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=m==null?void 0:m.data)!==null&&u!==void 0?u:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:w})}throw new Qu("You must provide either an email or phone number.")}catch(p){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ve(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(e){var n,o;try{let u,c;"options"in e&&(u=(n=e.options)===null||n===void 0?void 0:n.redirectTo,c=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:p}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:Kn});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,y=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(u){if(ve(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(e){var n,o,u,c,h;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await wo(this.storage,this.storageKey));const y=await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((u=e==null?void 0:e.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:s1});return!((c=y.data)===null||c===void 0)&&c.url&&Lt()&&!(!((h=e.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(p){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ve(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;if(o)throw o;if(!n)throw new mn;const{error:u}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(e){if(ve(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:o,type:u,options:c}=e,{error:h}=await be(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in e){const{phone:o,type:u,options:c}=e,{data:h,error:p}=await be(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new Qu("You must provide either an email or phone number and a type")}catch(n){if(ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<kd:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const h=await gs(this.userStorage,this.storageKey+"-user");h!=null&&h.user?e.user=h.user:e.user=Cd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};e.user=t1(e.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:u,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ai}):await this._useSession(async n=>{var o,u,c;const{data:h,error:p}=n;if(p)throw p;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mn}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:Ai})})}catch(n){if(ve(n))return OP(n)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async o=>{const{data:u,error:c}=o;if(c)throw c;if(!u.session)throw new mn;const h=u.session;let p=null,m=null;this.flowType==="pkce"&&e.email!=null&&([p,m]=await wo(this.storage,this.storageKey));const{data:y,error:w}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:p,code_challenge_method:m}),jwt:h.access_token,xform:Ai});if(w)throw w;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ve(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mn;const n=Date.now()/1e3;let o=n,u=!0,c=null;const{payload:h}=Pd(e.access_token);if(h.exp&&(o=h.exp,u=o<=n),u){const{data:p,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:m}=await this._getUser(e.access_token);if(m)throw m;c={access_token:e.access_token,refresh_token:e.refresh_token,user:p.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(n){if(ve(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var o;if(!e){const{data:h,error:p}=n;if(p)throw p;e=(o=h.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new mn;const{data:u,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Lt())throw new ec("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ec(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Rv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ec("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rv("No code detected.");const{data:U,error:M}=await this._exchangeCodeForSession(e.code);if(M)throw M;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:u,access_token:c,refresh_token:h,expires_in:p,expires_at:m,token_type:y}=e;if(!c||!p||!h||!y)throw new ec("No session defined in URL");const w=Math.round(Date.now()/1e3),S=parseInt(p);let b=w+S;m&&(b=parseInt(m));const E=b-w;E*1e3<=ko&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${S}s`);const C=b-S;w-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,b,w):w-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,b,w);const{data:P,error:N}=await this._getUser(c);if(N)throw N;const z={provider_token:o,provider_refresh_token:u,access_token:c,expires_in:S,expires_at:b,refresh_token:h,token_type:y,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:e.type},error:null})}catch(o){if(ve(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await gs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:u,error:c}=n;if(c)return this._returnResult({error:c});const h=(o=u.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:p}=await this.admin.signOut(h,e);if(p&&!(AP(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return e!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=VP(),o={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async n=>{var o,u;try{const{data:{session:c},error:h}=n;if(h)throw h;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(e))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,n={}){let o=null,u=null;this.flowType==="pkce"&&([o,u]=await wo(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:u,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ve(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var e;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:o,error:u}=await this._useSession(async c=>{var h,p,m,y,w;const{data:S,error:b}=c;if(b)throw b;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(h=e.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=e.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",E,{headers:this.headers,jwt:(w=(y=S.session)===null||y===void 0?void 0:y.access_token)!==null&&w!==void 0?w:void 0})});if(u)throw u;return Lt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:e.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(ve(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var o;try{const{error:u,data:{session:c}}=n;if(u)throw u;const{options:h,provider:p,token:m,access_token:y,nonce:w}=e,S=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=c==null?void 0:c.access_token)!==null&&o!==void 0?o:void 0,body:{provider:p,id_token:m,access_token:y,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Kn}),{data:b,error:E}=S;return E?this._returnResult({data:{user:null,session:null},error:E}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new _o}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:E}))}catch(u){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ve(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var o,u;const{data:c,error:h}=n;if(h)throw h;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0})})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await HP(async u=>(u>0&&await WP(200*Math.pow(2,u-1)),this._debug(n,"refreshing attempt",u),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kn})),(u,c)=>{const h=200*Math.pow(2,u);return c&&Ed(c)&&Date.now()+h-o<ko})}catch(o){if(this._debug(n,"error",o),ve(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",o),Lt()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const u=await gs(this.storage,this.storageKey);if(u&&this.userStorage){let h=await gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await Eo(this.userStorage,this.storageKey+"-user",h)),u.user=(e=h==null?void 0:h.user)!==null&&e!==void 0?e:Cd()}else if(u&&!u.user&&!u.user){const h=await gs(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(u.user=h.user,await Rt(this.storage,this.storageKey+"-user"),await Eo(this.storage,this.storageKey,u)):u.user=Cd()}if(this._debug(o,"session from storage",u),!this._isValidSession(u)){this._debug(o,"session is not valid"),u!==null&&await this._removeSession();return}const c=((n=u.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<kd;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${kd}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),Ed(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(u.access_token);!p&&(h!=null&&h.user)?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(o,"error",u),console.error(u);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var n,o;if(!e)throw new mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Ec;const{data:c,error:h}=await this._refreshAccessToken(e);if(h)throw h;if(!c.session)throw new mn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(u,"error",c),ve(c)){const h={data:null,error:c};return Ed(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(e,n,o=!0){const u=`#_notifyAllSubscribers(${e})`;this._debug(u,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:n});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(e,n)}catch(m){c.push(m)}});if(await Promise.all(h),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Rt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await Eo(this.userStorage,this.storageKey+"-user",{user:n.user});const u=Object.assign({},n);delete u.user;const c=Mv(u);await Eo(this.storage,this.storageKey,c)}else{const u=Mv(n);await Eo(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ko);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((o.expires_at*1e3-e)/ko);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${ko}ms, refresh threshold is ${cf} ticks`),u<=cf&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof h0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,o){const u=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&u.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&u.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,h]=await wo(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(p.toString())}if(o!=null&&o.queryParams){const c=new URLSearchParams(o.queryParams);u.push(c.toString())}return o!=null&&o.skipBrowserRedirect&&u.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${u.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var o;const{data:u,error:c}=n;return c?this._returnResult({data:null,error:c}):await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var o,u;const{data:c,error:h}=n;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:m,error:y}=await be(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return y?this._returnResult({data:null,error:y}):(e.factorType==="totp"&&m.type==="totp"&&(!((u=m==null?void 0:m.totp)===null||u===void 0)&&u.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:u,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?x1(e.webauthn.credential_response):S1(e.webauthn.credential_response)})}:{code:e.code}),{data:p,error:m}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:h,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:u,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:_1(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:w1(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:o},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Pd(o.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((n=(e=o.user.factors)===null||e===void 0?void 0:e.filter(w=>w.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:o},error:u}=n;return u?this._returnResult({data:null,error:u}):o?await be(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new mn})})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:u},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new mn});const h=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&Lt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(ve(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:u},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new mn});const h=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&Lt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(ve(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;return o?this._returnResult({data:null,error:o}):n?await be(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new mn})})}catch(e){if(ve(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:o},error:u}=n;return u?this._returnResult({data:null,error:u}):o?(await be(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new mn})})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let o=n.keys.find(p=>p.kid===e);if(o)return o;const u=Date.now();if(o=this.jwks.keys.find(p=>p.kid===e),o&&this.jwks_cached_at+RP>u)return o;const{data:c,error:h}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,o=c.keys.find(p=>p.kid===e),!o)?null:o}async getClaims(e,n={}){try{let o=e;if(!o){const{data:E,error:C}=await this.getSession();if(C||!E.session)return this._returnResult({data:null,error:C});o=E.session.access_token}const{header:u,payload:c,signature:h,raw:{header:p,payload:m}}=Pd(o);n!=null&&n.allowExpired||XP(c.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!y){const{error:E}=await this.getUser(o);if(E)throw E;return{data:{claims:c,header:u,signature:h},error:null}}const w=QP(u.alg),S=await crypto.subtle.importKey("jwk",y,w,!0,["verify"]);if(!await crypto.subtle.verify(w,S,h,zP(`${p}.${m}`)))throw new ff("Invalid JWT signature");return{data:{claims:c,header:u,signature:h},error:null}}catch(o){if(ve(o))return this._returnResult({data:null,error:o});throw o}}}dl.nextInstanceID={};const A1=dl,O1="2.90.1";let qa="";typeof Deno<"u"?qa="deno":typeof document<"u"?qa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qa="react-native":qa="node";const I1={"X-Client-Info":`supabase-js-${qa}/${O1}`},M1={headers:I1},N1={schema:"public"},j1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},D1={};function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function B1(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(fl(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z1(t){var e=B1(t,"string");return fl(e)=="symbol"?e:e+""}function U1(t,e,n){return(e=z1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,o)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vv(Object(n),!0).forEach(function(o){U1(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vv(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}const V1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),F1=()=>Headers,$1=(t,e,n)=>{const o=V1(n),u=F1();return async(c,h)=>{var p;const m=(p=await e())!==null&&p!==void 0?p:t;let y=new u(h==null?void 0:h.headers);return y.has("apikey")||y.set("apikey",t),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),o(c,ut(ut({},h),{},{headers:y}))}};function W1(t){return t.endsWith("/")?t:t+"/"}function H1(t,e){var n,o;const{db:u,auth:c,realtime:h,global:p}=t,{db:m,auth:y,realtime:w,global:S}=e,b={db:ut(ut({},m),u),auth:ut(ut({},y),c),realtime:ut(ut({},w),h),storage:{},global:ut(ut(ut({},S),p),{},{headers:ut(ut({},(n=S==null?void 0:S.headers)!==null&&n!==void 0?n:{}),(o=p==null?void 0:p.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function Z1(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(W1(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var K1=class extends A1{constructor(t){super(t)}},q1=class{constructor(t,e,n){var o,u;this.supabaseUrl=t,this.supabaseKey=e;const c=Z1(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,p={db:N1,realtime:D1,auth:ut(ut({},j1),{},{storageKey:h}),global:M1},m=H1(n??{},p);if(this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(w,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=m.auth)!==null&&y!==void 0?y:{},this.headers,m.global.fetch)}this.fetch=$1(e,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(ut({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new PE(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new TP(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new SE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:o}=await t.auth.getSession();return(e=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:o,userStorage:u,storageKey:c,flowType:h,lock:p,debug:m,throwOnError:y},w,S){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new K1({url:this.authUrl.href,headers:ut(ut({},b),w),storageKey:c,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:o,userStorage:u,flowType:h,lock:p,debug:m,throwOnError:y,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new WE(this.realtimeUrl.href,ut(ut({},t),{},{params:ut(ut({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const G1=(t,e,n)=>new q1(t,e,n);function J1(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}J1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Y1="https://erfjhbrsttzkvggksdhx.supabase.co",X1="sb_publishable_YcOdkaudSwpAp-shiv3P7A_WGkEvE7A",zr=G1(Y1,X1);function Q1(){const[t,e]=A.useState(!1),[n,o]=A.useState(""),[u,c]=A.useState(""),h=async p=>{p.preventDefault(),e(!0);const{error:m}=await zr.auth.signInWithOtp({email:n});m?alert(m.error_description||m.message):c("Check your email for the login link!"),e(!1)};return I.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-maxim-bg p-4",children:I.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[I.jsxs("div",{className:"text-center mb-8",children:[I.jsx("div",{className:"w-16 h-16 bg-maxim-primary rounded-full flex items-center justify-center mx-auto mb-4",children:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-maxim-dark",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839 1.132c.645-2.266.99-4.659.99-7.131A8 8 0 008 4.07M3 15.364c.64-1.319 1-2.8 1-4.364 0-1.457.2-2.85.577-4.147"})})}),I.jsx("h1",{className:"text-2xl font-bold text-maxim-dark mb-1",children:"Maximus Driver"}),I.jsx("p",{className:"text-gray-500 text-sm",children:"Masuk untuk menyimpan riwayat order"})]}),u?I.jsx("div",{className:"bg-green-100 border border-green-200 text-green-700 px-4 py-3 rounded relative mb-4",role:"alert",children:I.jsx("span",{className:"block sm:inline",children:u})}):I.jsxs("form",{onSubmit:h,className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),I.jsx("input",{id:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-maxim-primary focus:border-transparent outline-none transition-all",type:"email",placeholder:"nama@email.com",value:n,onChange:p=>o(p.target.value),required:!0})]}),I.jsx("button",{className:"w-full bg-maxim-primary hover:bg-yellow-400 text-maxim-dark font-bold py-3 px-4 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-md",disabled:t,children:t?I.jsxs("span",{className:"flex items-center justify-center",children:[I.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-maxim-dark",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[I.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),I.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Mengirim Link..."]}):I.jsx("span",{children:"Kirim Magic Link"})})]}),I.jsx("p",{className:"mt-8 text-center text-xs text-gray-400",children:"Powered by Supabase"})]})})}const p0=A.createContext(),op=()=>{const t=A.useContext(p0);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},eC=({children:t})=>{const[e,n]=A.useState(()=>{const c=localStorage.getItem("maximus_settings");if(c)try{return JSON.parse(c)}catch(h){console.error("Failed to parse settings",h)}return{driverName:"",dailyTarget:2e5,vehicleType:"matic_kecil",fuelEfficiency:200,defaultCommission:.15,darkMode:!1}});A.useEffect(()=>{localStorage.setItem("maximus_settings",JSON.stringify(e))},[e]);const u={settings:e,updateSettings:c=>{n(h=>({...h,...c}))}};return I.jsx(p0.Provider,{value:u,children:t})};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,o)=>o?o.toUpperCase():n.toLowerCase()),Fv=t=>{const e=nC(t);return e.charAt(0).toUpperCase()+e.slice(1)},m0=(...t)=>t.filter((e,n,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===n).join(" ").trim(),rC=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:u="",children:c,iconNode:h,...p},m)=>A.createElement("svg",{ref:m,...iC,width:e,height:e,stroke:t,strokeWidth:o?Number(n)*24/Number(e):n,className:m0("lucide",u),...!c&&!rC(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,w])=>A.createElement(y,w)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=(t,e)=>{const n=A.forwardRef(({className:o,...u},c)=>A.createElement(sC,{ref:c,iconNode:e,className:m0(`lucide-${tC(Fv(t))}`,`lucide-${t}`,o),...u}));return n.displayName=Fv(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],aC=Mn("calculator",oC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],uC=Mn("car",lC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hC=Mn("chevron-down",cC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fC=Mn("circle-check-big",dC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],mC=Mn("cloud",pC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],vC=Mn("coffee",gC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],_C=Mn("history",yC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],xC=Mn("map",wC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],bC=Mn("moon",SC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kC=Mn("settings",TC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],PC=Mn("sun",EC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pf=Mn("user",CC);function RC({showToast:t,session:e}){const{settings:n}=op(),[o,u]=A.useState(""),[c,h]=A.useState(""),[p,m]=A.useState(n.defaultCommission),[y,w]=A.useState(!1),[S,b]=A.useState(!1);A.useEffect(()=>{m(n.defaultCommission)},[n.defaultCommission]);const E=parseFloat(o)||0,C=parseFloat(c)||0,P=E*p,N=C*n.fuelEfficiency,z=500,U=E-P-N-z,M=G=>new Intl.NumberFormat("id-ID").format(G),J=async()=>{if(!(!o||!c||S)){b(!0),navigator.vibrate&&navigator.vibrate(50);try{const{error:G}=await zr.from("orders").insert([{user_id:e.user.id,price:E,distance:C,net_profit:U}]);if(G)throw G;w(!0),t&&t(`Order Saved: +${M(U)}`),setTimeout(()=>{u(""),h(""),w(!1),b(!1)},1500)}catch(G){console.error("Error saving order:",G),alert("Gagal menyimpan order: "+G.message),b(!1)}}};return I.jsxs(I.Fragment,{children:[I.jsx(c_,{children:y&&I.jsx(Ao.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:I.jsxs("div",{className:"text-center",children:[I.jsx(Ao.div,{initial:{scale:0,rotate:-45},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},children:I.jsx(fC,{className:"w-24 h-24 text-maxim-yellow mx-auto mb-4"})}),I.jsx(Ao.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"text-3xl font-bold text-maxim-yellow",children:"ORDER MASUK!"})]})})}),I.jsxs("div",{className:"flex flex-col h-full bg-maxim-bg p-4 space-y-4",children:[I.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 flex flex-col items-center justify-center space-y-2",children:[I.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-widest",children:"Estimasi Bersih"}),I.jsxs("div",{className:`text-4xl font-bold ${U>0?"text-maxim-dark":"text-red-500"}`,children:[I.jsx("span",{className:"text-lg text-gray-400 font-normal mr-1",children:"Rp"}),M(Math.max(0,U))]}),I.jsx("div",{className:"flex items-center space-x-2 mt-2",children:I.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${p===.1?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600"}`,children:p===.1?"PRIORITAS":"NON-PRIORITAS"})})]}),I.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1 uppercase",children:"Harga Order (Rp)"}),I.jsx("input",{type:"number",value:o,onChange:G=>u(G.target.value),placeholder:"0",className:"w-full text-lg p-3 rounded-xl border border-gray-200 focus:border-maxim-yellow focus:ring-1 focus:ring-maxim-yellow outline-none transition-all",inputMode:"numeric"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1 uppercase",children:"Jarak (KM)"}),I.jsx("input",{type:"number",value:c,onChange:G=>h(G.target.value),placeholder:"0",className:"w-full text-lg p-3 rounded-xl border border-gray-200 focus:border-maxim-yellow focus:ring-1 focus:ring-maxim-yellow outline-none transition-all",inputMode:"decimal"})]}),I.jsxs("div",{className:"flex items-center justify-between pt-2",children:[I.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Potongan Aplikasi"}),I.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[I.jsx("button",{onClick:()=>m(.1),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all ${p===.1?"bg-white shadow-sm text-maxim-dark":"text-gray-400"}`,children:"10%"}),I.jsx("button",{onClick:()=>m(.15),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all ${p===.15?"bg-white shadow-sm text-maxim-dark":"text-gray-400"}`,children:"15%"})]})]})]}),I.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[I.jsxs("div",{className:"bg-white p-3 rounded-xl border border-gray-100 text-center",children:[I.jsx("div",{className:"text-[10px] text-gray-400 uppercase",children:"Potongan"}),I.jsxs("div",{className:"text-sm font-semibold text-red-500",children:["-",M(P)]})]}),I.jsxs("div",{className:"bg-white p-3 rounded-xl border border-gray-100 text-center",children:[I.jsx("div",{className:"text-[10px] text-gray-400 uppercase",children:"Bensin"}),I.jsxs("div",{className:"text-sm font-semibold text-red-500",children:["-",M(N)]})]}),I.jsxs("div",{className:"bg-white p-3 rounded-xl border border-gray-100 text-center",children:[I.jsx("div",{className:"text-[10px] text-gray-400 uppercase",children:"Servis"}),I.jsxs("div",{className:"text-sm font-semibold text-red-500",children:["-",z]})]})]}),I.jsx(Ao.button,{whileTap:{scale:.95},onClick:J,disabled:!o||!c||S,className:`w-full py-4 mt-auto rounded-xl font-bold text-lg shadow-lg ${!o||!c?"bg-gray-200 text-gray-400 cursor-not-allowed shadow-none":"bg-maxim-yellow text-maxim-dark shadow-yellow-200"}`,children:"TERIMA ORDER"})]})]})}function g0(t,e){const n=A.useRef(e);A.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const LC=1;function AC(t){return Object.freeze({__version:LC,map:t})}function OC(t,e){return Object.freeze({...t,...e})}const v0=A.createContext(null),y0=v0.Provider;function ap(){const t=A.useContext(v0);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function IC(t){function e(n,o){const{instance:u,context:c}=t(n).current;return A.useImperativeHandle(o,()=>u),n.children==null?null:Ad.createElement(y0,{value:c},n.children)}return A.forwardRef(e)}function MC(t){function e(n,o){const[u,c]=A.useState(!1),{instance:h}=t(n,c).current;A.useImperativeHandle(o,()=>h),A.useEffect(function(){u&&h.update()},[h,u,n.children]);const p=h._contentNode;return p?Ux.createPortal(n.children,p):null}return A.forwardRef(e)}function NC(t){function e(n,o){const{instance:u}=t(n).current;return A.useImperativeHandle(o,()=>u),null}return A.forwardRef(e)}function _0(t,e){const n=A.useRef();A.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function lp(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function jC(t,e){return function(o,u){const c=ap(),h=t(lp(o,c),c);return g0(c.map,o.attribution),_0(h.current,o.eventHandlers),e(h.current,c,o,u),h}}var Ga={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var DC=Ga.exports,$v;function BC(){return $v||($v=1,(function(t,e){(function(n,o){o(e)})(DC,(function(n){var o="1.9.4";function u(i){var a,d,g,x;for(d=1,g=arguments.length;d<g;d++){x=arguments[d];for(a in x)i[a]=x[a]}return i}var c=Object.create||(function(){function i(){}return function(a){return i.prototype=a,new i}})();function h(i,a){var d=Array.prototype.slice;if(i.bind)return i.bind.apply(i,d.call(arguments,1));var g=d.call(arguments,2);return function(){return i.apply(a,g.length?g.concat(d.call(arguments)):arguments)}}var p=0;function m(i){return"_leaflet_id"in i||(i._leaflet_id=++p),i._leaflet_id}function y(i,a,d){var g,x,k,O;return O=function(){g=!1,x&&(k.apply(d,x),x=!1)},k=function(){g?x=arguments:(i.apply(d,arguments),setTimeout(O,a),g=!0)},k}function w(i,a,d){var g=a[1],x=a[0],k=g-x;return i===g&&d?i:((i-x)%k+k)%k+x}function S(){return!1}function b(i,a){if(a===!1)return i;var d=Math.pow(10,a===void 0?6:a);return Math.round(i*d)/d}function E(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function C(i){return E(i).split(/\s+/)}function P(i,a){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?c(i.options):{});for(var d in a)i.options[d]=a[d];return i.options}function N(i,a,d){var g=[];for(var x in i)g.push(encodeURIComponent(d?x.toUpperCase():x)+"="+encodeURIComponent(i[x]));return(!a||a.indexOf("?")===-1?"?":"&")+g.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function U(i,a){return i.replace(z,function(d,g){var x=a[g];if(x===void 0)throw new Error("No value provided for variable "+d);return typeof x=="function"&&(x=x(a)),x})}var M=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function J(i,a){for(var d=0;d<i.length;d++)if(i[d]===a)return d;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function te(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var ie=0;function re(i){var a=+new Date,d=Math.max(0,16-(a-ie));return ie=a+d,window.setTimeout(i,d)}var Se=window.requestAnimationFrame||te("RequestAnimationFrame")||re,Ne=window.cancelAnimationFrame||te("CancelAnimationFrame")||te("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function Be(i,a,d){if(d&&Se===re)i.call(a);else return Se.call(window,h(i,a))}function Fe(i){i&&Ne.call(window,i)}var kt={__proto__:null,extend:u,create:c,bind:h,get lastId(){return p},stamp:m,throttle:y,wrapNum:w,falseFn:S,formatNum:b,trim:E,splitWords:C,setOptions:P,getParamString:N,template:U,isArray:M,indexOf:J,emptyImageUrl:G,requestFn:Se,cancelFn:Ne,requestAnimFrame:Be,cancelAnimFrame:Fe};function Xe(){}Xe.extend=function(i){var a=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=a.__super__=this.prototype,g=c(d);g.constructor=a,a.prototype=g;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(a[x]=this[x]);return i.statics&&u(a,i.statics),i.includes&&(Vt(i.includes),u.apply(null,[g].concat(i.includes))),u(g,i),delete g.statics,delete g.includes,g.options&&(g.options=d.options?c(d.options):{},u(g.options,i.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,O=g._initHooks.length;k<O;k++)g._initHooks[k].call(this)}},a},Xe.include=function(i){var a=this.prototype.options;return u(this.prototype,i),i.options&&(this.prototype.options=a,this.mergeOptions(i.options)),this},Xe.mergeOptions=function(i){return u(this.prototype.options,i),this},Xe.addInitHook=function(i){var a=Array.prototype.slice.call(arguments,1),d=typeof i=="function"?i:function(){this[i].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Vt(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=M(i)?i:[i];for(var a=0;a<i.length;a++)i[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ve={on:function(i,a,d){if(typeof i=="object")for(var g in i)this._on(g,i[g],a);else{i=C(i);for(var x=0,k=i.length;x<k;x++)this._on(i[x],a,d)}return this},off:function(i,a,d){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var g in i)this._off(g,i[g],a);else{i=C(i);for(var x=arguments.length===1,k=0,O=i.length;k<O;k++)x?this._off(i[k]):this._off(i[k],a,d)}return this},_on:function(i,a,d,g){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(i,a,d)===!1){d===this&&(d=void 0);var x={fn:a,ctx:d};g&&(x.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(x)}},_off:function(i,a,d){var g,x,k;if(this._events&&(g=this._events[i],!!g)){if(arguments.length===1){if(this._firingCount)for(x=0,k=g.length;x<k;x++)g[x].fn=S;delete this._events[i];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var O=this._listens(i,a,d);if(O!==!1){var V=g[O];this._firingCount&&(V.fn=S,this._events[i]=g=g.slice()),g.splice(O,1)}}},fire:function(i,a,d){if(!this.listens(i,d))return this;var g=u({},a,{type:i,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var x=this._events[i];if(x){this._firingCount=this._firingCount+1||1;for(var k=0,O=x.length;k<O;k++){var V=x[k],W=V.fn;V.once&&this.off(i,W,V.ctx),W.call(V.ctx||this,g)}this._firingCount--}}return d&&this._propagateEvent(g),this},listens:function(i,a,d,g){typeof i!="string"&&console.warn('"string" type argument expected');var x=a;typeof a!="function"&&(g=!!a,x=void 0,d=void 0);var k=this._events&&this._events[i];if(k&&k.length&&this._listens(i,x,d)!==!1)return!0;if(g){for(var O in this._eventParents)if(this._eventParents[O].listens(i,a,d,g))return!0}return!1},_listens:function(i,a,d){if(!this._events)return!1;var g=this._events[i]||[];if(!a)return!!g.length;d===this&&(d=void 0);for(var x=0,k=g.length;x<k;x++)if(g[x].fn===a&&g[x].ctx===d)return x;return!1},once:function(i,a,d){if(typeof i=="object")for(var g in i)this._on(g,i[g],a,!0);else{i=C(i);for(var x=0,k=i.length;x<k;x++)this._on(i[x],a,d,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[m(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[m(i)],this},_propagateEvent:function(i){for(var a in this._eventParents)this._eventParents[a].fire(i.type,u({layer:i.target,propagatedFrom:i.target},i),!0)}};Ve.addEventListener=Ve.on,Ve.removeEventListener=Ve.clearAllEventListeners=Ve.off,Ve.addOneTimeEventListener=Ve.once,Ve.fireEvent=Ve.fire,Ve.hasEventListeners=Ve.listens;var Pe=Xe.extend(Ve);function Z(i,a,d){this.x=d?Math.round(i):i,this.y=d?Math.round(a):a}var pe=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};Z.prototype={clone:function(){return new Z(this.x,this.y)},add:function(i){return this.clone()._add(K(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(K(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new Z(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new Z(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pe(this.x),this.y=pe(this.y),this},distanceTo:function(i){i=K(i);var a=i.x-this.x,d=i.y-this.y;return Math.sqrt(a*a+d*d)},equals:function(i){return i=K(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=K(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function K(i,a,d){return i instanceof Z?i:M(i)?new Z(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new Z(i.x,i.y):new Z(i,a,d)}function D(i,a){if(i)for(var d=a?[i,a]:i,g=0,x=d.length;g<x;g++)this.extend(d[g])}D.prototype={extend:function(i){var a,d;if(!i)return this;if(i instanceof Z||typeof i[0]=="number"||"x"in i)a=d=K(i);else if(i=q(i),a=i.min,d=i.max,!a||!d)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=d.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(i){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var a,d;return typeof i[0]=="number"||i instanceof Z?i=K(i):i=q(i),i instanceof D?(a=i.min,d=i.max):a=d=i,a.x>=this.min.x&&d.x<=this.max.x&&a.y>=this.min.y&&d.y<=this.max.y},intersects:function(i){i=q(i);var a=this.min,d=this.max,g=i.min,x=i.max,k=x.x>=a.x&&g.x<=d.x,O=x.y>=a.y&&g.y<=d.y;return k&&O},overlaps:function(i){i=q(i);var a=this.min,d=this.max,g=i.min,x=i.max,k=x.x>a.x&&g.x<d.x,O=x.y>a.y&&g.y<d.y;return k&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var a=this.min,d=this.max,g=Math.abs(a.x-d.x)*i,x=Math.abs(a.y-d.y)*i;return q(K(a.x-g,a.y-x),K(d.x+g,d.y+x))},equals:function(i){return i?(i=q(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function q(i,a){return!i||i instanceof D?i:new D(i,a)}function ye(i,a){if(i)for(var d=a?[i,a]:i,g=0,x=d.length;g<x;g++)this.extend(d[g])}ye.prototype={extend:function(i){var a=this._southWest,d=this._northEast,g,x;if(i instanceof de)g=i,x=i;else if(i instanceof ye){if(g=i._southWest,x=i._northEast,!g||!x)return this}else return i?this.extend(ae(i)||ge(i)):this;return!a&&!d?(this._southWest=new de(g.lat,g.lng),this._northEast=new de(x.lat,x.lng)):(a.lat=Math.min(g.lat,a.lat),a.lng=Math.min(g.lng,a.lng),d.lat=Math.max(x.lat,d.lat),d.lng=Math.max(x.lng,d.lng)),this},pad:function(i){var a=this._southWest,d=this._northEast,g=Math.abs(a.lat-d.lat)*i,x=Math.abs(a.lng-d.lng)*i;return new ye(new de(a.lat-g,a.lng-x),new de(d.lat+g,d.lng+x))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof de||"lat"in i?i=ae(i):i=ge(i);var a=this._southWest,d=this._northEast,g,x;return i instanceof ye?(g=i.getSouthWest(),x=i.getNorthEast()):g=x=i,g.lat>=a.lat&&x.lat<=d.lat&&g.lng>=a.lng&&x.lng<=d.lng},intersects:function(i){i=ge(i);var a=this._southWest,d=this._northEast,g=i.getSouthWest(),x=i.getNorthEast(),k=x.lat>=a.lat&&g.lat<=d.lat,O=x.lng>=a.lng&&g.lng<=d.lng;return k&&O},overlaps:function(i){i=ge(i);var a=this._southWest,d=this._northEast,g=i.getSouthWest(),x=i.getNorthEast(),k=x.lat>a.lat&&g.lat<d.lat,O=x.lng>a.lng&&g.lng<d.lng;return k&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,a){return i?(i=ge(i),this._southWest.equals(i.getSouthWest(),a)&&this._northEast.equals(i.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ge(i,a){return i instanceof ye?i:new ye(i,a)}function de(i,a,d){if(isNaN(i)||isNaN(a))throw new Error("Invalid LatLng object: ("+i+", "+a+")");this.lat=+i,this.lng=+a,d!==void 0&&(this.alt=+d)}de.prototype={equals:function(i,a){if(!i)return!1;i=ae(i);var d=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return d<=(a===void 0?1e-9:a)},toString:function(i){return"LatLng("+b(this.lat,i)+", "+b(this.lng,i)+")"},distanceTo:function(i){return Ae.distance(this,ae(i))},wrap:function(){return Ae.wrapLatLng(this)},toBounds:function(i){var a=180*i/40075017,d=a/Math.cos(Math.PI/180*this.lat);return ge([this.lat-a,this.lng-d],[this.lat+a,this.lng+d])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function ae(i,a,d){return i instanceof de?i:M(i)&&typeof i[0]!="object"?i.length===3?new de(i[0],i[1],i[2]):i.length===2?new de(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new de(i.lat,"lng"in i?i.lng:i.lon,i.alt):a===void 0?null:new de(i,a,d)}var Me={latLngToPoint:function(i,a){var d=this.projection.project(i),g=this.scale(a);return this.transformation._transform(d,g)},pointToLatLng:function(i,a){var d=this.scale(a),g=this.transformation.untransform(i,d);return this.projection.unproject(g)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var a=this.projection.bounds,d=this.scale(i),g=this.transformation.transform(a.min,d),x=this.transformation.transform(a.max,d);return new D(g,x)},infinite:!1,wrapLatLng:function(i){var a=this.wrapLng?w(i.lng,this.wrapLng,!0):i.lng,d=this.wrapLat?w(i.lat,this.wrapLat,!0):i.lat,g=i.alt;return new de(d,a,g)},wrapLatLngBounds:function(i){var a=i.getCenter(),d=this.wrapLatLng(a),g=a.lat-d.lat,x=a.lng-d.lng;if(g===0&&x===0)return i;var k=i.getSouthWest(),O=i.getNorthEast(),V=new de(k.lat-g,k.lng-x),W=new de(O.lat-g,O.lng-x);return new ye(V,W)}},Ae=u({},Me,{wrapLng:[-180,180],R:6371e3,distance:function(i,a){var d=Math.PI/180,g=i.lat*d,x=a.lat*d,k=Math.sin((a.lat-i.lat)*d/2),O=Math.sin((a.lng-i.lng)*d/2),V=k*k+Math.cos(g)*Math.cos(x)*O*O,W=2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V));return this.R*W}}),He=6378137,Et={R:He,MAX_LATITUDE:85.0511287798,project:function(i){var a=Math.PI/180,d=this.MAX_LATITUDE,g=Math.max(Math.min(d,i.lat),-d),x=Math.sin(g*a);return new Z(this.R*i.lng*a,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(i){var a=180/Math.PI;return new de((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*a,i.x*a/this.R)},bounds:(function(){var i=He*Math.PI;return new D([-i,-i],[i,i])})()};function Wr(i,a,d,g){if(M(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=a,this._c=d,this._d=g}Wr.prototype={transform:function(i,a){return this._transform(i.clone(),a)},_transform:function(i,a){return a=a||1,i.x=a*(this._a*i.x+this._b),i.y=a*(this._c*i.y+this._d),i},untransform:function(i,a){return a=a||1,new Z((i.x/a-this._b)/this._a,(i.y/a-this._d)/this._c)}};function Hr(i,a,d,g){return new Wr(i,a,d,g)}var Zr=u({},Ae,{code:"EPSG:3857",projection:Et,transformation:(function(){var i=.5/(Math.PI*Et.R);return Hr(i,.5,-i,.5)})()}),Fo=u({},Zr,{code:"EPSG:900913"});function $o(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Wo(i,a){var d="",g,x,k,O,V,W;for(g=0,k=i.length;g<k;g++){for(V=i[g],x=0,O=V.length;x<O;x++)W=V[x],d+=(x?"L":"M")+W.x+" "+W.y;d+=a?fe.svg?"z":"x":""}return d||"M0 0"}var Di=document.documentElement.style,Bi="ActiveXObject"in window,Ho=Bi&&!document.addEventListener,Kr="msLaunchUri"in navigator&&!("documentMode"in document),Xn=Ot("webkit"),ks=Ot("android"),Zo=Ot("android 2")||Ot("android 3"),bl=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Tl=ks&&Ot("Google")&&bl<537&&!("AudioNode"in window),Es=!!window.opera,Ps=!Kr&&Ot("chrome"),zi=Ot("gecko")&&!Xn&&!Es&&!Bi,kl=!Ps&&Ot("safari"),qr=Ot("phantom"),Gr="OTransition"in Di,Pc=navigator.platform.indexOf("Win")===0,Ko=Bi&&"transition"in Di,Cs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Zo,El="MozPerspective"in Di,qo=!window.L_DISABLE_3D&&(Ko||Cs||El)&&!Gr&&!qr,fr=typeof orientation<"u"||Ot("mobile"),Go=fr&&Xn,Jo=fr&&Cs,Rs=!window.PointerEvent&&window.MSPointerEvent,pr=!!(window.PointerEvent||Rs),mr="ontouchstart"in window||!!window.TouchEvent,Pl=!window.L_NO_TOUCH&&(mr||pr),Cl=fr&&Es,Rl=fr&&zi,Ll=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Al=(function(){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",S,a),window.removeEventListener("testPassiveEventSupport",S,a)}catch{}return i})(),Yo=(function(){return!!document.createElement("canvas").getContext})(),Ls=!!(document.createElementNS&&$o("svg").createSVGRect),Ui=!!Ls&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Xo=!Ls&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var a=i.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}})(),Vi=navigator.platform.indexOf("Mac")===0,Cc=navigator.platform.indexOf("Linux")===0;function Ot(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var fe={ie:Bi,ielt9:Ho,edge:Kr,webkit:Xn,android:ks,android23:Zo,androidStock:Tl,opera:Es,chrome:Ps,gecko:zi,safari:kl,phantom:qr,opera12:Gr,win:Pc,ie3d:Ko,webkit3d:Cs,gecko3d:El,any3d:qo,mobile:fr,mobileWebkit:Go,mobileWebkit3d:Jo,msPointer:Rs,pointer:pr,touch:Pl,touchNative:mr,mobileOpera:Cl,mobileGecko:Rl,retina:Ll,passiveEvents:Al,canvas:Yo,svg:Ls,vml:Xo,inlineSvg:Ui,mac:Vi,linux:Cc},Fi=fe.msPointer?"MSPointerDown":"pointerdown",As=fe.msPointer?"MSPointerMove":"pointermove",Ol=fe.msPointer?"MSPointerUp":"pointerup",Il=fe.msPointer?"MSPointerCancel":"pointercancel",Qo={touchstart:Fi,touchmove:As,touchend:Ol,touchcancel:Il},Qn={touchstart:et,touchmove:Os,touchend:Os,touchcancel:Os},gr={},ea=!1;function Rc(i,a,d){return a==="touchstart"&&Lc(),Qn[a]?(d=Qn[a].bind(this,d),i.addEventListener(Qo[a],d,!1),d):(console.warn("wrong event specified:",a),S)}function Ml(i,a,d){if(!Qo[a]){console.warn("wrong event specified:",a);return}i.removeEventListener(Qo[a],d,!1)}function Nl(i){gr[i.pointerId]=i}function jl(i){gr[i.pointerId]&&(gr[i.pointerId]=i)}function ta(i){delete gr[i.pointerId]}function Lc(){ea||(document.addEventListener(Fi,Nl,!0),document.addEventListener(As,jl,!0),document.addEventListener(Ol,ta,!0),document.addEventListener(Il,ta,!0),ea=!0)}function Os(i,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var d in gr)a.touches.push(gr[d]);a.changedTouches=[a],i(a)}}function et(i,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&tt(a),Os(i,a)}function Ac(i){var a={},d,g;for(g in i)d=i[g],a[g]=d&&d.bind?d.bind(i):d;return i=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var na=200;function Dl(i,a){i.addEventListener("dblclick",a);var d=0,g;function x(k){if(k.detail!==1){g=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var O=_r(k);if(!(O.some(function(W){return W instanceof HTMLLabelElement&&W.attributes.for})&&!O.some(function(W){return W instanceof HTMLInputElement||W instanceof HTMLSelectElement}))){var V=Date.now();V-d<=na?(g++,g===2&&a(Ac(k))):g=1,d=V}}}return i.addEventListener("click",x),{dblclick:a,simDblclick:x}}function Is(i,a){i.removeEventListener("dblclick",a.dblclick),i.removeEventListener("click",a.simDblclick)}var ra=Qr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Jr=Qr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),$i=Jr==="webkitTransition"||Jr==="OTransition"?Jr+"End":"transitionend";function rn(i){return typeof i=="string"?document.getElementById(i):i}function Wi(i,a){var d=i.style[a]||i.currentStyle&&i.currentStyle[a];if((!d||d==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(i,null);d=g?g[a]:null}return d==="auto"?null:d}function Re(i,a,d){var g=document.createElement(i);return g.className=a||"",d&&d.appendChild(g),g}function Ge(i){var a=i.parentNode;a&&a.removeChild(i)}function Ms(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Yr(i){var a=i.parentNode;a&&a.lastChild!==i&&a.appendChild(i)}function Nn(i){var a=i.parentNode;a&&a.firstChild!==i&&a.insertBefore(i,a.firstChild)}function Xr(i,a){if(i.classList!==void 0)return i.classList.contains(a);var d=Ns(i);return d.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(d)}function Ce(i,a){if(i.classList!==void 0)for(var d=C(a),g=0,x=d.length;g<x;g++)i.classList.add(d[g]);else if(!Xr(i,a)){var k=Ns(i);ia(i,(k?k+" ":"")+a)}}function Ze(i,a){i.classList!==void 0?i.classList.remove(a):ia(i,E((" "+Ns(i)+" ").replace(" "+a+" "," ")))}function ia(i,a){i.className.baseVal===void 0?i.className=a:i.className.baseVal=a}function Ns(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function It(i,a){"opacity"in i.style?i.style.opacity=a:"filter"in i.style&&Bl(i,a)}function Bl(i,a){var d=!1,g="DXImageTransform.Microsoft.Alpha";try{d=i.filters.item(g)}catch{if(a===1)return}a=Math.round(a*100),d?(d.Enabled=a!==100,d.Opacity=a):i.style.filter+=" progid:"+g+"(opacity="+a+")"}function Qr(i){for(var a=document.documentElement.style,d=0;d<i.length;d++)if(i[d]in a)return i[d];return!1}function sn(i,a,d){var g=a||new Z(0,0);i.style[ra]=(fe.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(d?" scale("+d+")":"")}function at(i,a){i._leaflet_pos=a,fe.any3d?sn(i,a):(i.style.left=a.x+"px",i.style.top=a.y+"px")}function jn(i){return i._leaflet_pos||new Z(0,0)}var je,ei,js;if("onselectstart"in document)je=function(){ke(window,"selectstart",tt)},ei=function(){$e(window,"selectstart",tt)};else{var vr=Qr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);je=function(){if(vr){var i=document.documentElement.style;js=i[vr],i[vr]="none"}},ei=function(){vr&&(document.documentElement.style[vr]=js,js=void 0)}}function Ds(){ke(window,"dragstart",tt)}function Bs(){$e(window,"dragstart",tt)}var Hi,Zi;function ti(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(on(),Hi=i,Zi=i.style.outlineStyle,i.style.outlineStyle="none",ke(window,"keydown",on))}function on(){Hi&&(Hi.style.outlineStyle=Zi,Hi=void 0,Zi=void 0,$e(window,"keydown",on))}function Dn(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function yn(i){var a=i.getBoundingClientRect();return{x:a.width/i.offsetWidth||1,y:a.height/i.offsetHeight||1,boundingClientRect:a}}var Ki={__proto__:null,TRANSFORM:ra,TRANSITION:Jr,TRANSITION_END:$i,get:rn,getStyle:Wi,create:Re,remove:Ge,empty:Ms,toFront:Yr,toBack:Nn,hasClass:Xr,addClass:Ce,removeClass:Ze,setClass:ia,getClass:Ns,setOpacity:It,testProp:Qr,setTransform:sn,setPosition:at,getPosition:jn,get disableTextSelection(){return je},get enableTextSelection(){return ei},disableImageDrag:Ds,enableImageDrag:Bs,preventOutline:ti,restoreOutline:on,getSizedParentNode:Dn,getScale:yn};function ke(i,a,d,g){if(a&&typeof a=="object")for(var x in a)oa(i,x,a[x],d);else{a=C(a);for(var k=0,O=a.length;k<O;k++)oa(i,a[k],d,g)}return this}var gt="_leaflet_events";function $e(i,a,d,g){if(arguments.length===1)sa(i),delete i[gt];else if(a&&typeof a=="object")for(var x in a)zs(i,x,a[x],d);else if(a=C(a),arguments.length===2)sa(i,function(V){return J(a,V)!==-1});else for(var k=0,O=a.length;k<O;k++)zs(i,a[k],d,g);return this}function sa(i,a){for(var d in i[gt]){var g=d.split(/\d/)[0];(!a||a(g))&&zs(i,g,null,null,d)}}var yr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function oa(i,a,d,g){var x=a+m(d)+(g?"_"+m(g):"");if(i[gt]&&i[gt][x])return this;var k=function(V){return d.call(g||i,V||window.event)},O=k;!fe.touchNative&&fe.pointer&&a.indexOf("touch")===0?k=Rc(i,a,k):fe.touch&&a==="dblclick"?k=Dl(i,k):"addEventListener"in i?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?i.addEventListener(yr[a]||a,k,fe.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(k=function(V){V=V||window.event,Ji(i,V)&&O(V)},i.addEventListener(yr[a],k,!1)):i.addEventListener(a,O,!1):i.attachEvent("on"+a,k),i[gt]=i[gt]||{},i[gt][x]=k}function zs(i,a,d,g,x){x=x||a+m(d)+(g?"_"+m(g):"");var k=i[gt]&&i[gt][x];if(!k)return this;!fe.touchNative&&fe.pointer&&a.indexOf("touch")===0?Ml(i,a,k):fe.touch&&a==="dblclick"?Is(i,k):"removeEventListener"in i?i.removeEventListener(yr[a]||a,k,!1):i.detachEvent("on"+a,k),i[gt][x]=null}function _n(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Us(i){return oa(i,"wheel",_n),this}function qi(i){return ke(i,"mousedown touchstart dblclick contextmenu",_n),i._leaflet_disable_click=!0,this}function tt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function an(i){return tt(i),_n(i),this}function _r(i){if(i.composedPath)return i.composedPath();for(var a=[],d=i.target;d;)a.push(d),d=d.parentNode;return a}function Gi(i,a){if(!a)return new Z(i.clientX,i.clientY);var d=yn(a),g=d.boundingClientRect;return new Z((i.clientX-g.left)/d.x-a.clientLeft,(i.clientY-g.top)/d.y-a.clientTop)}var Oc=fe.linux&&fe.chrome?window.devicePixelRatio:fe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function zl(i){return fe.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Oc:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Ji(i,a){var d=a.relatedTarget;if(!d)return!0;try{for(;d&&d!==i;)d=d.parentNode}catch{return!1}return d!==i}var Vs={__proto__:null,on:ke,off:$e,stopPropagation:_n,disableScrollPropagation:Us,disableClickPropagation:qi,preventDefault:tt,stop:an,getPropagationPath:_r,getMousePosition:Gi,getWheelDelta:zl,isExternalTarget:Ji,addListener:ke,removeListener:$e},Fs=Pe.extend({run:function(i,a,d,g){this.stop(),this._el=i,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=jn(i),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Be(this._animate,this),this._step()},_step:function(i){var a=+new Date-this._startTime,d=this._duration*1e3;a<d?this._runFrame(this._easeOut(a/d),i):(this._runFrame(1),this._complete())},_runFrame:function(i,a){var d=this._startPos.add(this._offset.multiplyBy(i));a&&d._round(),at(this._el,d),this.fire("step")},_complete:function(){Fe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Ie=Pe.extend({options:{crs:Zr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,a){a=P(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(ae(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Jr&&fe.any3d&&!fe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ke(this._proxy,$i,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,a,d){if(a=a===void 0?this._zoom:this._limitZoom(a),i=this._limitCenter(ae(i),a,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=u({animate:d.animate},d.zoom),d.pan=u({animate:d.animate,duration:d.duration},d.pan));var g=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,a,d.zoom):this._tryAnimatedPan(i,d.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(i,a,d.pan&&d.pan.noMoveStart),this},setZoom:function(i,a){return this._loaded?this.setView(this.getCenter(),i,{zoom:a}):(this._zoom=i,this)},zoomIn:function(i,a){return i=i||(fe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,a)},zoomOut:function(i,a){return i=i||(fe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,a)},setZoomAround:function(i,a,d){var g=this.getZoomScale(a),x=this.getSize().divideBy(2),k=i instanceof Z?i:this.latLngToContainerPoint(i),O=k.subtract(x).multiplyBy(1-1/g),V=this.containerPointToLatLng(x.add(O));return this.setView(V,a,{zoom:d})},_getBoundsCenterZoom:function(i,a){a=a||{},i=i.getBounds?i.getBounds():ge(i);var d=K(a.paddingTopLeft||a.padding||[0,0]),g=K(a.paddingBottomRight||a.padding||[0,0]),x=this.getBoundsZoom(i,!1,d.add(g));if(x=typeof a.maxZoom=="number"?Math.min(a.maxZoom,x):x,x===1/0)return{center:i.getCenter(),zoom:x};var k=g.subtract(d).divideBy(2),O=this.project(i.getSouthWest(),x),V=this.project(i.getNorthEast(),x),W=this.unproject(O.add(V).divideBy(2).add(k),x);return{center:W,zoom:x}},fitBounds:function(i,a){if(i=ge(i),!i.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(i,a);return this.setView(d.center,d.zoom,a)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,a){return this.setView(i,this._zoom,{pan:a})},panBy:function(i,a){if(i=K(i).round(),a=a||{},!i.x&&!i.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){Ce(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,d,a.duration||.25,a.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,a,d){if(d=d||{},d.animate===!1||!fe.any3d)return this.setView(i,a,d);this._stop();var g=this.project(this.getCenter()),x=this.project(i),k=this.getSize(),O=this._zoom;i=ae(i),a=a===void 0?O:a;var V=Math.max(k.x,k.y),W=V*this.getZoomScale(O,a),Y=x.distanceTo(g)||1,se=1.42,_e=se*se;function Le(Ue){var gi=Ue?-1:1,Zc=Ue?W:V,Kc=W*W-V*V+gi*_e*_e*Y*Y,Er=2*Zc*_e*Y,Pr=Kc/Er,Cr=Math.sqrt(Pr*Pr+1)-Pr,no=Cr<1e-9?-18:Math.log(Cr);return no}function vt(Ue){return(Math.exp(Ue)-Math.exp(-Ue))/2}function dt(Ue){return(Math.exp(Ue)+Math.exp(-Ue))/2}function Wt(Ue){return vt(Ue)/dt(Ue)}var Nt=Le(0);function pi(Ue){return V*(dt(Nt)/dt(Nt+se*Ue))}function Pa(Ue){return V*(dt(Nt)*Wt(Nt+se*Ue)-vt(Nt))/_e}function ar(Ue){return 1-Math.pow(1-Ue,1.5)}var ou=Date.now(),kr=(Le(1)-Nt)/se,bn=d.duration?1e3*d.duration:1e3*kr*.8;function mi(){var Ue=(Date.now()-ou)/bn,gi=ar(Ue)*kr;Ue<=1?(this._flyToFrame=Be(mi,this),this._move(this.unproject(g.add(x.subtract(g).multiplyBy(Pa(gi)/Y)),O),this.getScaleZoom(V/pi(gi),O),{flyTo:!0})):this._move(i,a)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),mi.call(this),this},flyToBounds:function(i,a){var d=this._getBoundsCenterZoom(i,a);return this.flyTo(d.center,d.zoom,a)},setMaxBounds:function(i){return i=ge(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var a=this.options.minZoom;return this.options.minZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var a=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,a){this._enforcingBounds=!0;var d=this.getCenter(),g=this._limitCenter(d,this._zoom,ge(i));return d.equals(g)||this.panTo(g,a),this._enforcingBounds=!1,this},panInside:function(i,a){a=a||{};var d=K(a.paddingTopLeft||a.padding||[0,0]),g=K(a.paddingBottomRight||a.padding||[0,0]),x=this.project(this.getCenter()),k=this.project(i),O=this.getPixelBounds(),V=q([O.min.add(d),O.max.subtract(g)]),W=V.getSize();if(!V.contains(k)){this._enforcingBounds=!0;var Y=k.subtract(V.getCenter()),se=V.extend(k).getSize().subtract(W);x.x+=Y.x<0?-se.x:se.x,x.y+=Y.y<0?-se.y:se.y,this.panTo(this.unproject(x),a),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=u({animate:!1,pan:!0},i===!0?{animate:!0}:i);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),g=a.divideBy(2).round(),x=d.divideBy(2).round(),k=g.subtract(x);return!k.x&&!k.y?this:(i.animate&&i.pan?this.panBy(k):(i.pan&&this._rawPanBy(k),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=u({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=h(this._handleGeolocationResponse,this),d=h(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,d,i):navigator.geolocation.getCurrentPosition(a,d,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var a=i.code,d=i.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var a=i.coords.latitude,d=i.coords.longitude,g=new de(a,d),x=g.toBounds(i.coords.accuracy*2),k=this._locateOptions;if(k.setView){var O=this.getBoundsZoom(x);this.setView(g,k.maxZoom?Math.min(O,k.maxZoom):O)}var V={latlng:g,bounds:x,timestamp:i.timestamp};for(var W in i.coords)typeof i.coords[W]=="number"&&(V[W]=i.coords[W]);this.fire("locationfound",V)}},addHandler:function(i,a){if(!a)return this;var d=this[i]=new a(this);return this._handlers.push(d),this.options[i]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ge(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Fe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Ge(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,a){var d="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),g=Re("div",d,a||this._mapPane);return i&&(this._panes[i]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),a=this.unproject(i.getBottomLeft()),d=this.unproject(i.getTopRight());return new ye(a,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,a,d){i=ge(i),d=K(d||[0,0]);var g=this.getZoom()||0,x=this.getMinZoom(),k=this.getMaxZoom(),O=i.getNorthWest(),V=i.getSouthEast(),W=this.getSize().subtract(d),Y=q(this.project(V,g),this.project(O,g)).getSize(),se=fe.any3d?this.options.zoomSnap:1,_e=W.x/Y.x,Le=W.y/Y.y,vt=a?Math.max(_e,Le):Math.min(_e,Le);return g=this.getScaleZoom(vt,g),se&&(g=Math.round(g/(se/100))*(se/100),g=a?Math.ceil(g/se)*se:Math.floor(g/se)*se),Math.max(x,Math.min(k,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,a){var d=this._getTopLeftPoint(i,a);return new D(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,a){var d=this.options.crs;return a=a===void 0?this._zoom:a,d.scale(i)/d.scale(a)},getScaleZoom:function(i,a){var d=this.options.crs;a=a===void 0?this._zoom:a;var g=d.zoom(i*d.scale(a));return isNaN(g)?1/0:g},project:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(ae(i),a)},unproject:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(K(i),a)},layerPointToLatLng:function(i){var a=K(i).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(i){var a=this.project(ae(i))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(ae(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(ge(i))},distance:function(i,a){return this.options.crs.distance(ae(i),ae(a))},containerPointToLayerPoint:function(i){return K(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return K(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var a=this.containerPointToLayerPoint(K(i));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(i)))},mouseEventToContainerPoint:function(i){return Gi(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var a=this._container=rn(i);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ke(a,"scroll",this._onScroll,this),this._containerId=m(a)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&fe.any3d,Ce(i,"leaflet-container"+(fe.touch?" leaflet-touch":"")+(fe.retina?" leaflet-retina":"")+(fe.ielt9?" leaflet-oldie":"")+(fe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Wi(i,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),at(this._mapPane,new Z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ce(i.markerPane,"leaflet-zoom-hide"),Ce(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,a,d){at(this._mapPane,new Z(0,0));var g=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var x=this._zoom!==a;this._moveStart(x,d)._move(i,a)._moveEnd(x),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(i,a){return i&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(i,a,d,g){a===void 0&&(a=this._zoom);var x=this._zoom!==a;return this._zoom=a,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),g?d&&d.pinch&&this.fire("zoom",d):((x||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Fe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){at(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[m(this._container)]=this;var a=i?$e:ke;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),fe.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Fe(this._resizeRequest),this._resizeRequest=Be(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,a){for(var d=[],g,x=a==="mouseout"||a==="mouseover",k=i.target||i.srcElement,O=!1;k;){if(g=this._targets[m(k)],g&&(a==="click"||a==="preclick")&&this._draggableMoved(g)){O=!0;break}if(g&&g.listens(a,!0)&&(x&&!Ji(k,i)||(d.push(g),x))||k===this._container)break;k=k.parentNode}return!d.length&&!O&&!x&&this.listens(a,!0)&&(d=[this]),d},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var a=i.target||i.srcElement;if(!(!this._loaded||a._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(a))){var d=i.type;d==="mousedown"&&ti(a),this._fireDOMEvent(i,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,a,d){if(i.type==="click"){var g=u({},i);g.type="preclick",this._fireDOMEvent(g,g.type,d)}var x=this._findEventTargets(i,a);if(d){for(var k=[],O=0;O<d.length;O++)d[O].listens(a,!0)&&k.push(d[O]);x=k.concat(x)}if(x.length){a==="contextmenu"&&tt(i);var V=x[0],W={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var Y=V.getLatLng&&(!V._radius||V._radius<=10);W.containerPoint=Y?this.latLngToContainerPoint(V.getLatLng()):this.mouseEventToContainerPoint(i),W.layerPoint=this.containerPointToLayerPoint(W.containerPoint),W.latlng=Y?V.getLatLng():this.layerPointToLatLng(W.layerPoint)}for(O=0;O<x.length;O++)if(x[O].fire(a,W,!0),W.originalEvent._stopped||x[O].options.bubblingMouseEvents===!1&&J(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,a=this._handlers.length;i<a;i++)this._handlers[i].disable()},whenReady:function(i,a){return this._loaded?i.call(a||this,{target:this}):this.on("load",i,a),this},_getMapPanePos:function(){return jn(this._mapPane)||new Z(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,a){var d=i&&a!==void 0?this._getNewPixelOrigin(i,a):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,a){var d=this.getSize()._divideBy(2);return this.project(i,a)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,a,d){var g=this._getNewPixelOrigin(d,a);return this.project(i,a)._subtract(g)},_latLngBoundsToNewLayerBounds:function(i,a,d){var g=this._getNewPixelOrigin(d,a);return q([this.project(i.getSouthWest(),a)._subtract(g),this.project(i.getNorthWest(),a)._subtract(g),this.project(i.getSouthEast(),a)._subtract(g),this.project(i.getNorthEast(),a)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,a,d){if(!d)return i;var g=this.project(i,a),x=this.getSize().divideBy(2),k=new D(g.subtract(x),g.add(x)),O=this._getBoundsOffset(k,d,a);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?i:this.unproject(g.add(O),a)},_limitOffset:function(i,a){if(!a)return i;var d=this.getPixelBounds(),g=new D(d.min.add(i),d.max.add(i));return i.add(this._getBoundsOffset(g,a))},_getBoundsOffset:function(i,a,d){var g=q(this.project(a.getNorthEast(),d),this.project(a.getSouthWest(),d)),x=g.min.subtract(i.min),k=g.max.subtract(i.max),O=this._rebound(x.x,-k.x),V=this._rebound(x.y,-k.y);return new Z(O,V)},_rebound:function(i,a){return i+a>0?Math.round(i-a)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(a))},_limitZoom:function(i){var a=this.getMinZoom(),d=this.getMaxZoom(),g=fe.any3d?this.options.zoomSnap:1;return g&&(i=Math.round(i/g)*g),Math.max(a,Math.min(d,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ze(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,a){var d=this._getCenterOffset(i)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,a),!0)},_createAnimProxy:function(){var i=this._proxy=Re("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(a){var d=ra,g=this._proxy.style[d];sn(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),g===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ge(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),a=this.getZoom();sn(this._proxy,this.project(i,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,a,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(a),x=this._getCenterOffset(i)._divideBy(1-1/g);return d.animate!==!0&&!this.getSize().contains(x)?!1:(Be(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(i,a,!0)},this),!0)},_animateZoom:function(i,a,d,g){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=a,Ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:a,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ze(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function er(i,a){return new Ie(i,a)}var Ft=Xe.extend({options:{position:"topright"},initialize:function(i){P(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var a=this._map;return a&&a.removeControl(this),this.options.position=i,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var a=this._container=this.onAdd(i),d=this.getPosition(),g=i._controlCorners[d];return Ce(a,"leaflet-control"),d.indexOf("bottom")!==-1?g.insertBefore(a,g.firstChild):g.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ge(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),tr=function(i){return new Ft(i)};Ie.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},a="leaflet-",d=this._controlContainer=Re("div",a+"control-container",this._container);function g(x,k){var O=a+x+" "+a+k;i[x+k]=Re("div",O,d)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Ge(this._controlCorners[i]);Ge(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var aa=Ft.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,a,d,g){return d<g?-1:g<d?1:0}},initialize:function(i,a,d){P(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in i)this._addLayer(i[g],g);for(g in a)this._addLayer(a[g],g,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Ft.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,a){return this._addLayer(i,a),this._map?this._update():this},addOverlay:function(i,a){return this._addLayer(i,a,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var a=this._getLayer(m(i));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){Ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Ze(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ze(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",a=this._container=Re("div",i),d=this.options.collapsed;a.setAttribute("aria-haspopup",!0),qi(a),Us(a);var g=this._section=Re("section",i+"-list");d&&(this._map.on("click",this.collapse,this),ke(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=Re("a",i+"-toggle",a);x.href="#",x.title="Layers",x.setAttribute("role","button"),ke(x,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){tt(k),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Re("div",i+"-base",g),this._separator=Re("div",i+"-separator",g),this._overlaysList=Re("div",i+"-overlays",g),a.appendChild(g)},_getLayer:function(i){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&m(this._layers[a].layer)===i)return this._layers[a]},_addLayer:function(i,a,d){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:a,overlay:d}),this.options.sortLayers&&this._layers.sort(h(function(g,x){return this.options.sortFunction(g.layer,x.layer,g.name,x.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ms(this._baseLayersList),Ms(this._overlaysList),this._layerControlInputs=[];var i,a,d,g,x=0;for(d=0;d<this._layers.length;d++)g=this._layers[d],this._addItem(g),a=a||g.overlay,i=i||!g.overlay,x+=g.overlay?0:1;return this.options.hideSingleBase&&(i=i&&x>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=a&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var a=this._getLayer(m(i.target)),d=a.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;d&&this._map.fire(d,a)},_createRadioElement:function(i,a){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(a?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=d,g.firstChild},_addItem:function(i){var a=document.createElement("label"),d=this._map.hasLayer(i.layer),g;i.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=d):g=this._createRadioElement("leaflet-base-layers_"+m(this),d),this._layerControlInputs.push(g),g.layerId=m(i.layer),ke(g,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+i.name;var k=document.createElement("span");a.appendChild(k),k.appendChild(g),k.appendChild(x);var O=i.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,a,d,g=[],x=[];this._handlingClick=!0;for(var k=i.length-1;k>=0;k--)a=i[k],d=this._getLayer(a.layerId).layer,a.checked?g.push(d):a.checked||x.push(d);for(k=0;k<x.length;k++)this._map.hasLayer(x[k])&&this._map.removeLayer(x[k]);for(k=0;k<g.length;k++)this._map.hasLayer(g[k])||this._map.addLayer(g[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,a,d,g=this._map.getZoom(),x=i.length-1;x>=0;x--)a=i[x],d=this._getLayer(a.layerId).layer,a.disabled=d.options.minZoom!==void 0&&g<d.options.minZoom||d.options.maxZoom!==void 0&&g>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,ke(i,"click",tt),this.expand();var a=this;setTimeout(function(){$e(i,"click",tt),a._preventClick=!1})}}),$s=function(i,a,d){return new aa(i,a,d)},ni=Ft.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var a="leaflet-control-zoom",d=Re("div",a+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,a+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,a+"-out",d,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,a,d,g,x){var k=Re("a",d,g);return k.innerHTML=i,k.href="#",k.title=a,k.setAttribute("role","button"),k.setAttribute("aria-label",a),qi(k),ke(k,"click",an),ke(k,"click",x,this),ke(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var i=this._map,a="leaflet-disabled";Ze(this._zoomInButton,a),Ze(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Ce(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Ce(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ie.mergeOptions({zoomControl:!0}),Ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ni,this.addControl(this.zoomControl))});var Ul=function(i){return new ni(i)},Mt=Ft.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var a="leaflet-control-scale",d=Re("div",a),g=this.options;return this._addScales(g,a+"-line",d),i.on(g.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),d},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,a,d){i.metric&&(this._mScale=Re("div",a,d)),i.imperial&&(this._iScale=Re("div",a,d))},_update:function(){var i=this._map,a=i.getSize().y/2,d=i.distance(i.containerPointToLatLng([0,a]),i.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(d)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var a=this._getRoundNum(i),d=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,d,a/i)},_updateImperial:function(i){var a=i*3.2808399,d,g,x;a>5280?(d=a/5280,g=this._getRoundNum(d),this._updateScale(this._iScale,g+" mi",g/d)):(x=this._getRoundNum(a),this._updateScale(this._iScale,x+" ft",x/a))},_updateScale:function(i,a,d){i.style.width=Math.round(this.options.maxWidth*d)+"px",i.innerHTML=a},_getRoundNum:function(i){var a=Math.pow(10,(Math.floor(i)+"").length-1),d=i/a;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,a*d}}),ri=function(i){return new Mt(i)},la='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',wr=Ft.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(fe.inlineSvg?la+" ":"")+"Leaflet</a>"},initialize:function(i){P(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=Re("div","leaflet-control-attribution"),qi(this._container);for(var a in i._layers)i._layers[a].getAttribution&&this.addAttribution(i._layers[a].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var a in this._attributions)this._attributions[a]&&i.push(a);var d=[];this.options.prefix&&d.push(this.options.prefix),i.length&&d.push(i.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Ie.mergeOptions({attributionControl:!0}),Ie.addInitHook(function(){this.options.attributionControl&&new wr().addTo(this)});var Ic=function(i){return new wr(i)};Ft.Layers=aa,Ft.Zoom=ni,Ft.Scale=Mt,Ft.Attribution=wr,tr.layers=$s,tr.zoom=Ul,tr.scale=ri,tr.attribution=Ic;var Gt=Xe.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gt.addTo=function(i,a){return i.addHandler(a,this),this};var ua={Events:Ve},ii=fe.touch?"touchstart mousedown":"mousedown",ln=Pe.extend({options:{clickTolerance:3},initialize:function(i,a,d,g){P(this,g),this._element=i,this._dragStartTarget=a||i,this._preventOutline=d},enable:function(){this._enabled||(ke(this._dragStartTarget,ii,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ln._dragging===this&&this.finishDrag(!0),$e(this._dragStartTarget,ii,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Xr(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){ln._dragging===this&&this.finishDrag();return}if(!(ln._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(ln._dragging=this,this._preventOutline&&ti(this._element),Ds(),je(),!this._moving)){this.fire("down");var a=i.touches?i.touches[0]:i,d=Dn(this._element);this._startPoint=new Z(a.clientX,a.clientY),this._startPos=jn(this._element),this._parentScale=yn(d);var g=i.type==="mousedown";ke(document,g?"mousemove":"touchmove",this._onMove,this),ke(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var a=i.touches&&i.touches.length===1?i.touches[0]:i,d=new Z(a.clientX,a.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,tt(i),this._moved||(this.fire("dragstart"),this._moved=!0,Ce(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),at(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Ze(document.body,"leaflet-dragging"),this._lastTarget&&(Ze(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),$e(document,"mousemove touchmove",this._onMove,this),$e(document,"mouseup touchend touchcancel",this._onUp,this),Bs(),ei();var a=this._moved&&this._moving;this._moving=!1,ln._dragging=!1,a&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function ca(i,a,d){var g,x=[1,4,2,8],k,O,V,W,Y,se,_e,Le;for(k=0,se=i.length;k<se;k++)i[k]._code=xr(i[k],a);for(V=0;V<4;V++){for(_e=x[V],g=[],k=0,se=i.length,O=se-1;k<se;O=k++)W=i[k],Y=i[O],W._code&_e?Y._code&_e||(Le=Hs(Y,W,_e,a,d),Le._code=xr(Le,a),g.push(Le)):(Y._code&_e&&(Le=Hs(Y,W,_e,a,d),Le._code=xr(Le,a),g.push(Le)),g.push(W));i=g}return i}function Vl(i,a){var d,g,x,k,O,V,W,Y,se;if(!i||i.length===0)throw new Error("latlngs not passed");Jt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var _e=ae([0,0]),Le=ge(i),vt=Le.getNorthWest().distanceTo(Le.getSouthWest())*Le.getNorthEast().distanceTo(Le.getNorthWest());vt<1700&&(_e=ha(i));var dt=i.length,Wt=[];for(d=0;d<dt;d++){var Nt=ae(i[d]);Wt.push(a.project(ae([Nt.lat-_e.lat,Nt.lng-_e.lng])))}for(V=W=Y=0,d=0,g=dt-1;d<dt;g=d++)x=Wt[d],k=Wt[g],O=x.y*k.x-k.y*x.x,W+=(x.x+k.x)*O,Y+=(x.y+k.y)*O,V+=O*3;V===0?se=Wt[0]:se=[W/V,Y/V];var pi=a.unproject(K(se));return ae([pi.lat+_e.lat,pi.lng+_e.lng])}function ha(i){for(var a=0,d=0,g=0,x=0;x<i.length;x++){var k=ae(i[x]);a+=k.lat,d+=k.lng,g++}return ae([a/g,d/g])}var Mc={__proto__:null,clipPolygon:ca,polygonCenter:Vl,centroid:ha};function Ws(i,a){if(!a||!i.length)return i.slice();var d=a*a;return i=Dc(i,d),i=jc(i,d),i}function Fl(i,a,d){return Math.sqrt(Sr(i,a,d,!0))}function Nc(i,a,d){return Sr(i,a,d)}function jc(i,a){var d=i.length,g=typeof Uint8Array<"u"?Uint8Array:Array,x=new g(d);x[0]=x[d-1]=1,da(i,x,a,0,d-1);var k,O=[];for(k=0;k<d;k++)x[k]&&O.push(i[k]);return O}function da(i,a,d,g,x){var k=0,O,V,W;for(V=g+1;V<=x-1;V++)W=Sr(i[V],i[g],i[x],!0),W>k&&(O=V,k=W);k>d&&(a[O]=1,da(i,a,d,g,O),da(i,a,d,O,x))}function Dc(i,a){for(var d=[i[0]],g=1,x=0,k=i.length;g<k;g++)Bc(i[g],i[x])>a&&(d.push(i[g]),x=g);return x<k-1&&d.push(i[k-1]),d}var fa;function $l(i,a,d,g,x){var k=g?fa:xr(i,d),O=xr(a,d),V,W,Y;for(fa=O;;){if(!(k|O))return[i,a];if(k&O)return!1;V=k||O,W=Hs(i,a,V,d,x),Y=xr(W,d),V===k?(i=W,k=Y):(a=W,O=Y)}}function Hs(i,a,d,g,x){var k=a.x-i.x,O=a.y-i.y,V=g.min,W=g.max,Y,se;return d&8?(Y=i.x+k*(W.y-i.y)/O,se=W.y):d&4?(Y=i.x+k*(V.y-i.y)/O,se=V.y):d&2?(Y=W.x,se=i.y+O*(W.x-i.x)/k):d&1&&(Y=V.x,se=i.y+O*(V.x-i.x)/k),new Z(Y,se,x)}function xr(i,a){var d=0;return i.x<a.min.x?d|=1:i.x>a.max.x&&(d|=2),i.y<a.min.y?d|=4:i.y>a.max.y&&(d|=8),d}function Bc(i,a){var d=a.x-i.x,g=a.y-i.y;return d*d+g*g}function Sr(i,a,d,g){var x=a.x,k=a.y,O=d.x-x,V=d.y-k,W=O*O+V*V,Y;return W>0&&(Y=((i.x-x)*O+(i.y-k)*V)/W,Y>1?(x=d.x,k=d.y):Y>0&&(x+=O*Y,k+=V*Y)),O=i.x-x,V=i.y-k,g?O*O+V*V:new Z(x,k)}function Jt(i){return!M(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Wl(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Jt(i)}function Hl(i,a){var d,g,x,k,O,V,W,Y;if(!i||i.length===0)throw new Error("latlngs not passed");Jt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var se=ae([0,0]),_e=ge(i),Le=_e.getNorthWest().distanceTo(_e.getSouthWest())*_e.getNorthEast().distanceTo(_e.getNorthWest());Le<1700&&(se=ha(i));var vt=i.length,dt=[];for(d=0;d<vt;d++){var Wt=ae(i[d]);dt.push(a.project(ae([Wt.lat-se.lat,Wt.lng-se.lng])))}for(d=0,g=0;d<vt-1;d++)g+=dt[d].distanceTo(dt[d+1])/2;if(g===0)Y=dt[0];else for(d=0,k=0;d<vt-1;d++)if(O=dt[d],V=dt[d+1],x=O.distanceTo(V),k+=x,k>g){W=(k-g)/x,Y=[V.x-W*(V.x-O.x),V.y-W*(V.y-O.y)];break}var Nt=a.unproject(K(Y));return ae([Nt.lat+se.lat,Nt.lng+se.lng])}var Zl={__proto__:null,simplify:Ws,pointToSegmentDistance:Fl,closestPointOnSegment:Nc,clipSegment:$l,_getEdgeIntersection:Hs,_getBitCode:xr,_sqClosestPointOnSegment:Sr,isFlat:Jt,_flat:Wl,polylineCenter:Hl},pa={project:function(i){return new Z(i.lng,i.lat)},unproject:function(i){return new de(i.y,i.x)},bounds:new D([-180,-90],[180,90])},ma={R:6378137,R_MINOR:6356752314245179e-9,bounds:new D([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var a=Math.PI/180,d=this.R,g=i.lat*a,x=this.R_MINOR/d,k=Math.sqrt(1-x*x),O=k*Math.sin(g),V=Math.tan(Math.PI/4-g/2)/Math.pow((1-O)/(1+O),k/2);return g=-d*Math.log(Math.max(V,1e-10)),new Z(i.lng*a*d,g)},unproject:function(i){for(var a=180/Math.PI,d=this.R,g=this.R_MINOR/d,x=Math.sqrt(1-g*g),k=Math.exp(-i.y/d),O=Math.PI/2-2*Math.atan(k),V=0,W=.1,Y;V<15&&Math.abs(W)>1e-7;V++)Y=x*Math.sin(O),Y=Math.pow((1-Y)/(1+Y),x/2),W=Math.PI/2-2*Math.atan(k*Y)-O,O+=W;return new de(O*a,i.x*a/d)}},zc={__proto__:null,LonLat:pa,Mercator:ma,SphericalMercator:Et},Uc=u({},Ae,{code:"EPSG:3395",projection:ma,transformation:(function(){var i=.5/(Math.PI*ma.R);return Hr(i,.5,-i,.5)})()}),Kl=u({},Ae,{code:"EPSG:4326",projection:pa,transformation:Hr(1/180,1,-1/180,.5)}),Vc=u({},Me,{projection:pa,transformation:Hr(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,a){var d=a.lng-i.lng,g=a.lat-i.lat;return Math.sqrt(d*d+g*g)},infinite:!0});Me.Earth=Ae,Me.EPSG3395=Uc,Me.EPSG3857=Zr,Me.EPSG900913=Fo,Me.EPSG4326=Kl,Me.Simple=Vc;var un=Pe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[m(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[m(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var a=i.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var d=this.getEvents();a.on(d,this),this.once("remove",function(){a.off(d,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Ie.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var a=m(i);return this._layers[a]?this:(this._layers[a]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var a=m(i);return this._layers[a]?(this._loaded&&i.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return m(i)in this._layers},eachLayer:function(i,a){for(var d in this._layers)i.call(a,this._layers[d]);return this},_addLayers:function(i){i=i?M(i)?i:[i]:[];for(var a=0,d=i.length;a<d;a++)this.addLayer(i[a])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[m(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var a=m(i);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,a=-1/0,d=this._getZoomSpan();for(var g in this._zoomBoundLayers){var x=this._zoomBoundLayers[g].options;i=x.minZoom===void 0?i:Math.min(i,x.minZoom),a=x.maxZoom===void 0?a:Math.max(a,x.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=i===1/0?void 0:i,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var nr=un.extend({initialize:function(i,a){P(this,a),this._layers={};var d,g;if(i)for(d=0,g=i.length;d<g;d++)this.addLayer(i[d])},addLayer:function(i){var a=this.getLayerId(i);return this._layers[a]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var a=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(i){var a=typeof i=="number"?i:this.getLayerId(i);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var a=Array.prototype.slice.call(arguments,1),d,g;for(d in this._layers)g=this._layers[d],g[i]&&g[i].apply(g,a);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,a){for(var d in this._layers)i.call(a,this._layers[d]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return m(i)}}),Yi=function(i,a){return new nr(i,a)},Bn=nr.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),nr.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),nr.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new ye;for(var a in this._layers){var d=this._layers[a];i.extend(d.getBounds?d.getBounds():d.getLatLng())}return i}}),ql=function(i,a){return new Bn(i,a)},br=Xe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){P(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,a){var d=this._getIconUrl(i);if(!d){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(d,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(g,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(i,a){var d=this.options,g=d[a+"Size"];typeof g=="number"&&(g=[g,g]);var x=K(g),k=K(a==="shadow"&&d.shadowAnchor||d.iconAnchor||x&&x.divideBy(2,!0));i.className="leaflet-marker-"+a+" "+(d.className||""),k&&(i.style.marginLeft=-k.x+"px",i.style.marginTop=-k.y+"px"),x&&(i.style.width=x.x+"px",i.style.height=x.y+"px")},_createImg:function(i,a){return a=a||document.createElement("img"),a.src=i,a},_getIconUrl:function(i){return fe.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Gl(i){return new br(i)}var si=br.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof si.imagePath!="string"&&(si.imagePath=this._detectIconPath()),(this.options.imagePath||si.imagePath)+br.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var a=function(d,g,x){var k=g.exec(d);return k&&k[x]};return i=a(i,/^url\((['"])?(.+)\1\)$/,2),i&&a(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=Re("div","leaflet-default-icon-path",document.body),a=Wi(i,"background-image")||Wi(i,"backgroundImage");if(document.body.removeChild(i),a=this._stripUrl(a),a)return a;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),ga=Gt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new ln(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ce(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ze(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var a=this._marker,d=a._map,g=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,k=jn(a._icon),O=d.getPixelBounds(),V=d.getPixelOrigin(),W=q(O.min._subtract(V).add(x),O.max._subtract(V).subtract(x));if(!W.contains(k)){var Y=K((Math.max(W.max.x,k.x)-W.max.x)/(O.max.x-W.max.x)-(Math.min(W.min.x,k.x)-W.min.x)/(O.min.x-W.min.x),(Math.max(W.max.y,k.y)-W.max.y)/(O.max.y-W.max.y)-(Math.min(W.min.y,k.y)-W.min.y)/(O.min.y-W.min.y)).multiplyBy(g);d.panBy(Y,{animate:!1}),this._draggable._newPos._add(Y),this._draggable._startPos._add(Y),at(a._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=Be(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Fe(this._panRequest),this._panRequest=Be(this._adjustPan.bind(this,i)))},_onDrag:function(i){var a=this._marker,d=a._shadow,g=jn(a._icon),x=a._map.layerPointToLatLng(g);d&&at(d,g),a._latlng=x,i.latlng=x,i.oldLatLng=this._oldLatLng,a.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Fe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),zn=un.extend({options:{icon:new si,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,a){P(this,a),this._latlng=ae(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var a=this._latlng;return this._latlng=ae(i),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=i.icon.createIcon(this._icon),g=!1;d!==this._icon&&(this._icon&&this._removeIcon(),g=!0,i.title&&(d.title=i.title),d.tagName==="IMG"&&(d.alt=i.alt||"")),Ce(d,a),i.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ke(d,"focus",this._panOnFocus,this);var x=i.icon.createShadow(this._shadow),k=!1;x!==this._shadow&&(this._removeShadow(),k=!0),x&&(Ce(x,a),x.alt=""),this._shadow=x,i.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&k&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$e(this._icon,"focus",this._panOnFocus,this),Ge(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ge(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&at(this._icon,i),this._shadow&&at(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(Ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ga)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ga(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&It(this._icon,i),this._shadow&&It(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var a=this.options.icon.options,d=a.iconSize?K(a.iconSize):K(0,0),g=a.iconAnchor?K(a.iconAnchor):K(0,0);i.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:d.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Fc(i,a){return new zn(i,a)}var rr=un.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return P(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Zs=rr.extend({options:{fill:!0,radius:10},initialize:function(i,a){P(this,a),this._latlng=ae(i),this._radius=this.options.radius},setLatLng:function(i){var a=this._latlng;return this._latlng=ae(i),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var a=i&&i.radius||this._radius;return rr.prototype.setStyle.call(this,i),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,a=this._radiusY||i,d=this._clickTolerance(),g=[i+d,a+d];this._pxBounds=new D(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Jl(i,a){return new Zs(i,a)}var Ks=Zs.extend({initialize:function(i,a,d){if(typeof a=="number"&&(a=u({},d,{radius:a})),P(this,a),this._latlng=ae(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new ye(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:rr.prototype.setStyle,_project:function(){var i=this._latlng.lng,a=this._latlng.lat,d=this._map,g=d.options.crs;if(g.distance===Ae.distance){var x=Math.PI/180,k=this._mRadius/Ae.R/x,O=d.project([a+k,i]),V=d.project([a-k,i]),W=O.add(V).divideBy(2),Y=d.unproject(W).lat,se=Math.acos((Math.cos(k*x)-Math.sin(a*x)*Math.sin(Y*x))/(Math.cos(a*x)*Math.cos(Y*x)))/x;(isNaN(se)||se===0)&&(se=k/Math.cos(Math.PI/180*a)),this._point=W.subtract(d.getPixelOrigin()),this._radius=isNaN(se)?0:W.x-d.project([Y,i-se]).x,this._radiusY=W.y-O.y}else{var _e=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(_e).x}this._updateBounds()}});function Xi(i,a,d){return new Ks(i,a,d)}var $t=rr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,a){P(this,a),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var a=1/0,d=null,g=Sr,x,k,O=0,V=this._parts.length;O<V;O++)for(var W=this._parts[O],Y=1,se=W.length;Y<se;Y++){x=W[Y-1],k=W[Y];var _e=g(i,x,k,!0);_e<a&&(a=_e,d=g(i,x,k))}return d&&(d.distance=Math.sqrt(a)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Hl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,a){return a=a||this._defaultShape(),i=ae(i),a.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new ye,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Jt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var a=[],d=Jt(i),g=0,x=i.length;g<x;g++)d?(a[g]=ae(i[g]),this._bounds.extend(a[g])):a[g]=this._convertLatLngs(i[g]);return a},_project:function(){var i=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),a=new Z(i,i);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(i,a,d){var g=i[0]instanceof de,x=i.length,k,O;if(g){for(O=[],k=0;k<x;k++)O[k]=this._map.latLngToLayerPoint(i[k]),d.extend(O[k]);a.push(O)}else for(k=0;k<x;k++)this._projectLatlngs(i[k],a,d)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,d,g,x,k,O,V,W;for(d=0,x=0,k=this._rings.length;d<k;d++)for(W=this._rings[d],g=0,O=W.length;g<O-1;g++)V=$l(W[g],W[g+1],i,g,!0),V&&(a[x]=a[x]||[],a[x].push(V[0]),(V[1]!==W[g+1]||g===O-2)&&(a[x].push(V[1]),x++))}},_simplifyPoints:function(){for(var i=this._parts,a=this.options.smoothFactor,d=0,g=i.length;d<g;d++)i[d]=Ws(i[d],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,a){var d,g,x,k,O,V,W=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(d=0,k=this._parts.length;d<k;d++)for(V=this._parts[d],g=0,O=V.length,x=O-1;g<O;x=g++)if(!(!a&&g===0)&&Fl(i,V[x],V[g])<=W)return!0;return!1}});function $c(i,a){return new $t(i,a)}$t._flat=Wl;var Un=$t.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var a=$t.prototype._convertLatLngs.call(this,i),d=a.length;return d>=2&&a[0]instanceof de&&a[0].equals(a[d-1])&&a.pop(),a},_setLatLngs:function(i){$t.prototype._setLatLngs.call(this,i),Jt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Jt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,a=this.options.weight,d=new Z(a,a);if(i=new D(i.min.subtract(d),i.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,x=this._rings.length,k;g<x;g++)k=ca(this._rings[g],i,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var a=!1,d,g,x,k,O,V,W,Y;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(k=0,W=this._parts.length;k<W;k++)for(d=this._parts[k],O=0,Y=d.length,V=Y-1;O<Y;V=O++)g=d[O],x=d[V],g.y>i.y!=x.y>i.y&&i.x<(x.x-g.x)*(i.y-g.y)/(x.y-g.y)+g.x&&(a=!a);return a||$t.prototype._containsPoint.call(this,i,!0)}});function Wc(i,a){return new Un(i,a)}var wn=Bn.extend({initialize:function(i,a){P(this,a),this._layers={},i&&this.addData(i)},addData:function(i){var a=M(i)?i:i.features,d,g,x;if(a){for(d=0,g=a.length;d<g;d++)x=a[d],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var k=this.options;if(k.filter&&!k.filter(i))return this;var O=oi(i,k);return O?(O.feature=Xs(i),O.defaultOptions=O.options,this.resetStyle(O),k.onEachFeature&&k.onEachFeature(i,O),this.addLayer(O)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=u({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(a){this._setLayerStyle(a,i)},this)},_setLayerStyle:function(i,a){i.setStyle&&(typeof a=="function"&&(a=a(i.feature)),i.setStyle(a))}});function oi(i,a){var d=i.type==="Feature"?i.geometry:i,g=d?d.coordinates:null,x=[],k=a&&a.pointToLayer,O=a&&a.coordsToLatLng||Gs,V,W,Y,se;if(!g&&!d)return null;switch(d.type){case"Point":return V=O(g),qs(k,i,V,a);case"MultiPoint":for(Y=0,se=g.length;Y<se;Y++)V=O(g[Y]),x.push(qs(k,i,V,a));return new Bn(x);case"LineString":case"MultiLineString":return W=Qi(g,d.type==="LineString"?0:1,O),new $t(W,a);case"Polygon":case"MultiPolygon":return W=Qi(g,d.type==="Polygon"?1:2,O),new Un(W,a);case"GeometryCollection":for(Y=0,se=d.geometries.length;Y<se;Y++){var _e=oi({geometry:d.geometries[Y],type:"Feature",properties:i.properties},a);_e&&x.push(_e)}return new Bn(x);case"FeatureCollection":for(Y=0,se=d.features.length;Y<se;Y++){var Le=oi(d.features[Y],a);Le&&x.push(Le)}return new Bn(x);default:throw new Error("Invalid GeoJSON object.")}}function qs(i,a,d,g){return i?i(a,d):new zn(d,g&&g.markersInheritOptions&&g)}function Gs(i){return new de(i[1],i[0],i[2])}function Qi(i,a,d){for(var g=[],x=0,k=i.length,O;x<k;x++)O=a?Qi(i[x],a-1,d):(d||Gs)(i[x]),g.push(O);return g}function Js(i,a){return i=ae(i),i.alt!==void 0?[b(i.lng,a),b(i.lat,a),b(i.alt,a)]:[b(i.lng,a),b(i.lat,a)]}function Ys(i,a,d,g){for(var x=[],k=0,O=i.length;k<O;k++)x.push(a?Ys(i[k],Jt(i[k])?0:a-1,d,g):Js(i[k],g));return!a&&d&&x.length>0&&x.push(x[0].slice()),x}function ai(i,a){return i.feature?u({},i.feature,{geometry:a}):Xs(a)}function Xs(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var va={toGeoJSON:function(i){return ai(this,{type:"Point",coordinates:Js(this.getLatLng(),i)})}};zn.include(va),Ks.include(va),Zs.include(va),$t.include({toGeoJSON:function(i){var a=!Jt(this._latlngs),d=Ys(this._latlngs,a?1:0,!1,i);return ai(this,{type:(a?"Multi":"")+"LineString",coordinates:d})}}),Un.include({toGeoJSON:function(i){var a=!Jt(this._latlngs),d=a&&!Jt(this._latlngs[0]),g=Ys(this._latlngs,d?2:a?1:0,!0,i);return a||(g=[g]),ai(this,{type:(d?"Multi":"")+"Polygon",coordinates:g})}}),nr.include({toMultiPoint:function(i){var a=[];return this.eachLayer(function(d){a.push(d.toGeoJSON(i).geometry.coordinates)}),ai(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(i){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(i);var d=a==="GeometryCollection",g=[];return this.eachLayer(function(x){if(x.toGeoJSON){var k=x.toGeoJSON(i);if(d)g.push(k.geometry);else{var O=Xs(k);O.type==="FeatureCollection"?g.push.apply(g,O.features):g.push(O)}}}),d?ai(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function Yl(i,a){return new wn(i,a)}var cn=Yl,ir=un.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,a,d){this._url=i,this._bounds=ge(a),P(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ge(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Yr(this._image),this},bringToBack:function(){return this._map&&Nn(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=ge(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",a=this._image=i?this._url:Re("img");if(Ce(a,"leaflet-image-layer"),this._zoomAnimated&&Ce(a,"leaflet-zoom-animated"),this.options.className&&Ce(a,this.options.className),a.onselectstart=S,a.onmousemove=S,a.onload=h(this.fire,this,"load"),a.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(i){var a=this._map.getZoomScale(i.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;sn(this._image,d,a)},_reset:function(){var i=this._image,a=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=a.getSize();at(i,a.min),i.style.width=d.x+"px",i.style.height=d.y+"px"},_updateOpacity:function(){It(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Xl=function(i,a,d){return new ir(i,a,d)},ya=ir.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",a=this._image=i?this._url:Re("video");if(Ce(a,"leaflet-image-layer"),this._zoomAnimated&&Ce(a,"leaflet-zoom-animated"),this.options.className&&Ce(a,this.options.className),a.onselectstart=S,a.onmousemove=S,a.onloadeddata=h(this.fire,this,"load"),i){for(var d=a.getElementsByTagName("source"),g=[],x=0;x<d.length;x++)g.push(d[x].src);this._url=d.length>0?g:[a.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var O=Re("source");O.src=this._url[k],a.appendChild(O)}}});function Ql(i,a,d){return new ya(i,a,d)}var _a=ir.extend({_initImage:function(){var i=this._image=this._url;Ce(i,"leaflet-image-layer"),this._zoomAnimated&&Ce(i,"leaflet-zoom-animated"),this.options.className&&Ce(i,this.options.className),i.onselectstart=S,i.onmousemove=S}});function wa(i,a,d){return new _a(i,a,d)}var xn=un.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,a){i&&(i instanceof de||M(i))?(this._latlng=ae(i),P(this,a)):(P(this,i),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&It(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&It(this._container,1),this.bringToFront(),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(It(this._container,0),this._removeTimeout=setTimeout(h(Ge,void 0,this._container),200)):Ge(this._container),this.options.interactive&&(Ze(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=ae(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Yr(this._container),this},bringToBack:function(){return this._map&&Nn(this._container),this},_prepareOpen:function(i){var a=this._source;if(!a._map)return!1;if(a instanceof Bn){a=null;var d=this._source._layers;for(var g in d)if(d[g]._map){a=d[g];break}if(!a)return!1;this._source=a}if(!i)if(a.getCenter)i=a.getCenter();else if(a.getLatLng)i=a.getLatLng();else if(a.getBounds)i=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")i.innerHTML=a;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),a=K(this.options.offset),d=this._getAnchor();this._zoomAnimated?at(this._container,i.add(d)):a=a.add(i).add(d);var g=this._containerBottom=-a.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=g+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});Ie.include({_initOverlay:function(i,a,d,g){var x=a;return x instanceof i||(x=new i(g).setContent(a)),d&&x.setLatLng(d),x}}),un.include({_initOverlay:function(i,a,d,g){var x=d;return x instanceof i?(P(x,g),x._source=this):(x=a&&!g?a:new i(g,this),x.setContent(d)),x}});var Qs=xn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,xn.prototype.openOn.call(this,i)},onAdd:function(i){xn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rr||this._source.on("preclick",_n))},onRemove:function(i){xn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rr||this._source.off("preclick",_n))},getEvents:function(){var i=xn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",a=this._container=Re("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Re("div",i+"-content-wrapper",a);if(this._contentNode=Re("div",i+"-content",d),qi(a),Us(this._contentNode),ke(a,"contextmenu",_n),this._tipContainer=Re("div",i+"-tip-container",a),this._tip=Re("div",i+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Re("a",i+"-close-button",a);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',ke(g,"click",function(x){tt(x),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,a=i.style;a.width="",a.whiteSpace="nowrap";var d=i.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),a.width=d+1+"px",a.whiteSpace="",a.height="";var g=i.offsetHeight,x=this.options.maxHeight,k="leaflet-popup-scrolled";x&&g>x?(a.height=x+"px",Ce(i,k)):Ze(i,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),d=this._getAnchor();at(this._container,a.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,a=parseInt(Wi(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+a,g=this._containerWidth,x=new Z(this._containerLeft,-d-this._containerBottom);x._add(jn(this._container));var k=i.layerPointToContainerPoint(x),O=K(this.options.autoPanPadding),V=K(this.options.autoPanPaddingTopLeft||O),W=K(this.options.autoPanPaddingBottomRight||O),Y=i.getSize(),se=0,_e=0;k.x+g+W.x>Y.x&&(se=k.x+g-Y.x+W.x),k.x-se-V.x<0&&(se=k.x-V.x),k.y+d+W.y>Y.y&&(_e=k.y+d-Y.y+W.y),k.y-_e-V.y<0&&(_e=k.y-V.y),(se||_e)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([se,_e]))}},_getAnchor:function(){return K(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),li=function(i,a){return new Qs(i,a)};Ie.mergeOptions({closePopupOnClick:!0}),Ie.include({openPopup:function(i,a,d){return this._initOverlay(Qs,i,a,d).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),un.include({bindPopup:function(i,a){return this._popup=this._initOverlay(Qs,this._popup,i,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Bn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){an(i);var a=i.layer||i.target;if(this._popup._source===a&&!(a instanceof rr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=a,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var ui=xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){xn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){xn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=xn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",a=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Re("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var a,d,g=this._map,x=this._container,k=g.latLngToContainerPoint(g.getCenter()),O=g.layerPointToContainerPoint(i),V=this.options.direction,W=x.offsetWidth,Y=x.offsetHeight,se=K(this.options.offset),_e=this._getAnchor();V==="top"?(a=W/2,d=Y):V==="bottom"?(a=W/2,d=0):V==="center"?(a=W/2,d=Y/2):V==="right"?(a=0,d=Y/2):V==="left"?(a=W,d=Y/2):O.x<k.x?(V="right",a=0,d=Y/2):(V="left",a=W+(se.x+_e.x)*2,d=Y/2),i=i.subtract(K(a,d,!0)).add(se).add(_e),Ze(x,"leaflet-tooltip-right"),Ze(x,"leaflet-tooltip-left"),Ze(x,"leaflet-tooltip-top"),Ze(x,"leaflet-tooltip-bottom"),Ce(x,"leaflet-tooltip-"+V),at(x,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&It(this._container,i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(a)},_getAnchor:function(){return K(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),es=function(i,a){return new ui(i,a)};Ie.include({openTooltip:function(i,a,d){return this._initOverlay(ui,i,a,d).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),un.include({bindTooltip:function(i,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ui,this._tooltip,i,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var a=i?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[a](d),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Bn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&(ke(a,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),ke(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var a=i.latlng,d,g;this._tooltip.options.sticky&&i.originalEvent&&(d=this._map.mouseEventToContainerPoint(i.originalEvent),g=this._map.containerPointToLayerPoint(d),a=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(a)}});var eo=br.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var a=i&&i.tagName==="DIV"?i:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Ms(a),a.appendChild(d.html)):a.innerHTML=d.html!==!1?d.html:"",d.bgPos){var g=K(d.bgPos);a.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function eu(i){return new eo(i)}br.Default=si;var sr=un.extend({options:{tileSize:256,opacity:1,updateWhenIdle:fe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){P(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Ge(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Yr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Nn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof Z?i:new Z(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var a=this.getPane().children,d=-i(-1/0,1/0),g=0,x=a.length,k;g<x;g++)k=a[g].style.zIndex,a[g]!==this._container&&k&&(d=i(d,+k));isFinite(d)&&(this.options.zIndex=d+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!fe.ielt9){It(this._container,this.options.opacity);var i=+new Date,a=!1,d=!1;for(var g in this._tiles){var x=this._tiles[g];if(!(!x.current||!x.loaded)){var k=Math.min(1,(i-x.loaded)/200);It(x.el,k),k<1?a=!0:(x.active?d=!0:this._onOpaqueTile(x),x.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),a&&(Fe(this._fadeFrame),this._fadeFrame=Be(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=Re("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,a=this.options.maxZoom;if(i!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===i?(this._levels[d].el.style.zIndex=a-Math.abs(i-d),this._onUpdateLevel(d)):(Ge(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var g=this._levels[i],x=this._map;return g||(g=this._levels[i]={},g.el=Re("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=a,g.origin=x.project(x.unproject(x.getPixelOrigin()),i).round(),g.zoom=i,this._setZoomTransform(g,x.getCenter(),x.getZoom()),S(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var i,a,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)a=this._tiles[i],a.retain=a.current;for(i in this._tiles)if(a=this._tiles[i],a.current&&!a.active){var g=a.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var a in this._tiles)this._tiles[a].coords.z===i&&this._removeTile(a)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Ge(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,a,d,g){var x=Math.floor(i/2),k=Math.floor(a/2),O=d-1,V=new Z(+x,+k);V.z=+O;var W=this._tileCoordsToKey(V),Y=this._tiles[W];return Y&&Y.active?(Y.retain=!0,!0):(Y&&Y.loaded&&(Y.retain=!0),O>g?this._retainParent(x,k,O,g):!1)},_retainChildren:function(i,a,d,g){for(var x=2*i;x<2*i+2;x++)for(var k=2*a;k<2*a+2;k++){var O=new Z(x,k);O.z=d+1;var V=this._tileCoordsToKey(O),W=this._tiles[V];if(W&&W.active){W.retain=!0;continue}else W&&W.loaded&&(W.retain=!0);d+1<g&&this._retainChildren(x,k,d+1,g)}},_resetView:function(i){var a=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var a=this.options;return a.minNativeZoom!==void 0&&i<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<i?a.maxNativeZoom:i},_setView:function(i,a,d,g){var x=Math.round(a);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var k=this.options.updateWhenZooming&&x!==this._tileZoom;(!g||k)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(i),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(i,a)},_setZoomTransforms:function(i,a){for(var d in this._levels)this._setZoomTransform(this._levels[d],i,a)},_setZoomTransform:function(i,a,d){var g=this._map.getZoomScale(d,i.zoom),x=i.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(a,d)).round();fe.any3d?sn(i.el,x,g):at(i.el,x)},_resetGrid:function(){var i=this._map,a=i.options.crs,d=this._tileSize=this.getTileSize(),g=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,a.wrapLng[0]],g).x/d.x),Math.ceil(i.project([0,a.wrapLng[1]],g).x/d.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([a.wrapLat[0],0],g).y/d.x),Math.ceil(i.project([a.wrapLat[1],0],g).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var a=this._map,d=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),g=a.getZoomScale(d,this._tileZoom),x=a.project(i,this._tileZoom).floor(),k=a.getSize().divideBy(g*2);return new D(x.subtract(k),x.add(k))},_update:function(i){var a=this._map;if(a){var d=this._clampZoom(a.getZoom());if(i===void 0&&(i=a.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(i),x=this._pxBoundsToTileRange(g),k=x.getCenter(),O=[],V=this.options.keepBuffer,W=new D(x.getBottomLeft().subtract([V,-V]),x.getTopRight().add([V,-V]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Y in this._tiles){var se=this._tiles[Y].coords;(se.z!==this._tileZoom||!W.contains(new Z(se.x,se.y)))&&(this._tiles[Y].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(i,d);return}for(var _e=x.min.y;_e<=x.max.y;_e++)for(var Le=x.min.x;Le<=x.max.x;Le++){var vt=new Z(Le,_e);if(vt.z=this._tileZoom,!!this._isValidTile(vt)){var dt=this._tiles[this._tileCoordsToKey(vt)];dt?dt.current=!0:O.push(vt)}}if(O.sort(function(Nt,pi){return Nt.distanceTo(k)-pi.distanceTo(k)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wt=document.createDocumentFragment();for(Le=0;Le<O.length;Le++)this._addTile(O[Le],Wt);this._level.el.appendChild(Wt)}}}},_isValidTile:function(i){var a=this._map.options.crs;if(!a.infinite){var d=this._globalTileRange;if(!a.wrapLng&&(i.x<d.min.x||i.x>d.max.x)||!a.wrapLat&&(i.y<d.min.y||i.y>d.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(i);return ge(this.options.bounds).overlaps(g)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var a=this._map,d=this.getTileSize(),g=i.scaleBy(d),x=g.add(d),k=a.unproject(g,i.z),O=a.unproject(x,i.z);return[k,O]},_tileCoordsToBounds:function(i){var a=this._tileCoordsToNwSe(i),d=new ye(a[0],a[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var a=i.split(":"),d=new Z(+a[0],+a[1]);return d.z=+a[2],d},_removeTile:function(i){var a=this._tiles[i];a&&(Ge(a.el),delete this._tiles[i],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Ce(i,"leaflet-tile");var a=this.getTileSize();i.style.width=a.x+"px",i.style.height=a.y+"px",i.onselectstart=S,i.onmousemove=S,fe.ielt9&&this.options.opacity<1&&It(i,this.options.opacity)},_addTile:function(i,a){var d=this._getTilePos(i),g=this._tileCoordsToKey(i),x=this.createTile(this._wrapCoords(i),h(this._tileReady,this,i));this._initTile(x),this.createTile.length<2&&Be(h(this._tileReady,this,i,null,x)),at(x,d),this._tiles[g]={el:x,coords:i,current:!0},a.appendChild(x),this.fire("tileloadstart",{tile:x,coords:i})},_tileReady:function(i,a,d){a&&this.fire("tileerror",{error:a,tile:d,coords:i});var g=this._tileCoordsToKey(i);d=this._tiles[g],d&&(d.loaded=+new Date,this._map._fadeAnimated?(It(d.el,0),Fe(this._fadeFrame),this._fadeFrame=Be(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),a||(Ce(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),fe.ielt9||!this._map._fadeAnimated?Be(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var a=new Z(this._wrapX?w(i.x,this._wrapX):i.x,this._wrapY?w(i.y,this._wrapY):i.y);return a.z=i.z,a},_pxBoundsToTileRange:function(i){var a=this.getTileSize();return new D(i.min.unscaleBy(a).floor(),i.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function ci(i){return new sr(i)}var or=sr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,a){this._url=i,a=P(this,a),a.detectRetina&&fe.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,a){return this._url===i&&a===void 0&&(a=!0),this._url=i,a||this.redraw(),this},createTile:function(i,a){var d=document.createElement("img");return ke(d,"load",h(this._tileOnLoad,this,a,d)),ke(d,"error",h(this._tileOnError,this,a,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(i),d},getTileUrl:function(i){var a={r:fe.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-i.y;this.options.tms&&(a.y=d),a["-y"]=d}return U(this._url,u(a,this.options))},_tileOnLoad:function(i,a){fe.ielt9?setTimeout(h(i,this,null,a),0):i(null,a)},_tileOnError:function(i,a,d){var g=this.options.errorTileUrl;g&&a.getAttribute("src")!==g&&(a.src=g),i(d,a)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,a=this.options.maxZoom,d=this.options.zoomReverse,g=this.options.zoomOffset;return d&&(i=a-i),i+g},_getSubdomain:function(i){var a=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var i,a;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(a=this._tiles[i].el,a.onload=S,a.onerror=S,!a.complete)){a.src=G;var d=this._tiles[i].coords;Ge(a),delete this._tiles[i],this.fire("tileabort",{tile:a,coords:d})}},_removeTile:function(i){var a=this._tiles[i];if(a)return a.el.setAttribute("src",G),sr.prototype._removeTile.call(this,i)},_tileReady:function(i,a,d){if(!(!this._map||d&&d.getAttribute("src")===G))return sr.prototype._tileReady.call(this,i,a,d)}});function xa(i,a){return new or(i,a)}var ts=or.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,a){this._url=i;var d=u({},this.defaultWmsParams);for(var g in a)g in this.options||(d[g]=a[g]);a=P(this,a);var x=a.detectRetina&&fe.retina?2:1,k=this.getTileSize();d.width=k.x*x,d.height=k.y*x,this.wmsParams=d},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,or.prototype.onAdd.call(this,i)},getTileUrl:function(i){var a=this._tileCoordsToNwSe(i),d=this._crs,g=q(d.project(a[0]),d.project(a[1])),x=g.min,k=g.max,O=(this._wmsVersion>=1.3&&this._crs===Kl?[x.y,x.x,k.y,k.x]:[x.x,x.y,k.x,k.y]).join(","),V=or.prototype.getTileUrl.call(this,i);return V+N(this.wmsParams,V,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(i,a){return u(this.wmsParams,i),a||this.redraw(),this}});function tu(i,a){return new ts(i,a)}or.WMS=ts,xa.wms=tu;var Sn=un.extend({options:{padding:.1},initialize:function(i){P(this,i),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,a){var d=this._map.getZoomScale(a,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,a),k=g.multiplyBy(-d).add(x).subtract(this._map._getNewPixelOrigin(i,a));fe.any3d?sn(this._container,k,d):at(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,a=this._map.getSize(),d=this._map.containerPointToLayerPoint(a.multiplyBy(-i)).round();this._bounds=new D(d,d.add(a.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Sa=Sn.extend({options:{tolerance:0},getEvents:function(){var i=Sn.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Sn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");ke(i,"mousemove",this._onMouseMove,this),ke(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ke(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Fe(this._redrawRequest),delete this._ctx,Ge(this._container),$e(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var a in this._layers)i=this._layers[a],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sn.prototype._update.call(this);var i=this._bounds,a=this._container,d=i.getSize(),g=fe.retina?2:1;at(a,i.min),a.width=g*d.x,a.height=g*d.y,a.style.width=d.x+"px",a.style.height=d.y+"px",fe.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Sn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[m(i)]=i;var a=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var a=i._order,d=a.next,g=a.prev;d?d.prev=g:this._drawLast=g,g?g.next=d:this._drawFirst=d,delete i._order,delete this._layers[m(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var a=i.options.dashArray.split(/[, ]+/),d=[],g,x;for(x=0;x<a.length;x++){if(g=Number(a[x]),isNaN(g))return;d.push(g)}i.options._dashArray=d}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||Be(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var a=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(i._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(i._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var a=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,a=this._redrawBounds;if(this._ctx.save(),a){var d=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)i=g.layer,(!a||i._pxBounds&&i._pxBounds.intersects(a))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,a){if(this._drawing){var d,g,x,k,O=i._parts,V=O.length,W=this._ctx;if(V){for(W.beginPath(),d=0;d<V;d++){for(g=0,x=O[d].length;g<x;g++)k=O[d][g],W[g?"lineTo":"moveTo"](k.x,k.y);a&&W.closePath()}this._fillStroke(W,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var a=i._point,d=this._ctx,g=Math.max(Math.round(i._radius),1),x=(Math.max(Math.round(i._radiusY),1)||g)/g;x!==1&&(d.save(),d.scale(1,x)),d.beginPath(),d.arc(a.x,a.y/x,g,0,Math.PI*2,!1),x!==1&&d.restore(),this._fillStroke(d,i)}},_fillStroke:function(i,a){var d=a.options;d.fill&&(i.globalAlpha=d.fillOpacity,i.fillStyle=d.fillColor||d.color,i.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(i.setLineDash&&i.setLineDash(a.options&&a.options._dashArray||[]),i.globalAlpha=d.opacity,i.lineWidth=d.weight,i.strokeStyle=d.color,i.lineCap=d.lineCap,i.lineJoin=d.lineJoin,i.stroke())},_onClick:function(i){for(var a=this._map.mouseEventToLayerPoint(i),d,g,x=this._drawFirst;x;x=x.next)d=x.layer,d.options.interactive&&d._containsPoint(a)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(d))&&(g=d);this._fireEvent(g?[g]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,a)}},_handleMouseOut:function(i){var a=this._hoveredLayer;a&&(Ze(this._container,"leaflet-interactive"),this._fireEvent([a],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,a){if(!this._mouseHoverThrottled){for(var d,g,x=this._drawFirst;x;x=x.next)d=x.layer,d.options.interactive&&d._containsPoint(a)&&(g=d);g!==this._hoveredLayer&&(this._handleMouseOut(i),g&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([g],i,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,a,d){this._map._fireDOMEvent(a,d||a.type,i)},_bringToFront:function(i){var a=i._order;if(a){var d=a.next,g=a.prev;if(d)d.prev=g;else return;g?g.next=d:d&&(this._drawFirst=d),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(i)}},_bringToBack:function(i){var a=i._order;if(a){var d=a.next,g=a.prev;if(g)g.next=d;else return;d?d.prev=g:g&&(this._drawLast=g),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(i)}}});function ba(i){return fe.canvas?new Sa(i):null}var hi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),nu={_initContainer:function(){this._container=Re("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Sn.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var a=i._container=hi("shape");Ce(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",i._path=hi("path"),a.appendChild(i._path),this._updateStyle(i),this._layers[m(i)]=i},_addPath:function(i){var a=i._container;this._container.appendChild(a),i.options.interactive&&i.addInteractiveTarget(a)},_removePath:function(i){var a=i._container;Ge(a),i.removeInteractiveTarget(a),delete this._layers[m(i)]},_updateStyle:function(i){var a=i._stroke,d=i._fill,g=i.options,x=i._container;x.stroked=!!g.stroke,x.filled=!!g.fill,g.stroke?(a||(a=i._stroke=hi("stroke")),x.appendChild(a),a.weight=g.weight+"px",a.color=g.color,a.opacity=g.opacity,g.dashArray?a.dashStyle=M(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=g.lineCap.replace("butt","flat"),a.joinstyle=g.lineJoin):a&&(x.removeChild(a),i._stroke=null),g.fill?(d||(d=i._fill=hi("fill")),x.appendChild(d),d.color=g.fillColor||g.color,d.opacity=g.fillOpacity):d&&(x.removeChild(d),i._fill=null)},_updateCircle:function(i){var a=i._point.round(),d=Math.round(i._radius),g=Math.round(i._radiusY||d);this._setPath(i,i._empty()?"M0 0":"AL "+a.x+","+a.y+" "+d+","+g+" 0,"+65535*360)},_setPath:function(i,a){i._path.v=a},_bringToFront:function(i){Yr(i._container)},_bringToBack:function(i){Nn(i._container)}},hn=fe.vml?hi:$o,Tr=Sn.extend({_initContainer:function(){this._container=hn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ge(this._container),$e(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sn.prototype._update.call(this);var i=this._bounds,a=i.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,d.setAttribute("width",a.x),d.setAttribute("height",a.y)),at(d,i.min),d.setAttribute("viewBox",[i.min.x,i.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(i){var a=i._path=hn("path");i.options.className&&Ce(a,i.options.className),i.options.interactive&&Ce(a,"leaflet-interactive"),this._updateStyle(i),this._layers[m(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Ge(i._path),i.removeInteractiveTarget(i._path),delete this._layers[m(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var a=i._path,d=i.options;a&&(d.stroke?(a.setAttribute("stroke",d.color),a.setAttribute("stroke-opacity",d.opacity),a.setAttribute("stroke-width",d.weight),a.setAttribute("stroke-linecap",d.lineCap),a.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?a.setAttribute("stroke-dasharray",d.dashArray):a.removeAttribute("stroke-dasharray"),d.dashOffset?a.setAttribute("stroke-dashoffset",d.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),d.fill?(a.setAttribute("fill",d.fillColor||d.color),a.setAttribute("fill-opacity",d.fillOpacity),a.setAttribute("fill-rule",d.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(i,a){this._setPath(i,Wo(i._parts,a))},_updateCircle:function(i){var a=i._point,d=Math.max(Math.round(i._radius),1),g=Math.max(Math.round(i._radiusY),1)||d,x="a"+d+","+g+" 0 1,0 ",k=i._empty()?"M0 0":"M"+(a.x-d)+","+a.y+x+d*2+",0 "+x+-d*2+",0 ";this._setPath(i,k)},_setPath:function(i,a){i._path.setAttribute("d",a)},_bringToFront:function(i){Yr(i._path)},_bringToBack:function(i){Nn(i._path)}});fe.vml&&Tr.include(nu);function to(i){return fe.svg||fe.vml?new Tr(i):null}Ie.include({getRenderer:function(i){var a=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var a=this._paneRenderers[i];return a===void 0&&(a=this._createRenderer({pane:i}),this._paneRenderers[i]=a),a},_createRenderer:function(i){return this.options.preferCanvas&&ba(i)||to(i)}});var ru=Un.extend({initialize:function(i,a){Un.prototype.initialize.call(this,this._boundsToLatLngs(i),a)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=ge(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Hc(i,a){return new ru(i,a)}Tr.create=hn,Tr.pointsToPath=Wo,wn.geometryToLayer=oi,wn.coordsToLatLng=Gs,wn.coordsToLatLngs=Qi,wn.latLngToCoords=Js,wn.latLngsToCoords=Ys,wn.getFeature=ai,wn.asFeature=Xs,Ie.mergeOptions({boxZoom:!0});var di=Gt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){$e(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ge(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),je(),Ds(),this._startPoint=this._map.mouseEventToContainerPoint(i),ke(document,{contextmenu:an,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=Re("div","leaflet-zoom-box",this._container),Ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var a=new D(this._point,this._startPoint),d=a.getSize();at(this._box,a.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Ge(this._box),Ze(this._container,"leaflet-crosshair")),ei(),Bs(),$e(document,{contextmenu:an,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var a=new ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ie.addInitHook("addHandler","boxZoom",di),Ie.mergeOptions({doubleClickZoom:!0});var iu=Gt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var a=this._map,d=a.getZoom(),g=a.options.zoomDelta,x=i.originalEvent.shiftKey?d-g:d+g;a.options.doubleClickZoom==="center"?a.setZoom(x):a.setZoomAround(i.containerPoint,x)}});Ie.addInitHook("addHandler","doubleClickZoom",iu),Ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ta=Gt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new ln(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ze(this._map._container,"leaflet-grab"),Ze(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=ge(this._map.options.maxBounds);this._offsetLimit=q(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var a=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(a),this._prunePositions(a)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,a){return i-(i-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;i.x<a.min.x&&(i.x=this._viscousLimit(i.x,a.min.x)),i.y<a.min.y&&(i.y=this._viscousLimit(i.y,a.min.y)),i.x>a.max.x&&(i.x=this._viscousLimit(i.x,a.max.x)),i.y>a.max.y&&(i.y=this._viscousLimit(i.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,a=Math.round(i/2),d=this._initialWorldOffset,g=this._draggable._newPos.x,x=(g-a+d)%i+a-d,k=(g+a+d)%i-a-d,O=Math.abs(x+d)<Math.abs(k+d)?x:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(i){var a=this._map,d=a.options,g=!d.inertia||i.noInertia||this._times.length<2;if(a.fire("dragend",i),g)a.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,O=d.easeLinearity,V=x.multiplyBy(O/k),W=V.distanceTo([0,0]),Y=Math.min(d.inertiaMaxSpeed,W),se=V.multiplyBy(Y/W),_e=Y/(d.inertiaDeceleration*O),Le=se.multiplyBy(-_e/2).round();!Le.x&&!Le.y?a.fire("moveend"):(Le=a._limitOffset(Le,a.options.maxBounds),Be(function(){a.panBy(Le,{duration:_e,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Ie.addInitHook("addHandler","dragging",Ta),Ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ka=Gt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),ke(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),$e(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,a=document.documentElement,d=i.scrollTop||a.scrollTop,g=i.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(g,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var a=this._panKeys={},d=this.keyCodes,g,x;for(g=0,x=d.left.length;g<x;g++)a[d.left[g]]=[-1*i,0];for(g=0,x=d.right.length;g<x;g++)a[d.right[g]]=[i,0];for(g=0,x=d.down.length;g<x;g++)a[d.down[g]]=[0,i];for(g=0,x=d.up.length;g<x;g++)a[d.up[g]]=[0,-1*i]},_setZoomDelta:function(i){var a=this._zoomKeys={},d=this.keyCodes,g,x;for(g=0,x=d.zoomIn.length;g<x;g++)a[d.zoomIn[g]]=i;for(g=0,x=d.zoomOut.length;g<x;g++)a[d.zoomOut[g]]=-i},_addHooks:function(){ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){$e(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var a=i.keyCode,d=this._map,g;if(a in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(g=this._panKeys[a],i.shiftKey&&(g=K(g).multiplyBy(3)),d.options.maxBounds&&(g=d._limitOffset(K(g),d.options.maxBounds)),d.options.worldCopyJump){var x=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(g)));d.panTo(x)}else d.panBy(g)}else if(a in this._zoomKeys)d.setZoom(d.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;an(i)}}});Ie.addInitHook("addHandler","keyboard",ka),Ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var We=Gt.extend({addHooks:function(){ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){$e(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var a=zl(i),d=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var g=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),g),an(i)},_performZoom:function(){var i=this._map,a=i.getZoom(),d=this._map.options.zoomSnap||0;i._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,k=d?Math.ceil(x/d)*d:x,O=i._limitZoom(a+(this._delta>0?k:-k))-a;this._delta=0,this._startTime=null,O&&(i.options.scrollWheelZoom==="center"?i.setZoom(a+O):i.setZoomAround(this._lastMousePos,a+O))}});Ie.addInitHook("addHandler","scrollWheelZoom",We);var Ea=600;Ie.mergeOptions({tapHold:fe.touchNative&&fe.safari&&fe.mobile,tapTolerance:15});var ns=Gt.extend({addHooks:function(){ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){$e(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var a=i.touches[0];this._startPos=this._newPos=new Z(a.clientX,a.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(ke(document,"touchend",tt),ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),Ea),ke(document,"touchend touchcancel contextmenu",this._cancel,this),ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){$e(document,"touchend",tt),$e(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),$e(document,"touchend touchcancel contextmenu",this._cancel,this),$e(document,"touchmove",this._onMove,this)},_onMove:function(i){var a=i.touches[0];this._newPos=new Z(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,a){var d=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});d._simulated=!0,a.target.dispatchEvent(d)}});Ie.addInitHook("addHandler","tapHold",ns),Ie.mergeOptions({touchZoom:fe.touch,bounceAtZoomLimits:!0});var fi=Gt.extend({addHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ze(this._map._container,"leaflet-touch-zoom"),$e(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var a=this._map;if(!(!i.touches||i.touches.length!==2||a._animatingZoom||this._zooming)){var d=a.mouseEventToContainerPoint(i.touches[0]),g=a.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(d.add(g)._divideBy(2))),this._startDist=d.distanceTo(g),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),ke(document,"touchmove",this._onTouchMove,this),ke(document,"touchend touchcancel",this._onTouchEnd,this),tt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var a=this._map,d=a.mouseEventToContainerPoint(i.touches[0]),g=a.mouseEventToContainerPoint(i.touches[1]),x=d.distanceTo(g)/this._startDist;if(this._zoom=a.getScaleZoom(x,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&x<1||this._zoom>a.getMaxZoom()&&x>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var k=d._add(g)._divideBy(2)._subtract(this._centerPoint);if(x===1&&k.x===0&&k.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),Fe(this._animRequest);var O=h(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Be(O,this,!0),tt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Fe(this._animRequest),$e(document,"touchmove",this._onTouchMove,this),$e(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ie.addInitHook("addHandler","touchZoom",fi),Ie.BoxZoom=di,Ie.DoubleClickZoom=iu,Ie.Drag=Ta,Ie.Keyboard=ka,Ie.ScrollWheelZoom=We,Ie.TapHold=ns,Ie.TouchZoom=fi,n.Bounds=D,n.Browser=fe,n.CRS=Me,n.Canvas=Sa,n.Circle=Ks,n.CircleMarker=Zs,n.Class=Xe,n.Control=Ft,n.DivIcon=eo,n.DivOverlay=xn,n.DomEvent=Vs,n.DomUtil=Ki,n.Draggable=ln,n.Evented=Pe,n.FeatureGroup=Bn,n.GeoJSON=wn,n.GridLayer=sr,n.Handler=Gt,n.Icon=br,n.ImageOverlay=ir,n.LatLng=de,n.LatLngBounds=ye,n.Layer=un,n.LayerGroup=nr,n.LineUtil=Zl,n.Map=Ie,n.Marker=zn,n.Mixin=ua,n.Path=rr,n.Point=Z,n.PolyUtil=Mc,n.Polygon=Un,n.Polyline=$t,n.Popup=Qs,n.PosAnimation=Fs,n.Projection=zc,n.Rectangle=ru,n.Renderer=Sn,n.SVG=Tr,n.SVGOverlay=_a,n.TileLayer=or,n.Tooltip=ui,n.Transformation=Wr,n.Util=kt,n.VideoOverlay=ya,n.bind=h,n.bounds=q,n.canvas=ba,n.circle=Xi,n.circleMarker=Jl,n.control=tr,n.divIcon=eu,n.extend=u,n.featureGroup=ql,n.geoJSON=Yl,n.geoJson=cn,n.gridLayer=ci,n.icon=Gl,n.imageOverlay=Xl,n.latLng=ae,n.latLngBounds=ge,n.layerGroup=Yi,n.map=er,n.marker=Fc,n.point=K,n.polygon=Wc,n.polyline=$c,n.popup=li,n.rectangle=Hc,n.setOptions=P,n.stamp=m,n.svg=to,n.svgOverlay=wa,n.tileLayer=xa,n.tooltip=es,n.transformation=Hr,n.version=o,n.videoOverlay=Ql;var su=window.L;n.noConflict=function(){return window.L=su,this},window.L=n}))})(Ga,Ga.exports)),Ga.exports}var Sl=BC();const up=Zv(Sl);function cp(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function hp(t,e){return e==null?function(o,u){const c=A.useRef();return c.current||(c.current=t(o,u)),c}:function(o,u){const c=A.useRef();c.current||(c.current=t(o,u));const h=A.useRef(o),{instance:p}=c.current;return A.useEffect(function(){h.current!==o&&(e(p,o,h.current),h.current=o)},[p,o,u]),c}}function zC(t,e){A.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var c;(c=e.layerContainer)==null||c.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function w0(t){return function(n){const o=ap(),u=t(lp(n,o),o);return g0(o.map,n.attribution),_0(u.current,n.eventHandlers),zC(u.current,o),u}}function UC(t,e){const n=hp(t,e),o=w0(n);return IC(o)}function VC(t,e){const n=hp(t),o=jC(n,e);return MC(o)}function FC(t,e){const n=hp(t,e),o=w0(n);return NC(o)}function $C(t,e,n){const{opacity:o,zIndex:u}=e;o!=null&&o!==n.opacity&&t.setOpacity(o),u!=null&&u!==n.zIndex&&t.setZIndex(u)}function WC(){return ap().map}function mf(){return mf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},mf.apply(this,arguments)}function HC({bounds:t,boundsOptions:e,center:n,children:o,className:u,id:c,placeholder:h,style:p,whenReady:m,zoom:y,...w},S){const[b]=A.useState({className:u,id:c,style:p}),[E,C]=A.useState(null);A.useImperativeHandle(S,()=>(E==null?void 0:E.map)??null,[E]);const P=A.useCallback(z=>{if(z!==null&&E===null){const U=new Sl.Map(z,w);n!=null&&y!=null?U.setView(n,y):t!=null&&U.fitBounds(t,e),m!=null&&U.whenReady(m),C(AC(U))}},[]);A.useEffect(()=>()=>{E==null||E.map.remove()},[E]);const N=E?Ad.createElement(y0,{value:E},o):h??null;return Ad.createElement("div",mf({},b,{ref:P}),N)}const ZC=A.forwardRef(HC),Wv=UC(function({position:e,...n},o){const u=new Sl.Marker(e,n);return cp(u,OC(o,{overlayContainer:u}))},function(e,n,o){n.position!==o.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==o.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==o.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==o.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==o.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),Hv=VC(function(e,n){const o=new Sl.Popup(e,n.overlayContainer);return cp(o,n)},function(e,n,{position:o},u){A.useEffect(function(){const{instance:h}=e;function p(y){y.popup===h&&(h.update(),u(!0))}function m(y){y.popup===h&&u(!1)}return n.map.on({popupopen:p,popupclose:m}),n.overlayContainer==null?(o!=null&&h.setLatLng(o),h.openOn(n.map)):n.overlayContainer.bindPopup(h),function(){var w;n.map.off({popupopen:p,popupclose:m}),(w=n.overlayContainer)==null||w.unbindPopup(),n.map.removeLayer(h)}},[e,n,u,o])}),KC=FC(function({url:e,...n},o){const u=new Sl.TileLayer(e,lp(n,o));return cp(u,o)},function(e,n,o){$C(e,n,o);const{url:u}=n;u!=null&&u!==o.url&&e.setUrl(u)}),qC=up.divIcon({className:"custom-div-icon",html:'<div class="user-marker-pulse"></div><div class="user-marker-dot"></div>',iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-10]}),GC=up.divIcon({className:"custom-div-icon",html:'<div class="active-strategy-ring"></div><div class="active-strategy-pin"></div>',iconSize:[50,50],iconAnchor:[25,25],popupAnchor:[0,-10]}),JC=up.divIcon({className:"custom-div-icon",html:'<div style="background-color: #94a3b8; width: 12px; height: 12px; border-radius: 50%; opacity: 0.6; border: 1px solid white;"></div>',iconSize:[12,12],iconAnchor:[6,6],popupAnchor:[0,-5]}),Ld=[-6.9175,107.6191];function YC({userPos:t}){const e=WC(),n=()=>{t&&e.flyTo(t,15,{animate:!0,duration:1.5})};return I.jsx("button",{onClick:n,className:"absolute bottom-28 right-4 z-[400] w-12 h-12 bg-white text-slate-900 rounded-full shadow-lg flex items-center justify-center active:scale-95 transition-transform",children:I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})}function XC({recommendation:t}){if(!t)return null;const e=t.lat&&t.lng?`https://www.google.com/maps/dir/?api=1&destination=${t.lat},${t.lng}`:"#";return I.jsx("div",{className:"absolute bottom-6 left-4 right-20 z-[400] mx-auto max-w-sm",children:I.jsxs("div",{className:"backdrop-blur-md bg-white/95 shadow-2xl rounded-2xl p-4 border-l-4 border-l-yellow-400",children:[I.jsx("div",{className:"flex items-start justify-between",children:I.jsxs("div",{children:[I.jsx("h3",{className:"font-bold text-slate-900 text-lg leading-tight mb-1 font-outfit",children:t.title}),I.jsx("p",{className:"text-sm text-slate-600 font-medium leading-snug",children:t.subtitle})]})}),!t.isFree&&I.jsx("a",{href:e,target:"_blank",rel:"noreferrer",className:"mt-3 block w-full bg-slate-900 text-white text-center py-2 rounded-lg font-bold text-sm active:scale-95 transition-transform",children:" NAVIGASI"})]})})}function QC(){const[t,e]=A.useState([]),[n,o]=A.useState(null),[u,c]=A.useState(null),[h,p]=A.useState(!0);return A.useEffect(()=>{(async()=>{try{const{data:w,error:S}=await zr.from("strategic_spots").select("*");S?console.error("Error fetching spots:",S):e(w||[])}catch(w){console.error("Unexpected error:",w)}finally{p(!1)}})(),c(Ld);const y=setInterval(()=>{c(w=>w?[w[0]+(Math.random()-.5)*2e-4,w[1]+(Math.random()-.5)*2e-4]:Ld)},5e3);return()=>clearInterval(y)},[]),A.useEffect(()=>{const m=()=>{const w=new Date().getHours(),S=t.filter(b=>b.start_hour===void 0||b.end_hour===void 0?!1:b.start_hour<=w&&b.end_hour>w);if(S.length>0){const b=S[0],E=b.latitude||b.lat,C=b.longitude||b.lng;o({isFree:!1,title:` HOT SPOT JAM ${w}:00`,subtitle:`Geser ke ${b.name}. Strategi: ${b.notes||"Standby."}`,lat:E,lng:C})}else o({isFree:!0,title:" Mode Bebas / Ngetem Santai",subtitle:"Belum ada rotasi terjadwal. Cek area perumahan."})},y=setInterval(m,6e4);return h||m(),()=>clearInterval(y)},[t,h]),h?I.jsx("div",{className:"w-full h-[calc(100vh-64px)] flex items-center justify-center bg-slate-50",children:I.jsxs("div",{className:"text-center",children:[I.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-600 border-slate-200 rounded-full animate-spin mx-auto mb-4"}),I.jsx("p",{className:"font-outfit text-slate-600 font-bold animate-pulse",children:"Memuat Peta Strategis..."})]})}):I.jsxs("div",{className:"w-full h-[calc(100vh-64px)] relative z-0",children:[I.jsx(XC,{recommendation:n}),I.jsxs(ZC,{center:Ld,zoom:13,zoomControl:!1,scrollWheelZoom:!0,className:"w-full h-full",children:[I.jsx(KC,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),I.jsx(YC,{userPos:u}),u&&I.jsx(Wv,{position:u,icon:qC,children:I.jsx(Hv,{children:I.jsx("span",{className:"font-bold text-blue-600",children:"Posisi Anda"})})}),t.map(m=>{const y=m.latitude||m.lat,w=m.longitude||m.lng;if(!y||!w)return null;const S=new Date().getHours(),b=m.start_hour!==void 0&&m.end_hour!==void 0&&m.start_hour<=S&&m.end_hour>S,E=b?GC:JC;return I.jsx(Wv,{position:[y,w],icon:E,zIndexOffset:b?1e3:0,children:I.jsx(Hv,{className:"custom-popup",closeButton:!1,children:I.jsxs("div",{className:"p-1 min-w-[200px]",children:[I.jsx("div",{className:`text-xs font-bold uppercase tracking-wider mb-1 ${b?"text-yellow-600":"text-slate-400"}`,children:b?" ACTIVE NOW":"INACTIVE"}),I.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-1",children:m.name}),I.jsx("div",{className:"flex items-center gap-2 mb-2",children:I.jsxs("span",{className:"px-2 py-0.5 bg-slate-100 rounded text-xs font-mono font-bold text-slate-600 border border-slate-200",children:[m.start_hour,":00 - ",m.end_hour,":00"]})}),I.jsxs("p",{className:"text-sm text-slate-600 leading-snug bg-slate-50 p-2 rounded border border-slate-100 italic",children:['"',m.notes,'"']})]})})},m.id)})]})]})}function eR({session:t}){const{settings:e}=op(),[n,o]=A.useState([]),[u,c]=A.useState(!0);A.useEffect(()=>{h()},[t]);const h=async()=>{try{c(!0);const b=new Date;b.setHours(0,0,0,0);const E=new Date(b);E.setDate(E.getDate()+1);const{data:C,error:P}=await zr.from("orders").select("*").gte("created_at",b.toISOString()).lt("created_at",E.toISOString()).order("created_at",{ascending:!1});if(P)throw P;o(C||[])}catch(b){console.error("Error fetching orders:",b)}finally{c(!1)}},p=n.reduce((b,E)=>b+(E.net_profit||0),0),m=n.length,y=Math.min(100,Math.max(0,p/e.dailyTarget*100)),w=b=>new Intl.NumberFormat("id-ID").format(b),S=b=>new Date(b).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"});return u?I.jsx("div",{className:"flex flex-col h-full bg-maxim-bg p-4 space-y-4 pb-24 text-maxim-dark items-center justify-center",children:I.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-maxim-dark"})}):I.jsxs("div",{className:"flex flex-col h-full bg-maxim-bg p-4 space-y-4 pb-24 text-maxim-dark",children:[I.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[I.jsxs("div",{className:"flex justify-between items-start mb-4",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-widest",children:"Total Pendapatan"}),I.jsxs("h2",{className:"text-3xl font-bold text-maxim-dark mt-1",children:[I.jsx("span",{className:"text-sm font-normal text-gray-400 mr-1",children:"Rp"}),w(p)]})]}),I.jsxs("div",{className:"text-right",children:[I.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-widest",children:"Total Order"}),I.jsx("h2",{className:"text-3xl font-bold text-maxim-dark mt-1",children:m})]})]}),I.jsxs("div",{className:"mt-2",children:[I.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[I.jsxs("span",{className:"text-gray-400",children:["Target: Rp ",w(e.dailyTarget)]}),I.jsxs("span",{className:"font-bold text-maxim-dark",children:[Math.round(y),"%"]})]}),I.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5 overflow-hidden",children:I.jsx("div",{className:"bg-maxim-yellow h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${y}%`}})})]})]}),I.jsx("div",{className:"flex justify-between items-center px-2",children:I.jsx("h3",{className:"text-sm font-bold text-gray-600 uppercase tracking-wide",children:"Riwayat Order"})}),I.jsx("div",{className:"space-y-3 flex-1 overflow-y-auto",children:n.length===0?I.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400 space-y-3",children:[I.jsx("div",{className:"bg-gray-100 p-4 rounded-full",children:I.jsx(vC,{className:"w-8 h-8 text-gray-300"})}),I.jsxs("div",{className:"text-center",children:[I.jsx("p",{className:"font-medium",children:"Belum ada tarikan hari ini."}),I.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Semangat cari cuan!"})]})]}):n.map(b=>I.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[I.jsxs("div",{className:"flex flex-col",children:[I.jsx("span",{className:"text-xs text-gray-400 font-medium mb-0.5",children:S(b.created_at)}),I.jsxs("span",{className:"text-xs font-medium text-gray-300",children:[b.distance," km"]})]}),I.jsxs("div",{className:`text-base font-bold ${b.net_profit>0?"text-green-600":"text-red-500"}`,children:[b.net_profit>0?"+":"",w(b.net_profit)]})]},b.id))})]})}const tR=(t,e)=>{let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>t(...o),e)}};function nR({session:t,showToast:e}){const{settings:n,updateSettings:o}=op(),[u,c]=A.useState(!0),[h,p]=A.useState(!1);A.useEffect(()=>{(async()=>{if(t!=null&&t.user)try{c(!0);const{data:C,error:P}=await zr.from("profiles").select("*").eq("id",t.user.id).single();P&&P.code!=="PGRST116"&&console.error("Error fetching profile:",P),C&&o({vehicleType:C.vehicle_type||n.vehicleType,dailyTarget:C.daily_target||n.dailyTarget,driverName:C.full_name||n.driverName})}finally{c(!1)}})()},[t,o]);const m=A.useCallback(tR(async E=>{if(t!=null&&t.user){p(!0);try{const{error:C}=await zr.from("profiles").upsert({id:t.user.id,updated_at:new Date,vehicle_type:E.vehicleType,daily_target:E.dailyTarget,full_name:E.driverName});if(C)throw C;e&&e("Profil tersimpan di Cloud","success")}catch(C){console.error("Error saving profile:",C),e&&e("Gagal menyimpan profil","error")}finally{p(!1)}}},1e3),[t,e]),y=E=>{o(E),m({...n,...E})},w={matic_kecil:{label:"Matic Kecil (Beat/Mio)",efficiency:200},matic_besar:{label:"Matic Besar (NMAX/PCX)",efficiency:350},bebek:{label:"Motor Bebek",efficiency:250},sport:{label:"Motor Sport",efficiency:400}},S=E=>{const C=E.target.value,P=w[C];y({vehicleType:C,fuelEfficiency:P?P.efficiency:n.fuelEfficiency})},b=E=>new Intl.NumberFormat("id-ID").format(E);return I.jsxs("div",{className:"flex flex-col h-full bg-maxim-bg p-4 space-y-4 pb-24 overflow-y-auto",children:[I.jsxs("div",{className:"flex items-center justify-between mb-2",children:[I.jsxs("div",{className:"flex items-center space-x-3",children:[I.jsx("div",{className:"bg-maxim-yellow p-2 rounded-xl",children:I.jsx(pf,{className:"w-6 h-6 text-maxim-dark"})}),I.jsx("h1",{className:"text-2xl font-bold text-maxim-dark",children:"Profil Saya"})]}),h&&I.jsxs("span",{className:"text-xs text-gray-400 flex items-center animate-pulse",children:[I.jsx(mC,{className:"w-3 h-3 mr-1"})," Menyimpan..."]})]}),I.jsxs("section",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 space-y-4",children:[I.jsxs("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center",children:[I.jsx(pf,{className:"w-4 h-4 mr-2"})," Data Driver"]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Nama Panggilan"}),I.jsx("input",{type:"text",value:n.driverName,onChange:E=>y({driverName:E.target.value}),placeholder:"Contoh: Bang Jago",className:"w-full text-base p-3 rounded-xl border border-gray-200 focus:border-maxim-yellow focus:ring-1 focus:ring-maxim-yellow outline-none transition-all"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Target Pendapatan Harian (Rp)"}),I.jsxs("div",{className:"relative",children:[I.jsx("span",{className:"absolute left-3 top-3 text-gray-400",children:"Rp"}),I.jsx("input",{type:"number",value:n.dailyTarget,onChange:E=>y({dailyTarget:parseInt(E.target.value)||0}),placeholder:"200000",className:"w-full text-base p-3 pl-10 rounded-xl border border-gray-200 focus:border-maxim-yellow focus:ring-1 focus:ring-maxim-yellow outline-none transition-all"})]}),I.jsxs("p",{className:"text-[10px] text-gray-400 mt-1 text-right",children:["Target saat ini: ",I.jsxs("span",{className:"font-semibold text-maxim-dark",children:["Rp ",b(n.dailyTarget)]})]})]})]}),I.jsxs("section",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 space-y-4",children:[I.jsxs("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center",children:[I.jsx(uC,{className:"w-4 h-4 mr-2"})," Kendaraan"]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Jenis Motor"}),I.jsxs("div",{className:"relative",children:[I.jsx("select",{value:n.vehicleType,onChange:S,className:"w-full text-base p-3 pr-10 rounded-xl border border-gray-200 focus:border-maxim-yellow focus:ring-1 focus:ring-maxim-yellow outline-none transition-all appearance-none bg-white",children:Object.entries(w).map(([E,{label:C}])=>I.jsx("option",{value:E,children:C},E))}),I.jsx(hC,{className:"absolute right-3 top-3.5 w-5 h-5 text-gray-400 pointer-events-none"})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Konsumsi BBM (Rp/KM)"}),I.jsxs("div",{className:"relative",children:[I.jsx("span",{className:"absolute left-3 top-3 text-gray-400",children:"Rp"}),I.jsx("input",{type:"number",value:n.fuelEfficiency,onChange:E=>y({fuelEfficiency:parseInt(E.target.value)||0}),placeholder:"200",className:"w-full text-base p-3 pl-10 rounded-xl border border-gray-200 focus:border-maxim-yellow focus:ring-1 focus:ring-maxim-yellow outline-none transition-all"}),I.jsx("span",{className:"absolute right-3 top-3 text-gray-400 text-sm",children:"/ km"})]})]})]}),I.jsxs("section",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 space-y-4",children:[I.jsxs("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center",children:[I.jsx(kC,{className:"w-4 h-4 mr-2"})," Preferensi"]}),I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsx("div",{className:"text-sm font-bold text-gray-700",children:"Potongan Default"}),I.jsx("div",{className:"text-xs text-gray-400",children:"Otomatis terpilih saat buka aplikasi"})]}),I.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[I.jsx("button",{onClick:()=>o({defaultCommission:.1}),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all ${n.defaultCommission===.1?"bg-white shadow-sm text-maxim-dark":"text-gray-400"}`,children:"10%"}),I.jsx("button",{onClick:()=>o({defaultCommission:.15}),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all ${n.defaultCommission===.15?"bg-white shadow-sm text-maxim-dark":"text-gray-400"}`,children:"15%"})]})]}),I.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-50",children:[I.jsxs("div",{children:[I.jsx("div",{className:"text-sm font-bold text-gray-700",children:"Mode Gelap"}),I.jsx("div",{className:"text-xs text-gray-400",children:"Tampilan ramah mata malam hari"})]}),I.jsx("button",{onClick:()=>o({darkMode:!n.darkMode}),className:`w-12 h-7 rounded-full transition-colors relative ${n.darkMode?"bg-maxim-dark":"bg-gray-200"}`,children:I.jsx("div",{className:`w-5 h-5 rounded-full bg-white absolute top-1 transition-transform transform flex items-center justify-center ${n.darkMode?"translate-x-6":"translate-x-1"}`,children:n.darkMode?I.jsx(bC,{className:"w-3 h-3 text-maxim-dark"}):I.jsx(PC,{className:"w-3 h-3 text-yellow-500"})})})]})]}),I.jsxs("div",{className:"text-center mt-4",children:[I.jsx("p",{className:"text-[10px] text-gray-300",children:"Maximus Driver (Cloud Sync) v1.3"}),I.jsx("button",{className:"mt-2 text-xs text-red-400 hover:text-red-500",onClick:()=>zr.auth.signOut(),children:"Keluar (Sign Out)"})]})]})}const rR=()=>{const t=[{path:"/",label:"Hitung",icon:aC},{path:"/map",label:"Peta",icon:xC},{path:"/history",label:"Riwayat",icon:_C},{path:"/profile",label:"Profil",icon:pf}];return I.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 pb-safe z-50",children:I.jsx("div",{className:"flex justify-around items-center h-16 relative",children:t.map(e=>I.jsx(py,{to:e.path,className:({isActive:n})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors duration-200 group relative ${n?"text-maxim-dark":"text-gray-400 hover:text-gray-600"}`,children:({isActive:n})=>I.jsxs(I.Fragment,{children:[n&&I.jsx(Ao.div,{layoutId:"activeTab",className:"absolute -top-[1px] left-0 right-0 h-[2px] bg-maxim-yellow w-1/2 mx-auto rounded-full",initial:!1,transition:{type:"spring",stiffness:500,damping:30}}),I.jsx("div",{className:`p-1.5 rounded-xl transition-colors duration-200 ${n?"bg-maxim-yellow":"bg-transparent group-hover:bg-gray-50"}`,children:I.jsx(e.icon,{className:`w-6 h-6 ${n?"text-maxim-dark":"currentColor"}`,strokeWidth:2})}),I.jsx("span",{className:`text-xs font-medium transition-all duration-200 ${n?"font-bold":""}`,children:e.label})]})},e.path))})})};function iR({message:t,isVisible:e,type:n="success",onClose:o}){return A.useEffect(()=>{if(e){const u=setTimeout(()=>{o()},3e3);return()=>clearTimeout(u)}},[e,o]),e?I.jsx("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 rounded-full shadow-lg border flex items-center gap-2 transition-all duration-300 ${n==="success"?"bg-black text-white border-white/10":n==="warning"?"bg-yellow-400 text-black border-yellow-500":"bg-red-500 text-white border-red-600"}`,children:I.jsx("span",{className:"text-sm font-medium",children:t})}):null}const tc=({children:t})=>I.jsx(Ao.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"h-full",children:t});function sR({showToast:t,session:e}){const n=Ni();return I.jsx(c_,{mode:"wait",children:I.jsxs(ax,{location:n,children:[I.jsx(Ha,{path:"/",element:I.jsx(tc,{children:I.jsx(RC,{showToast:t,session:e})})}),I.jsx(Ha,{path:"/map",element:I.jsx(tc,{children:I.jsx(QC,{})})}),I.jsx(Ha,{path:"/history",element:I.jsx(tc,{children:I.jsx(eR,{showToast:t,session:e})})}),I.jsx(Ha,{path:"/profile",element:I.jsx(tc,{children:I.jsx(nR,{showToast:t,session:e})})})]},n.pathname)})}function oR(){const[t,e]=A.useState(null),[n,o]=A.useState(!0),[u,c]=A.useState({message:"",isVisible:!1,type:"success"});A.useEffect(()=>{zr.auth.getSession().then(({data:{session:y}})=>{e(y),o(!1)});const{data:{subscription:m}}=zr.auth.onAuthStateChange((y,w)=>{e(w),o(!1)});return()=>m.unsubscribe()},[]);const h=(m,y="success")=>{c({message:m,isVisible:!0,type:y})},p=()=>{c(m=>({...m,isVisible:!1}))};return n?I.jsx("div",{className:"flex items-center justify-center min-h-screen bg-maxim-bg",children:I.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-maxim-dark"})}):t?I.jsx(Ax,{children:I.jsxs("div",{className:"min-h-screen bg-maxim-bg text-maxim-dark font-sans pb-20",children:[I.jsx(sR,{showToast:h,session:t}),I.jsx(rR,{}),I.jsx(iR,{message:u.message,isVisible:u.isVisible,type:u.type,onClose:p})]})}):I.jsx(Q1,{})}uw.createRoot(document.getElementById("root")).render(I.jsx(A.StrictMode,{children:I.jsx(eC,{children:I.jsx(oR,{})})}));
